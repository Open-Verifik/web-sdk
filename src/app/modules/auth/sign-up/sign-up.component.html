<div class="flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0" *ngIf="signUpForm && project">
	<div
		*ngIf="projectFlow._id"
		class="md:flex md:items-center md:justify-end w-full sm:w-auto md:h-full md:w-1/2 py-8 px-4 sm:p-12 md:p-16 sm:rounded-2xl md:rounded-none sm:shadow md:shadow-none sm:bg-card"
	>
		<div class="w-full max-w-80 sm:w-80 mx-auto sm:mx-0">
			<!-- Logo -->
			<div class="w-12">
				<img [src]="project.branding.logo" />
			</div>

			<!-- Title -->
			<div class="mt-8 text-4xl font-extrabold tracking-tight leading-tight">{{ "signup.title" | transloco }}</div>
			<div class="flex items-baseline mt-0.5 font-medium">
				<div>{{ "signup.auth_question" | transloco }}</div>
				<a class="ml-1 text-primary-500 hover:underline" [routerLink]="['/sign-in', project._id]">{{ "signup.auth_link" | transloco }} </a>
			</div>

			<!-- Alert -->
			<fuse-alert
				class="mt-8"
				*ngIf="showAlert"
				[appearance]="'outline'"
				[showIcon]="false"
				[type]="alert.type"
				[@shake]="alert.type === 'error'"
			>
				{{ alert.message }}
			</fuse-alert>

			<!-- Sign Up form -->
			<form class="mt-8" [formGroup]="signUpForm" #signUpNgForm="ngForm">
				<!-- Name field -->
				<mat-form-field class="w-full" *ngIf="fields.fullName && !fields.firstName">
					<mat-label>{{ "signup.fullName" | transloco }}</mat-label>
					<input id="fullName" matInput [formControlName]="'fullName'" />
					<mat-error *ngIf="signUpForm.get('fullName').hasError('required')">
						{{ "signup.fullName" | transloco }} {{ "signup.is_required" | transloco }}
					</mat-error>
				</mat-form-field>

				<div fxLayout="row" fxLayoutAlign="start center" *ngIf="!fields.fullName && fields.firstName">
					<mat-form-field class="w-full mr-2" *ngIf="fields.firstName">
						<mat-label>{{ "signup.firstName" | transloco }}</mat-label>
						<input id="firstName" matInput [formControlName]="'firstName'" />
						<mat-error *ngIf="signUpForm.get('firstName').hasError('required')">
							{{ "signup.firstName" | transloco }} {{ "signup.is_required" | transloco }}
						</mat-error>
					</mat-form-field>

					<mat-form-field class="w-full" *ngIf="fields.lastName">
						<mat-label>{{ "signup.lastName" | transloco }}</mat-label>
						<input id="lastName" matInput [formControlName]="'lastName'" />
						<mat-error *ngIf="signUpForm.get('lastName').hasError('required')">
							{{ "signup.lastName" | transloco }} {{ "signup.is_required" | transloco }}
						</mat-error>
					</mat-form-field>
				</div>

				<!-- Email field -->
				<mat-form-field class="w-full" *ngIf="fields.email">
					<mat-label>{{ "login.email" | transloco }}</mat-label>
					<input id="email" matInput [formControlName]="'email'" />
					<mat-error *ngIf="signUpForm.get('email').hasError('required')">
						{{ "login.email" | transloco }} {{ "signup.is_required" | transloco }}
					</mat-error>
					<mat-error *ngIf="signUpForm.get('email').hasError('email')">
						{{ "signup.please_enter_a_valid" | transloco }} {{ "login.email" | transloco }}
					</mat-error>
				</mat-form-field>

				<div *ngIf="fields.phone" fxLayout="row" fxLayoutAlign="start center">
					<mat-form-field class="w-full mr-2">
						<mat-label> {{ "login.country_code" | transloco }}</mat-label>
						<mat-select *ngIf="countries" class="mr-1.5" [formControl]="signUpForm.get('countryCode')" matPrefix>
							<mat-select-trigger>
								<span class="flex items-center">
									<span class="sm:mx-0.5 font-medium text-default">{{ signUpForm.get("countryCode").value }}</span>
								</span>
							</mat-select-trigger>
							<ng-container *ngFor="let country of countries">
								<mat-option [value]="country.code">
									<span class="flex items-center">
										<span class="ml-2">{{ country.name }}</span>
										<span class="ml-2 font-medium">{{ country.code }}</span>
									</span>
								</mat-option>
							</ng-container>
						</mat-select>
					</mat-form-field>

					<mat-form-field class="w-full">
						<mat-label>{{ "login.phone" | transloco }}</mat-label>
						<input id="phone" matInput [formControlName]="'phone'" />
						<mat-error *ngIf="signUpForm.get('phone').hasError('required')">
							{{ "login.phone" | transloco }} {{ "signup.is_required" | transloco }}
						</mat-error>
						<mat-error *ngIf="signUpForm.get('phone').hasError('phone')">
							{{ "signup.please_enter_a_valid" | transloco }} {{ "login.phone" | transloco }}
						</mat-error>
					</mat-form-field>
				</div>

				<!-- Password field -->
				<!-- <mat-form-field class="w-full">
					<mat-label>Password</mat-label>
					<input id="password" matInput type="password" [formControlName]="'password'" #passwordField />
					<button
						mat-icon-button
						type="button"
						(click)="passwordField.type === 'password' ? (passwordField.type = 'text') : (passwordField.type = 'password')"
						matSuffix
					>
						<mat-icon class="icon-size-5" *ngIf="passwordField.type === 'password'" [svgIcon]="'heroicons_solid:eye'"></mat-icon>
						<mat-icon class="icon-size-5" *ngIf="passwordField.type === 'text'" [svgIcon]="'heroicons_solid:eye-slash'"></mat-icon>
					</button>
					<mat-error> Password is required </mat-error>
				</mat-form-field> -->

				<!-- Company field -->
				<mat-form-field class="w-full" *ngIf="fields.company">
					<mat-label>{{ "signup.company" | transloco }}</mat-label>
					<input id="company-confirm" matInput [formControlName]="'company'" />
				</mat-form-field>

				<mat-form-field class="w-full mr-2" *ngIf="fields.role && roles">
					<mat-label> {{ "signup.role" | transloco }}</mat-label>
					<mat-select class="mr-1.5" [formControl]="signUpForm.get('role')" matPrefix>
						<mat-select-trigger>
							<span class="flex items-center">
								<span class="sm:mx-0.5 font-medium text-default">{{ signUpForm.get("role").value }}</span>
							</span>
						</mat-select-trigger>
						<ng-container *ngFor="let role of roles">
							<mat-option [value]="role.code">
								<span class="flex items-center">
									<span class="ml-2">{{ role.label | transloco }}</span>
								</span>
							</mat-option>
						</ng-container>
					</mat-select>
				</mat-form-field>

				<!-- ToS and PP -->
				<div class="inline-flex items-end w-full mt-1.5" *ngIf="fields.agreements">
					<mat-checkbox class="-ml-2" [color]="'primary'" [formControlName]="'agreements'">
						<span>{{ "signup.agreement1" | transloco }} </span>
						<a
							class="ml-1 text-primary-500 hover:underline"
							[routerLink]="['./']"
							*ngIf="this.OnboardingSignUpForm.showTermsAndConditions"
							>{{ "signup.terms" | transloco }}
						</a>

						<span *ngIf="this.OnboardingSignUpForm.showTermsAndConditions && OnboardingSignUpForm.showPrivacyNotice">{{
							"signup.and" | transloco
						}}</span>

						<a class="ml-1 text-primary-500 hover:underline" [routerLink]="['./']" *ngIf="OnboardingSignUpForm.showPrivacyNotice"
							>{{ "signup.privacyPolicy" | transloco }}
						</a>
					</mat-checkbox>
				</div>

				<!-- Submit button -->
				<button
					class="fuse-mat-button-large w-full mt-6"
					mat-flat-button
					[color]="'primary'"
					[disabled]="signUpForm.disabled"
					(click)="signUp()"
				>
					<span *ngIf="!signUpForm.disabled">{{ "signup.create_account_button" | transloco }}</span>
					<mat-progress-spinner *ngIf="signUpForm.disabled" [diameter]="24" [mode]="'indeterminate'"></mat-progress-spinner>
				</button>
			</form>
		</div>
	</div>

	<!-- projectFlow is not set yet -->
	<div
		*ngIf="!projectFlow._id"
		class="md:flex md:items-center md:justify-end w-full sm:w-auto md:h-full md:w-1/2 py-8 px-4 sm:p-12 md:p-16 sm:rounded-2xl md:rounded-none sm:shadow md:shadow-none sm:bg-card"
	>
		<div class="w-full max-w-80 sm:w-80 mx-auto sm:mx-0">
			<!-- Logo -->
			<div class="w-12">
				<img [src]="project.branding.logo" />
			</div>

			<!-- Title -->
			<div class="mt-8 text-4xl font-extrabold tracking-tight leading-tight">
				{{ "signup.project_flow_not_set" | transloco }}
			</div>
			<div class="flex items-baseline mt-0.5 font-medium">
				<div>{{ "signup.project_flow_not_set_description" | transloco }}</div>
			</div>
		</div>
	</div>

	<div class="relative hidden md:flex flex-auto items-center justify-center w-1/2 h-full p-16 lg:px-28 overflow-hidden bg-gray-800 dark:border-l">
		<div class="z-10 relative w-full max-w-2xl"></div>
	</div>
</div>

"use strict";(self.webpackChunkverifik_sdk_app=self.webpackChunkverifik_sdk_app||[]).push([[643],{94643:function(t,e,o){o.r(e),o.d(e,{KycModule:function(){return He}});var i=o(38583),n=o(37716),r=o(63423);let a=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-kyc-routes-root"]],decls:1,vars:0,template:function(t,e){1&t&&n._UZ(0,"router-outlet")},directives:[r.lC],styles:[""]}),t})();var s=o(79765),c=o(46782),l=o(51374),p=o(91812),d=o(1400),u=o(42096),m=o(23017),g=o(20303),f=o(65939),h=o(51095),x=o(76627),Z=o(12178),b=o(3679),_=o(98295),v=o(49983),y=o(43220),w=o(67441),A=o(72458);function k(t,e){if(1&t&&(n.TgZ(0,"mat-form-field",16),n.TgZ(1,"mat-label"),n._uU(2),n.ALo(3,"transloco"),n.qZA(),n._UZ(4,"mat-icon",17),n._UZ(5,"input",18),n._UZ(6,"mat-datepicker-toggle",19),n._UZ(7,"mat-datepicker",null,20),n.qZA()),2&t){const t=n.MAs(8);n.xp6(2),n.Oqu(n.lcZ(3,6,"kyc.basic.dateOfBirth")),n.xp6(2),n.Q6J("svgIcon","heroicons_solid:cake"),n.xp6(1),n.Q6J("matDatepicker",t)("formControlName","dateOfBirth")("placeholder","Birthday"),n.xp6(1),n.Q6J("for",t)}}function q(t,e){1&t&&(n.TgZ(0,"mat-form-field",21),n.TgZ(1,"mat-label",7),n._uU(2),n.ALo(3,"transloco"),n.qZA(),n._UZ(4,"input",22),n.qZA()),2&t&&(n.xp6(2),n.hij(" ",n.lcZ(3,2,"kyc.basic.age")," "),n.xp6(2),n.Q6J("formControlName","age"))}function T(t,e){if(1&t&&(n.ynx(0),n.TgZ(1,"mat-option",28),n.TgZ(2,"span",25),n.TgZ(3,"span",29),n._uU(4),n.ALo(5,"transloco"),n.qZA(),n.qZA(),n.qZA(),n.BQk()),2&t){const t=e.$implicit;n.xp6(1),n.Q6J("value",t.code),n.xp6(3),n.Oqu(n.lcZ(5,2,t.name))}}const I=function(){return{code:"M",name:"male"}},C=function(){return{code:"F",name:"female"}},F=function(t,e){return[t,e]};function S(t,e){if(1&t&&(n.TgZ(0,"mat-form-field",23),n.TgZ(1,"mat-label",7),n._uU(2),n.ALo(3,"transloco"),n.qZA(),n.TgZ(4,"mat-select",24),n.TgZ(5,"mat-select-trigger"),n.TgZ(6,"span",25),n.TgZ(7,"span",26),n._uU(8),n.ALo(9,"transloco"),n.qZA(),n.qZA(),n.qZA(),n.YNc(10,T,6,4,"ng-container",27),n.qZA(),n.qZA()),2&t){const t=n.oxw();n.xp6(2),n.hij(" ",n.lcZ(3,4,"kyc.basic.gender")," "),n.xp6(2),n.Q6J("formControl",t.basicInformationForm.get("gender")),n.xp6(4),n.Oqu(n.lcZ(9,6,t.basicInformationForm.get("gender").value)),n.xp6(2),n.Q6J("ngForOf",n.WLB(10,F,n.DdM(8,I),n.DdM(9,C)))}}function O(t,e){1&t&&(n.TgZ(0,"div",5),n.TgZ(1,"mat-form-field",21),n.TgZ(2,"mat-label",7),n._uU(3),n.ALo(4,"transloco"),n.qZA(),n._UZ(5,"input",30),n.qZA(),n.TgZ(6,"mat-form-field",23),n.TgZ(7,"mat-label",7),n._uU(8),n.ALo(9,"transloco"),n.qZA(),n._UZ(10,"input",31),n.qZA(),n.qZA()),2&t&&(n.xp6(3),n.hij(" ",n.lcZ(4,4,"kyc.basic.address")," "),n.xp6(2),n.Q6J("formControlName","address"),n.xp6(3),n.hij(" ",n.lcZ(9,6,"kyc.basic.city")," "),n.xp6(2),n.Q6J("formControlName","city"))}function j(t,e){1&t&&(n.TgZ(0,"div",5),n.TgZ(1,"mat-form-field",21),n.TgZ(2,"mat-label",7),n._uU(3),n.ALo(4,"transloco"),n.qZA(),n._UZ(5,"input",32),n.qZA(),n.qZA()),2&t&&(n.xp6(3),n.hij(" ",n.lcZ(4,2,"kyc.basic.postalCode")," "),n.xp6(2),n.Q6J("formControlName","postalCode"))}function N(t,e){if(1&t&&(n.ynx(0),n.TgZ(1,"mat-option",28),n.TgZ(2,"span",25),n.TgZ(3,"span",29),n._uU(4),n.ALo(5,"transloco"),n.qZA(),n.qZA(),n.qZA(),n.BQk()),2&t){const t=e.$implicit;n.xp6(1),n.Q6J("value",t.code),n.xp6(3),n.hij(" ",n.lcZ(5,2,t.name)," ")}}function Q(t,e){if(1&t&&(n.TgZ(0,"mat-select",37),n.TgZ(1,"mat-select-trigger"),n.TgZ(2,"span",25),n.TgZ(3,"span",26),n._uU(4),n.qZA(),n.qZA(),n.qZA(),n.YNc(5,N,6,4,"ng-container",27),n.qZA()),2&t){const t=n.oxw(2);n.Q6J("formControlName","documentType"),n.xp6(4),n.Oqu(t.basicInformationForm.get("documentType").value),n.xp6(1),n.Q6J("ngForOf",t.documentTypes)}}function J(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1),n.ALo(2,"transloco"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"start.required_document_number")," "))}function U(t,e){if(1&t&&(n.TgZ(0,"mat-form-field",38),n.TgZ(1,"mat-label"),n._uU(2),n.ALo(3,"transloco"),n.qZA(),n._UZ(4,"input",39),n.YNc(5,J,3,3,"mat-error",40),n.qZA()),2&t){const t=n.oxw(2);n.xp6(2),n.hij(" ",n.lcZ(3,3,"start.document_number"),""),n.xp6(2),n.Q6J("formControlName","documentNumber"),n.xp6(1),n.Q6J("ngIf",t.basicInformationForm.get("documentNumber").hasError("required"))}}function M(t,e){if(1&t&&(n.TgZ(0,"div",33),n.TgZ(1,"mat-form-field",34),n.TgZ(2,"mat-label"),n._uU(3),n.ALo(4,"transloco"),n.qZA(),n.YNc(5,Q,6,3,"mat-select",35),n.qZA(),n.YNc(6,U,6,5,"mat-form-field",36),n.qZA()),2&t){const t=n.oxw();n.xp6(3),n.hij(" ",n.lcZ(4,3,"start.document_type"),""),n.xp6(2),n.Q6J("ngIf",t.documentTypes),n.xp6(1),n.Q6J("ngIf",t.groupFields.documentNumber)}}let P=(()=>{class t{constructor(t,e,o,i){this._KycService=t,this._changeDetectorRef=e,this._formBuilder=o,this._router=i,this._unsubscribeAll=new s.xQ,this.countryCodes=this._KycService.countryCodes,this.documentTypes=[{code:"CC",name:"document_types.cc"},{code:"CCVE",name:"document_types.ccve"},{code:"PA",name:"document_types.passport"}]}ngOnInit(){this._observeNavigationChanges(),this._ObserveProject()}ngOnDestroy(){this._unsubscribeAll.next(null)}_ObserveProject(){this._KycService.currentAppRegistration$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.appRegistration=t,this.project=t.project,this.projectFlow=t.projectFlow,this._changeDetectorRef.markForCheck(),this._initForm()})}_observeNavigationChanges(){this._KycService.navigationHandler$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{!this._validateStep(t)||this._saveChanges(t)})}_initForm(){this.groupFields={};const{firstName:t,lastName:e,age:o,gender:i,address:n,city:r,postalCode:a,dateOfBirth:s,documentType:c,documentNumber:l}=this.appRegistration.InformationValidation;this.projectFlow.onboardingSettings.basicInformation.fullName&&(this.groupFields.firstName=[t||"",[b.kI.required]],this.groupFields.lastName=[e||"",[b.kI.required]]),this.projectFlow.onboardingSettings.basicInformation.age&&(this.groupFields.age=[o||0,[b.kI.required]]),this.projectFlow.onboardingSettings.basicInformation.gender&&(this.groupFields.gender=[i||"M",[b.kI.required]]),this.projectFlow.onboardingSettings.basicInformation.dateOfBirth&&(this.groupFields.dateOfBirth=[s||new Date,[b.kI.required]]),this.projectFlow.onboardingSettings.basicInformation.address&&(this.groupFields.address=[n||"",[b.kI.required]],this.groupFields.city=[r||"",[b.kI.required]]),this.projectFlow.onboardingSettings.basicInformation.postalCode&&(this.groupFields.postalCode=[a||"",[b.kI.required]]),this.projectFlow.onboardingSettings.basicInformation.legalDocument&&(this.groupFields.documentType=[c||"",[b.kI.required]],this.groupFields.documentNumber=[l||"",[b.kI.required]]),this.basicInformationForm=this._formBuilder.group(this.groupFields)}_validateStep(t={}){return!!this.basicInformationForm&&Boolean(this.basicInformationForm.valid)}_saveChanges(t){!t||this._KycService.updateAppRegistration(this.appRegistration._id,Object.assign(Object.assign({},this.appRegistration),{informationValidation:this.basicInformationForm.value})).subscribe(e=>{const o=Object.keys(e.data.informationValidation);for(const t of o)this.appRegistration.InformationValidation[t]=e.data.informationValidation[t];this._KycService.navData.currentStep=t.stepToGo,t.projectSteps.selectedIndex=t.stepToGo,this._changeDetectorRef.markForCheck()},t=>{console.error({error:t}),this.kickOut()})}kickOut(){localStorage.removeItem("accessToken"),this._router.navigate(["/kyc/start/",this.appRegistration.project._id])}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(l.y),n.Y36(n.sBO),n.Y36(b.qu),n.Y36(r.F0))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-kyc-basic-information"]],decls:28,vars:21,consts:[["cdkScrollable","",1,"flex-auto","overflow-y-auto","mx-auto"],[1,"prose","prose-sm","max-w-3xl","mx-auto","sm:my-2","overflow-hidden"],[1,"verifikH1"],[1,"prose","prose-sm","max-w-3xl","mx-auto","sm:my-2","lg:mt-4","p-6","rounded-2xl","shadow","overflow-hidden","bg-card","mt-6"],[1,"mt-7",3,"formGroup"],[1,"grid","grid-cols-2"],[1,"w-full","fuse-mat-dense"],[1,"primaryColor"],["id","firstName","autocomplete","chrome-off","matInput","","required","",3,"formControlName"],[1,"w-full","fuse-mat-dense","ml-2"],["id","lastName","autocomplete","chrome-off","matInput","","required","",3,"formControlName"],["class","fuse-mat-no-subscript mb-2",4,"ngIf"],["class","fuse-mat-dense mr-1.5",4,"ngIf"],["class","fuse-mat-dense",4,"ngIf"],["class","grid grid-cols-2",4,"ngIf"],["class","grid grid-cols-3",4,"ngIf"],[1,"fuse-mat-no-subscript","mb-2"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","",3,"matDatepicker","formControlName","placeholder"],["matSuffix","",3,"for"],["birthdayDatepicker",""],[1,"fuse-mat-dense","mr-1.5"],["id","age","matInput","","type","number",3,"formControlName"],[1,"fuse-mat-dense"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"flex","items-center"],[1,"sm:mx-0.5","font-medium","text-default"],[4,"ngFor","ngForOf"],[3,"value"],[1,"ml-2"],["id","address","matInput","",3,"formControlName"],["id","city","matInput","",3,"formControlName"],["id","postalCode","matInput","",3,"formControlName"],[1,"grid","grid-cols-3"],[1,"w-full"],["class","mr-1.5","matPrefix","",3,"formControlName",4,"ngIf"],["class","w-full col-span-2 ml-1 mr-1",4,"ngIf"],["matPrefix","",1,"mr-1.5",3,"formControlName"],[1,"w-full","col-span-2","ml-1","mr-1"],["id","documentNumber","matInput","",3,"formControlName"],[4,"ngIf"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"h1",2),n._uU(3),n.ALo(4,"transloco"),n.qZA(),n.TgZ(5,"p"),n._uU(6),n.ALo(7,"transloco"),n.qZA(),n.qZA(),n.TgZ(8,"div",3),n.TgZ(9,"form",4),n.TgZ(10,"div",5),n.TgZ(11,"mat-form-field",6),n.TgZ(12,"mat-label",7),n._uU(13),n.ALo(14,"transloco"),n.qZA(),n._UZ(15,"input",8),n.qZA(),n.TgZ(16,"mat-form-field",9),n.TgZ(17,"mat-label",7),n._uU(18),n.ALo(19,"transloco"),n.qZA(),n._UZ(20,"input",10),n.qZA(),n.qZA(),n.YNc(21,k,9,8,"mat-form-field",11),n.TgZ(22,"div",5),n.YNc(23,q,5,4,"mat-form-field",12),n.YNc(24,S,11,13,"mat-form-field",13),n.qZA(),n.YNc(25,O,11,8,"div",14),n.YNc(26,j,6,4,"div",14),n.YNc(27,M,7,5,"div",15),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(3),n.hij(" ",n.lcZ(4,13,"kyc.steps.title_1")," "),n.xp6(3),n.hij(" ",n.lcZ(7,15,"kyc.steps.description_1")," "),n.xp6(3),n.Q6J("formGroup",e.basicInformationForm),n.xp6(4),n.Oqu(n.lcZ(14,17,"kyc.basic.first_name")),n.xp6(2),n.Q6J("formControlName","firstName"),n.xp6(3),n.Oqu(n.lcZ(19,19,"kyc.basic.last_name")),n.xp6(2),n.Q6J("formControlName","lastName"),n.xp6(1),n.Q6J("ngIf",e.groupFields.dateOfBirth),n.xp6(2),n.Q6J("ngIf",e.groupFields.age),n.xp6(1),n.Q6J("ngIf",e.groupFields.gender),n.xp6(1),n.Q6J("ngIf",e.groupFields.address),n.xp6(1),n.Q6J("ngIf",e.groupFields.postalCode),n.xp6(1),n.Q6J("ngIf",e.groupFields.documentNumber))},directives:[g.PQ,b._Y,b.JL,b.sg,_.KE,_.hX,v.Nt,b.Fj,b.Q7,b.JJ,b.u,i.O5,x.Hw,_.qo,y.hl,y.nW,_.R9,y.Mq,b.wV,w.gD,b.oH,w.$L,i.sg,A.ey,_.TO],pipes:[u.Ot],styles:[""]}),t})();var R=o(45966),Y=o(13653),D=o(28288),L=o(22238);let B=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(L.so),n.Y36(L.WI))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-kyc-document-validation-qr"]],decls:12,vars:11,consts:[["mat-dialog-title","",1,"verifikH1",2,"text-align","center"],["mat-dialog-content","",1,"flex","flex-col","flex-auto","items-center","md:w-160","md:min-w-160","mt-5"],[1,"qr-border","my-8"],["alt","QR to movil",1,"flex","w-80","h-80","p-1",3,"src"],["mat-dialog-actions","",1,"mb-1"],["mat-button","","cdkFocusInitial","",1,"fuse-mat-button-large","w-full","mt-6","main","primaryBg",3,"mat-dialog-close"]],template:function(t,e){1&t&&(n.TgZ(0,"h1",0),n._uU(1),n.ALo(2,"transloco"),n.qZA(),n.TgZ(3,"div",1),n._uU(4),n.ALo(5,"transloco"),n.TgZ(6,"div",2),n._UZ(7,"img",3),n.qZA(),n.qZA(),n.TgZ(8,"div",4),n.TgZ(9,"button",5),n._uU(10),n.ALo(11,"transloco"),n.qZA(),n.qZA()),2&t&&(n.xp6(1),n.Oqu(n.lcZ(2,5,"kyc.steps.title_2_qr")),n.xp6(3),n.hij(" ",n.lcZ(5,7,"kyc.steps.description_2_qr")," "),n.xp6(3),n.s9C("src",e.data,n.LSH),n.xp6(2),n.Q6J("mat-dialog-close",!0),n.xp6(1),n.Oqu(n.lcZ(11,9,"kyc.steps.description_2_qr_continue")))},directives:[L.uh,L.xY,L.H8,h.lW,L.ZT],pipes:[u.Ot],styles:[".document-types[_ngcontent-%COMP%]{width:100%!important;text-align:center}.document-types[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px!important}.document-types[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{align-items:center;margin:10px}.primaryBg[_ngcontent-%COMP%]{background-color:#01236d!important;color:#fff!important}.qr-border[_ngcontent-%COMP%]{background:linear-gradient(to right,black 4px,transparent 4px) 0 0,linear-gradient(to right,black 4px,transparent 4px) 0 100%,linear-gradient(to left,black 4px,transparent 4px) 100% 0,linear-gradient(to left,black 4px,transparent 4px) 100% 100%,linear-gradient(to bottom,black 4px,transparent 4px) 0 0,linear-gradient(to bottom,black 4px,transparent 4px) 100% 0,linear-gradient(to top,black 4px,transparent 4px) 0 100%,linear-gradient(to top,black 4px,transparent 4px) 100% 100%;background-repeat:no-repeat;background-size:20px 20px}"]}),t})();var V=o(7539),H=o(13994),K=o(4885),E=o(39490);function $(t,e){1&t&&(n.ynx(0),n.TgZ(1,"div",1),n.Hsn(2),n.qZA(),n.TgZ(3,"div",2),n.Hsn(4,1),n.qZA(),n.BQk())}function z(t,e){1&t&&(n.TgZ(0,"div",4),n.Hsn(1,3),n.qZA()),2&t&&n.Q6J("@expandCollapse",void 0)}function G(t,e){if(1&t&&(n.ynx(0),n.Hsn(1,2),n.YNc(2,z,2,1,"div",3),n.BQk()),2&t){const t=n.oxw();n.xp6(2),n.Q6J("ngIf",t.expanded)}}const W=[[["","fuseCardFront",""]],[["","fuseCardBack",""]],"*",[["","fuseCardExpansion",""]]],X=["[fuseCardFront]","[fuseCardBack]","*","[fuseCardExpansion]"];let tt=(()=>{class t{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"fuse-card-expanded":this.expanded,"fuse-card-face-back":this.flippable&&"back"===this.face,"fuse-card-face-front":this.flippable&&"front"===this.face,"fuse-card-flippable":this.flippable}}ngOnChanges(t){"expanded"in t&&(this.expanded=(0,E.Ig)(t.expanded.currentValue)),"flippable"in t&&(this.flippable=(0,E.Ig)(t.flippable.currentValue))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["fuse-card"]],hostVars:2,hostBindings:function(t,e){2&t&&n.Tol(e.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["fuseCard"],features:[n.TTD],ngContentSelectors:X,decls:2,vars:2,consts:[[4,"ngIf"],[1,"fuse-card-front"],[1,"fuse-card-back"],["class","fuse-card-expansion",4,"ngIf"],[1,"fuse-card-expansion"]],template:function(t,e){1&t&&(n.F$t(W),n.YNc(0,$,5,0,"ng-container",0),n.YNc(1,G,3,1,"ng-container",0)),2&t&&(n.Q6J("ngIf",e.flippable),n.xp6(1),n.Q6J("ngIf",!e.flippable))},directives:[i.O5],styles:["fuse-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:0 0 rgba(0,0,0,0),0 0 rgba(0,0,0,0),var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;box-shadow:0 0 rgba(0,0,0,0),0 0 rgba(0,0,0,0),var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;-webkit-backface-visibility:hidden;backface-visibility:hidden}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:0 0 rgba(0,0,0,0),0 0 rgba(0,0,0,0),var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable .fuse-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}fuse-card.fuse-card-flippable .fuse-card-back{position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:D.L}}),t})();function et(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div"),n._UZ(1,"img",12),n.TgZ(2,"p"),n.TgZ(3,"mat-checkbox",13),n.NdJ("ngModelChange",function(e){return n.CHM(t),n.oxw(2).documentsMapping.useGovernmentID=e})("change",function(e){return n.CHM(t),n.oxw(2).selectDocument(e,"useGovernmentID")}),n._uU(4,"C\xe9dula de ciudadan\xeda "),n.qZA(),n.qZA(),n.qZA()}if(2&t){const t=n.oxw(2);n.xp6(3),n.Q6J("ngModel",t.documentsMapping.useGovernmentID)}}function ot(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div"),n._UZ(1,"img",14),n.TgZ(2,"p"),n.TgZ(3,"mat-checkbox",13),n.NdJ("ngModelChange",function(e){return n.CHM(t),n.oxw(2).documentsMapping.usePassport=e})("change",function(e){return n.CHM(t),n.oxw(2).selectDocument(e,"usePassport")}),n._uU(4,"Pasaporte"),n.qZA(),n.qZA(),n.qZA()}if(2&t){const t=n.oxw(2);n.xp6(3),n.Q6J("ngModel",t.documentsMapping.usePassport)}}function it(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div"),n._UZ(1,"img",15),n.TgZ(2,"p"),n.TgZ(3,"mat-checkbox",16),n.NdJ("ngModelChange",function(e){return n.CHM(t),n.oxw(2).documentsMapping.useLicense=e})("change",function(e){return n.CHM(t),n.oxw(2).selectDocument(e,"useLicense")}),n._uU(4," Licencia de conducir"),n.qZA(),n.qZA(),n.qZA()}if(2&t){const t=n.oxw(2);n.xp6(3),n.Q6J("ngModel",t.documentsMapping.useLicense)}}function nt(t,e){if(1&t&&(n.ynx(0),n.YNc(1,et,5,1,"div",4),n.YNc(2,ot,5,1,"div",4),n.YNc(3,it,5,1,"div",4),n.BQk()),2&t){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",t.projectFlow.onboardingSettings.documentValidation.useGovermentID),n.xp6(1),n.Q6J("ngIf",t.projectFlow.onboardingSettings.documentValidation.usePassport),n.xp6(1),n.Q6J("ngIf",t.projectFlow.onboardingSettings.documentValidation.useLicense)}}function rt(t,e){1&t&&(n.TgZ(0,"div",17),n.TgZ(1,"h3"),n._uU(2),n.ALo(3,"transloco"),n.qZA(),n.TgZ(4,"p",18),n._uU(5),n.ALo(6,"transloco"),n.qZA(),n.TgZ(7,"div",19),n._UZ(8,"img",20),n.qZA(),n.qZA()),2&t&&(n.xp6(2),n.hij(" ",n.lcZ(3,2,"kyc.identity_validation.only_liveness_title")," "),n.xp6(3),n.Oqu(n.lcZ(6,4,"kyc.identity_validation.only_liveness_description")))}function at(t,e){if(1&t&&(n.TgZ(0,"fuse-alert",21),n._uU(1),n.ALo(2,"transloco"),n.qZA()),2&t){const t=n.oxw();n.Q6J("appearance","outline")("showIcon",!1)("type",t.alert.type)("@shake","error"===t.alert.type),n.xp6(1),n.hij(" ",n.lcZ(2,5,"errors."+t.alert.message)," ")}}function st(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"transloco"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"kyc.identity_validation.validate_button")," "))}function ct(t,e){1&t&&n._UZ(0,"mat-progress-spinner",24),2&t&&n.Q6J("diameter",24)("mode","indeterminate")}function lt(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"button",22),n.NdJ("click",function(){return n.CHM(t),n.oxw().validateBiometrics()}),n.YNc(1,st,3,3,"span",4),n.YNc(2,ct,1,2,"mat-progress-spinner",23),n.qZA()}if(2&t){const t=n.oxw();n.Q6J("disabled",!t.canEnableFaceTecButton()),n.xp6(1),n.Q6J("ngIf",t.biometricsReady),n.xp6(1),n.Q6J("ngIf",!t.biometricsReady)}}function pt(t,e){if(1&t&&(n.TgZ(0,"fuse-card",25,26),n.TgZ(2,"div",27),n._uU(3),n.ALo(4,"transloco"),n.qZA(),n.TgZ(5,"div",28),n.TgZ(6,"b"),n._uU(7),n.ALo(8,"transloco"),n.qZA(),n._uU(9),n.qZA(),n.TgZ(10,"div"),n.TgZ(11,"b"),n._uU(12),n.ALo(13,"transloco"),n.qZA(),n._uU(14),n.qZA(),n.TgZ(15,"div"),n.TgZ(16,"b"),n._uU(17),n.ALo(18,"transloco"),n.qZA(),n._uU(19),n.qZA(),n.TgZ(20,"div"),n.TgZ(21,"b"),n._uU(22),n.ALo(23,"transloco"),n.qZA(),n._uU(24),n.qZA(),n.qZA()),2&t){const t=n.oxw();n.xp6(3),n.hij(" ",n.lcZ(4,9,"kyc.identity_validation.information")," "),n.xp6(4),n.hij("",n.lcZ(8,11,"kyc.identity_validation.document"),":"),n.xp6(2),n.hij(" ",t.ocrData.document,""),n.xp6(3),n.hij("",n.lcZ(13,13,"kyc.basic.first_name"),":"),n.xp6(2),n.hij(" ",t.ocrData.firstName,""),n.xp6(3),n.hij("",n.lcZ(18,15,"kyc.basic.last_name"),":"),n.xp6(2),n.hij(" ",t.ocrData.lastName,""),n.xp6(3),n.hij("",n.lcZ(23,17,"kyc.basic.dateOfBirth"),":"),n.xp6(2),n.hij(" ",t.ocrData.dateOfBirth,"")}}function dt(t,e){if(1&t&&n._UZ(0,"img",33),2&t){const t=n.oxw(2);n.MGl("src","",t.appRegistration.documentValidation.url,"backCrop",n.LSH)}}function ut(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"fuse-card",29,30),n.ynx(2,31),n.TgZ(3,"div",32),n.TgZ(4,"div",27),n._uU(5),n.ALo(6,"transloco"),n.qZA(),n._UZ(7,"img",33),n.TgZ(8,"div",34),n.TgZ(9,"button",35),n.NdJ("click",function(){return n.CHM(t),n.MAs(1).face="back"}),n._UZ(10,"mat-icon",36),n.qZA(),n.qZA(),n.qZA(),n.BQk(),n.ynx(11,37),n.TgZ(12,"div",38),n.TgZ(13,"div",27),n._uU(14),n.ALo(15,"transloco"),n.qZA(),n.YNc(16,dt,1,1,"img",39),n.TgZ(17,"div",40),n.TgZ(18,"button",35),n.NdJ("click",function(){return n.CHM(t),n.MAs(1).face="front"}),n._UZ(19,"mat-icon",36),n.qZA(),n.qZA(),n.qZA(),n.BQk(),n.qZA()}if(2&t){const t=n.oxw();n.Q6J("flippable",!0),n.xp6(5),n.hij(" ",n.lcZ(6,9,"kyc.identity_validation.front")," "),n.xp6(2),n.MGl("src","",t.appRegistration.documentValidation.url,"frontCrop",n.LSH),n.xp6(2),n.Q6J("color","primary"),n.xp6(1),n.Q6J("svgIcon","heroicons_outline:arrow-right"),n.xp6(4),n.hij(" ",n.lcZ(15,11,"kyc.identity_validation.back")," "),n.xp6(2),n.Q6J("ngIf","PA"!==t.appRegistration.documentValidation.documentType),n.xp6(2),n.Q6J("color","primary"),n.xp6(1),n.Q6J("svgIcon","heroicons_outline:arrow-left")}}function mt(t,e){if(1&t&&(n.TgZ(0,"fuse-card",41,26),n.TgZ(2,"div",42),n.TgZ(3,"div",43),n.TgZ(4,"div",44),n._uU(5),n.ALo(6,"transloco"),n.qZA(),n.TgZ(7,"div",45),n._UZ(8,"img",46),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t){const t=n.oxw();n.xp6(5),n.hij(" ",n.lcZ(6,2,"kyc.identity_validation.biometric")," "),n.xp6(3),n.s9C("src",t.appRegistration.biometricValidation.url,n.LSH)}}let gt=(()=>{class t{constructor(t,e,o,i,n){this._KycService=t,this._changeDetectorRef=e,this._formBuilder=o,this._fuseMediaWatcherService=i,this.dialog=n,this._unsubscribeAll=new s.xQ,this.documentsMapping={useLicense:!1,usePassport:!1,useGovernmentID:!1},this.alert={type:"success",message:""}}ngOnInit(){this._observeNavigationChanges(),this._ObserveProject()}errorLogin(t){this.alert={type:"error",message:t},this.showAlert=!0,this._changeDetectorRef.detectChanges(),setTimeout(()=>{this.showAlert=!1,this._changeDetectorRef.detectChanges()},1e4)}isMobile(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<768}validateBiometrics(){const t=Boolean(this.appRegistration.biometricValidation),e=Boolean(this.appRegistration.documentValidation);if(this.projectFlow.onboardingSettings.documentValidation.includeOCR)return e&&(this.isIdentityValidated=!0),this._biometric.startEnrollmentDocuments(t,this.selectedDocument,this.appRegistration.phone,this.appRegistration.email);t&&(this.isIdentityValidated=!0),this._biometric.startEnrollmentBiometrics(this.appRegistration.phone,this.appRegistration.email)}ngOnDestroy(){this.interval&&clearInterval(this.interval),this._unsubscribeAll.next(null)}_ObserveProject(){this._KycService.currentAppRegistration$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this._startTimer(),this.appRegistration=t,this.project=t.project,this.projectFlow=t.projectFlow,this.allowedOptions=this.projectFlow.onboardingSettings.documentValidation,this.qr=localStorage.getItem("qr"),this.qr&&!this.isMobile()&&(this.dialogQRRef=this.dialog.open(B,{disableClose:!0,data:this.qr})),this._syncBiometricsChecks(),this._initFaceTecInLoop(),this._changeDetectorRef.markForCheck()})}_initFaceTecInLoop(){let t;t=setInterval(()=>{-1===this._initFaceTec()&&clearInterval(t),this._changeDetectorRef.detectChanges()},2e3)}_initFaceTec(){if(this._biometric)return-1;this.biometricsReady=!1;const t=this;this._biometric=new R.u(this._KycService,e=>{e&&t._biometric&&t._biometric.startSession()}),this._biometric.session$.pipe((0,Y.T)(1)).pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.biometricsReady=t}),this._biometric.error$.pipe((0,Y.T)(1)).pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.errorLogin(t),this.biometricsReady=!1,this._biometric.startSession(),this._resyncAppRegistrationObject()}),this._biometric.onboardingBiometric$.pipe((0,Y.T)(1)).pipe((0,c.R)(this._unsubscribeAll)).subscribe(()=>{this.biometricsReady=!1,this._biometric.startSession(),this._resyncAppRegistrationObject()}),this._biometric.onboardingScan$.pipe((0,Y.T)(1)).pipe((0,c.R)(this._unsubscribeAll)).subscribe(()=>{this.biometricsReady=!1,this._biometric.startSession(),this._resyncAppRegistrationObject()})}_syncBiometricsChecks(){const t=Boolean(!this.projectFlow.onboardingSettings.documentValidation.includeOCR&&this.appRegistration.biometricValidation&&(this.projectFlow.onboardingSettings.documentValidation.useBasicLiveness||this.projectFlow.onboardingSettings.documentValidation.useProLiveness)),e=Boolean(this.appRegistration.documentValidation&&this.projectFlow.onboardingSettings.documentValidation.includeOCR);if(t||e){clearInterval(this.interval),this.dialogQRRef&&this.dialogQRRef.close();let t=this.appRegistration.documentValidation?this.appRegistration.documentValidation.OCRExtraction:null;return t&&(t=t.userConfirmed?t.userConfirmed:t.scanned,this.ocrData={firstName:t.userInfo.firstName,lastName:t.userInfo.lastName,dateOfBirth:t.userInfo.dateOfBirth,document:t.idInfo.idNumber}),this.isIdentityValidated=!0,void this._changeDetectorRef.markForCheck()}}_startTimer(){this.interval||(this.interval=setInterval(()=>{this._resyncAppRegistrationObject()},2e3))}_resyncAppRegistrationObject(){this._KycService.resyncAppRegistrationObject().pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.appRegistration=t.data,this._syncBiometricsChecks()},t=>{console.log({error:t})})}canEnableFaceTecButton(){return Boolean(this.biometricsReady&&(!this.projectFlow.onboardingSettings.documentValidation.includeOCR||this.selectedDocument))}_observeNavigationChanges(){this._KycService.navigationHandler$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{if(t)return this._KycService.navData.currentStep>t.stepToGo?(this._KycService.navData.currentStep=t.stepToGo,t.projectSteps.selectedIndex=t.stepToGo,void this._changeDetectorRef.markForCheck()):void(!this._validateStep(t)||this._saveChanges(t))})}_validateStep(t){return Boolean(t&&this.appRegistration&&this.appRegistration.biometricValidation&&"validated"===this.appRegistration.biometricValidation.status&&(!this.projectFlow||!this.projectFlow.onboardingSettings.documentValidation.includeOCR||this.appRegistration.documentValidation))}_saveChanges(t){if(t){if(!this.projectFlow.onboardingSettings.form)return void this._KycService.updateAppRegistration(this.appRegistration._id,{status:"COMPLETED"}).subscribe(t=>{localStorage.removeItem("xaccessToken"),window.location.href=`${this.projectFlow.redirectUrl}?type=${this.projectFlow.type}&token=${t.data.token}`});this._KycService.navData.currentStep=t.stepToGo,t.projectSteps.selectedIndex=t.stepToGo}}selectDocument(t,e){if(t.checked){this.selectedDocument=e;for(const t in this.documentsMapping){let o=!1;t===e&&(o=!0),this.documentsMapping[t]=o}}else this.selectedDocument=null}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(l.y),n.Y36(n.sBO),n.Y36(b.qu),n.Y36(p.T),n.Y36(L.uw))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-kyc-document-validation"]],decls:18,vars:13,consts:[["cdkScrollable","",1,"flex-auto","overflow-y-auto","mx-auto"],[1,"prose","prose-sm","max-w-3xl","mx-auto","sm:my-2","overflow-hidden"],[1,"verifikH1"],[1,"prose","prose-sm","max-w-3xl","mx-auto","sm:my-2","lg:mt-4","flex","flex-wrap","document-types","w-full"],[4,"ngIf"],["class","rounded-2xl bg-card max-w-3xl mx-auto shadow overflow-hidden",4,"ngIf"],["class","mt-8 -mb-4",3,"appearance","showIcon","type",4,"ngIf"],["class","fuse-mat-button-large w-full mt-6 main primaryBg","mat-flat-button","",3,"disabled","click",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-4","gap-6","w-full"],["class","flex flex-col sm:col-span-2 md:col-span-4 lg:col-span-2 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden",4,"ngIf"],["class","flex flex-col sm:col-span-2 md:col-span-4 lg:col-span-2",3,"flippable",4,"ngIf"],["class","flex flex-col sm:col-span-2 md:col-span-4 lg:col-span-2",4,"ngIf"],["src","https://cdn.verifik.co/assets/kyc/cedula_example@2x.png","alt",""],[1,"example-margin",3,"ngModel","ngModelChange","change"],["src","https://cdn.verifik.co/assets/kyc/pasaporte_example@2x.png","alt",""],["src","https://cdn.verifik.co/assets/kyc/licencia_example@2x.png","alt",""],[3,"ngModel","ngModelChange","change"],[1,"rounded-2xl","bg-card","max-w-3xl","mx-auto","shadow","overflow-hidden"],[1,"p-3"],[1,"flex","justify-center"],["src","https://cdn.verifik.co/assets/passwordless/liveness.gif"],[1,"mt-8","-mb-4",3,"appearance","showIcon","type"],["mat-flat-button","",1,"fuse-mat-button-large","w-full","mt-6","main","primaryBg",3,"disabled","click"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"],[1,"flex","flex-col","sm:col-span-2","md:col-span-4","lg:col-span-2","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],["fuseCard",""],[1,"text-lg","font-bold"],[1,"mt-5"],[1,"flex","flex-col","sm:col-span-2","md:col-span-4","lg:col-span-2",3,"flippable"],["documentScan",""],["fuseCardFront",""],[1,"flex","flex-col","px-8","py-6","pb-3"],[1,"w-full",3,"src"],[1,"mt-3","-mx-3","self-end"],["mat-icon-button","",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],["fuseCardBack",""],[1,"flex","flex-col","flex-auto","px-8","py-6","pt-3"],["class","w-full",3,"src",4,"ngIf"],[1,"mb-2","-mx-3"],[1,"flex","flex-col","sm:col-span-2","md:col-span-4","lg:col-span-2"],[1,"flex","items-start","justify-between","px-8","py-6","pb-3"],[1,"flex","flex-col","items-center","mt-2"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"flex","items-center","justify-center","w-full","h-80","rounded-full","overflow-hidden"],[3,"src"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"h1",2),n._uU(3),n.ALo(4,"transloco"),n.qZA(),n.TgZ(5,"p"),n._uU(6),n.ALo(7,"transloco"),n.qZA(),n.qZA(),n.TgZ(8,"div",3),n.YNc(9,nt,4,3,"ng-container",4),n.YNc(10,rt,9,6,"div",5),n.YNc(11,at,3,7,"fuse-alert",6),n.YNc(12,lt,3,3,"button",7),n.qZA(),n.TgZ(13,"div",1),n.TgZ(14,"div",8),n.YNc(15,pt,25,19,"fuse-card",9),n.YNc(16,ut,20,13,"fuse-card",10),n.YNc(17,mt,9,4,"fuse-card",11),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(3),n.hij(" ",n.lcZ(4,9,"kyc.steps.title_2")," "),n.xp6(3),n.hij(" ",n.lcZ(7,11,"kyc.steps.description_2")," "),n.xp6(3),n.Q6J("ngIf",!e.isIdentityValidated&&e.projectFlow.onboardingSettings.documentValidation.includeOCR),n.xp6(1),n.Q6J("ngIf",!e.isIdentityValidated&&!e.projectFlow.onboardingSettings.documentValidation.includeOCR),n.xp6(1),n.Q6J("ngIf",e.showAlert),n.xp6(1),n.Q6J("ngIf",!e.isIdentityValidated),n.xp6(3),n.Q6J("ngIf",e.ocrData),n.xp6(1),n.Q6J("ngIf",e.appRegistration.documentValidation),n.xp6(1),n.Q6J("ngIf",e.appRegistration.biometricValidation))},directives:[g.PQ,i.O5,V.oG,b.JJ,b.On,H.W,h.lW,K.Ou,tt,x.Hw],pipes:[u.Ot],styles:[".document-types[_ngcontent-%COMP%]{width:100%!important;text-align:center}.document-types[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px!important}.document-types[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{align-items:center;margin:10px}.primaryBg[_ngcontent-%COMP%]{background-color:#01236d!important;color:#fff!important}.qr-border[_ngcontent-%COMP%]{background:linear-gradient(to right,black 4px,transparent 4px) 0 0,linear-gradient(to right,black 4px,transparent 4px) 0 100%,linear-gradient(to left,black 4px,transparent 4px) 100% 0,linear-gradient(to left,black 4px,transparent 4px) 100% 100%,linear-gradient(to bottom,black 4px,transparent 4px) 0 0,linear-gradient(to bottom,black 4px,transparent 4px) 100% 0,linear-gradient(to top,black 4px,transparent 4px) 0 100%,linear-gradient(to top,black 4px,transparent 4px) 100% 100%;background-repeat:no-repeat;background-size:20px 20px}"],data:{animation:D.L}}),t})();function ft(t,e,o,i,n,r,a){try{var s=t[r](a),c=s.value}catch(l){return void o(l)}s.done?e(c):Promise.resolve(c).then(i,n)}function ht(t,e){if(1&t&&(n.TgZ(0,"div"),n.TgZ(1,"span",10),n._uU(2),n.qZA(),n.qZA()),2&t){const t=n.oxw().$implicit;n.xp6(2),n.hij(" ",t," ")}}function xt(t,e){if(1&t&&(n.ynx(0),n._UZ(1,"input",14,15),n.BQk()),2&t){const t=n.oxw(2).$implicit,e=n.oxw().$implicit,o=n.oxw(2);n.xp6(1),n.s9C("type",o.returnQuestionData(e,t.key,"type")),n.s9C("placeholder",o.returnQuestionData(e,t.key,"placeHolder")),n.Q6J("formControlName",t.key)}}function Zt(t,e){if(1&t&&(n.TgZ(0,"mat-option",18),n._uU(1),n.qZA()),2&t){const t=e.$implicit;n.Q6J("value",t),n.xp6(1),n.hij("",t," ")}}function bt(t,e){if(1&t&&(n.ynx(0),n.TgZ(1,"mat-select",16),n.YNc(2,Zt,2,2,"mat-option",17),n.qZA(),n.BQk()),2&t){const t=n.oxw(2).$implicit,e=n.oxw().$implicit,o=n.oxw(2);n.xp6(1),n.s9C("formControlName",t.key),n.xp6(1),n.Q6J("ngForOf",o.returnQuestionData(e,t.key,"options"))}}function _t(t,e){if(1&t&&(n.TgZ(0,"mat-form-field",6),n.TgZ(1,"mat-label",12),n._uU(2),n.qZA(),n.YNc(3,xt,3,3,"ng-container",7),n.YNc(4,bt,3,2,"ng-container",7),n.TgZ(5,"mat-error",13),n._uU(6),n.ALo(7,"transloco"),n.qZA(),n.qZA()),2&t){const t=n.oxw().$implicit,e=n.oxw().$implicit,o=n.oxw(2);n.xp6(2),n.hij(" ",o.returnQuestionData(e,t.key,"label"),""),n.xp6(1),n.Q6J("ngIf","select"!=o.returnQuestionData(e,t.key,"type")),n.xp6(1),n.Q6J("ngIf","select"==o.returnQuestionData(e,t.key,"type")),n.xp6(2),n.hij(" ",n.lcZ(7,4,"kyc.forms.error")," ")}}function vt(t,e){if(1&t&&(n.ynx(0),n.ynx(1),n.YNc(2,_t,8,6,"mat-form-field",11),n.BQk(),n.BQk()),2&t){const t=e.$implicit;n.xp6(2),n.Q6J("ngIf",t)}}function yt(t,e){if(1&t&&(n.TgZ(0,"div",6),n.YNc(1,ht,3,1,"div",7),n.TgZ(2,"form",8),n.YNc(3,vt,3,1,"ng-container",9),n.ALo(4,"keyvalue"),n.qZA(),n.qZA()),2&t){const t=e.$implicit,o=n.oxw(2);n.xp6(1),n.Q6J("ngIf","starting"!=t),n.xp6(1),n.Q6J("formGroup",o.formAnwsers[t]),n.xp6(1),n.Q6J("ngForOf",n.lcZ(4,3,o.formAnwsers[t].controls))}}function wt(t,e){if(1&t&&(n.TgZ(0,"div",1),n.TgZ(1,"div",2),n.TgZ(2,"div",2),n.TgZ(3,"h1",3),n._uU(4),n.ALo(5,"transloco"),n.qZA(),n.qZA(),n.TgZ(6,"div",4),n.YNc(7,yt,5,5,"div",5),n.qZA(),n.qZA(),n.qZA()),2&t){const t=n.oxw();n.xp6(4),n.hij(" ",n.lcZ(5,2,t.form.title)," "),n.xp6(3),n.Q6J("ngForOf",t.sectionOrder)}}let At=(()=>{class t{constructor(t,e,o){this._KycService=t,this._changeDetectorRef=e,this._formBuilder=o,this._unsubscribeAll=new s.xQ,this.sectionOrder=[]}ngOnInit(){this._observeNavigationChanges(),this._ObserveProject(),this.getForm()}_moveToStep(t){t.projectSteps.selectedIndex=t.stepToGo}_ObserveProject(){this._KycService.currentAppRegistration$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.appRegistration=t,this.project=t.project,this.projectFlow=t.projectFlow,this._changeDetectorRef.markForCheck()})}_observeNavigationChanges(){this._KycService.navigationHandler$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{if(t)return this._KycService.navData.currentStep>t.stepToGo?(this._KycService.navData.currentStep=t.stepToGo,t.projectSteps.selectedIndex=t.stepToGo,void this._changeDetectorRef.markForCheck()):void(!this._validateStep(t)||this._saveChanges(t))})}getForm(){this._KycService.getForm({where_projectFlow:this.projectFlow._id,where_project:this.project._id,populates:["formFields","formFields.container"],sort:"-createdAt",findOne:1}).subscribe(t=>{let e;this.form=t.data,console.log({form:this.form});for(let o=0;o<t.data.formFields.length;o++){const i=t.data.formFields[o];this.questions||"container"==i.type?"container"!=i.type?"container"==i.type||this.questions[e].push(i):(this.questions||(this.questions={}),this.questions[i.label]=[],e=i.label,this.sectionOrder.push(i.label)):(this.questions={starting:[i]},e="starting",this.sectionOrder.push("starting"))}this.createFormgroupsForSection(this.questions),this._changeDetectorRef.markForCheck(),console.log(this.questions)})}_validateStep(t={}){if(!this.formAnwsers)return!1;let e=[];for(const o in this.formAnwsers){const t=this.formAnwsers[o];if(!t.valid)return Boolean(!1);const i=this.getAnswersFromSection(t.controls);Array.prototype.push.apply(e,i)}return this.dataToPost={answers:e},Boolean(!0)}getAnswersFromSection(t){const e=[];for(const o in t)e.push({formField:o,answer:t[o].value});return e}_saveChanges(t){var e=this;return function(t){return function(){var e=this,o=arguments;return new Promise(function(i,n){var r=t.apply(e,o);function a(t){ft(r,i,n,a,s,"next",t)}function s(t){ft(r,i,n,a,s,"throw",t)}a(void 0)})}}(function*(){e.saving||(e.saving=!0,e._KycService.postSubmitionForm(e.dataToPost).subscribe(t=>{e.saving=!1,e.changeAppRegistration(t.data)},t=>{console.error({err:t}),e.saving=!1}))})()}changeAppRegistration(t){this._KycService.updateAppRegistration(this.appRegistration._id,{status:"COMPLETED",formSubmittion:t._id}).subscribe(t=>{localStorage.removeItem("accessToken"),window.location.href=`${this.projectFlow.redirectUrl}?type=${this.projectFlow.type}&token=${t.data.token}`})}createFormgroupsForSection(t){let e={};for(const o in t)e[o]=this.createQuestions(t[o]);this.formAnwsers=e}createQuestions(t){let e={};for(let o=0;o<t.length;o++)e[t[o]._id]=["",b.kI.required];return this._formBuilder.group(e)}returnQuestionData(t,e,o){return this.questions[t].find(t=>t._id==e)[o]}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(l.y),n.Y36(n.sBO),n.Y36(b.qu))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-kyc-form-filling"]],decls:1,vars:1,consts:[["class","flex-auto overflow-y-auto mx-auto poppins","cdkScrollable","",4,"ngIf"],["cdkScrollable","",1,"flex-auto","overflow-y-auto","mx-auto","poppins"],[1,"prose","prose-sm","max-w-3xl","mx-auto","sm:my-2","overflow-hidden"],[1,"verifikH1"],[1,"w-full","bg-card","shadow-lg","p-8","mt-4","rounded-2xl"],["class","w-full",4,"ngFor","ngForOf"],[1,"w-full"],[4,"ngIf"],[1,"mt-1",3,"formGroup"],[4,"ngFor","ngForOf"],[1,"verifikH3"],["class","w-full",4,"ngIf"],[1,"project-color","label-size"],[1,"p-1"],["id","question.key","matInput","",3,"type","placeholder","formControlName"],["{{question.key}}",""],["matInput","","name","question.key",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&n.YNc(0,wt,8,4,"div",0),2&t&&n.Q6J("ngIf",e.form)},directives:[i.O5,g.PQ,i.sg,b._Y,b.JL,b.sg,_.KE,_.hX,_.TO,v.Nt,b.Fj,b.JJ,b.u,w.gD,A.ey],pipes:[u.Ot,i.Nd],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&display=swap";  .mat-horizontal-stepper-header{pointer-events:none!important}.poppins[_ngcontent-%COMP%]{font-family:Poppins!important}.project-color[_ngcontent-%COMP%]{color:#01236d!important}.motto-size[_ngcontent-%COMP%]{font-size:40px!important;font-weight:400!important;line-height:52px!important;letter-spacing:0em!important;text-align:left!important}.section-size[_ngcontent-%COMP%]{font-size:32px!important;font-weight:400!important;line-height:40px!important;letter-spacing:0em!important;text-align:left!important}.label-size[_ngcontent-%COMP%]{font-size:16px!important}']}),t})();const kt=["projectSteps"],qt=function(t,e){return{"bg-primary":t,"bg-gray-300 dark:bg-gray-600":e}};function Tt(t,e){if(1&t&&(n.ynx(0),n._UZ(1,"div",40),n.BQk()),2&t){const t=n.oxw().$implicit,e=n.oxw();n.xp6(1),n.Q6J("ngClass",n.WLB(1,qt,t.order<e.navData.currentStep,t.order>=e.navData.currentStep))}}function It(t,e){1&t&&(n.ynx(0),n._UZ(1,"mat-icon",41),n.BQk()),2&t&&(n.xp6(1),n.Q6J("svgIcon","heroicons_solid:check"))}function Ct(t,e){if(1&t&&(n.ynx(0),n.TgZ(1,"div",42),n._uU(2),n.qZA(),n.BQk()),2&t){const t=n.oxw().$implicit;n.xp6(2),n.hij(" ",t.order+1,"")}}function Ft(t,e){if(1&t&&(n.ynx(0),n.TgZ(1,"div",43),n._uU(2),n.qZA(),n.BQk()),2&t){const t=n.oxw().$implicit;n.xp6(2),n.hij(" ",t.order+1,"")}}const St=function(t,e,o){return{"bg-primary dark:bg-primary text-on-primary group-hover:bg-primary-800 ring-transparent":t,"ring-primary":e,"ring-gray-300 dark:ring-gray-600 group-hover:ring-gray-400":o}};function Ot(t,e){if(1&t){const t=n.EpF();n.ynx(0),n.TgZ(1,"li",33),n.YNc(2,Tt,2,4,"ng-container",34),n.TgZ(3,"div",35),n.NdJ("click",function(){const e=n.CHM(t).$implicit;return n.oxw().goToStep(e.order)}),n.TgZ(4,"div",36),n.YNc(5,It,2,1,"ng-container",34),n.YNc(6,Ct,3,1,"ng-container",34),n.YNc(7,Ft,3,1,"ng-container",34),n.qZA(),n.TgZ(8,"div",37),n.TgZ(9,"div",38),n._uU(10),n.ALo(11,"transloco"),n.qZA(),n.TgZ(12,"div",39),n._uU(13),n.ALo(14,"transloco"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.BQk()}if(2&t){const t=e.$implicit,o=e.last,i=n.oxw();n.xp6(1),n.ekj("current-step",t.order===i.navData.currentStep),n.xp6(1),n.Q6J("ngIf",!o),n.xp6(2),n.Q6J("ngClass",n.kEZ(13,St,t.order<i.navData.currentStep,t.order===i.navData.currentStep,t.order>i.navData.currentStep)),n.xp6(1),n.Q6J("ngIf",t.order<i.navData.currentStep),n.xp6(1),n.Q6J("ngIf",t.order===i.navData.currentStep),n.xp6(1),n.Q6J("ngIf",t.order>i.navData.currentStep),n.xp6(3),n.Oqu(n.lcZ(11,9,t.title)),n.xp6(3),n.hij("",n.lcZ(14,11,t.subtitle)," ")}}function jt(t,e){if(1&t&&n._UZ(0,"mat-progress-bar",44),2&t){const t=n.oxw();n.Q6J("value",100*(t.navData.currentStep+1)/t.sideMenuSteps.length)}}function Nt(t,e){1&t&&(n.TgZ(0,"div",47),n._UZ(1,"app-kyc-basic-information"),n.qZA())}function Qt(t,e){1&t&&(n.TgZ(0,"div",47),n._UZ(1,"app-kyc-document-validation"),n.qZA())}function Jt(t,e){1&t&&(n.TgZ(0,"div",47),n._UZ(1,"app-kyc-form-filling"),n.qZA())}function Ut(t,e){if(1&t&&(n.YNc(0,Nt,2,0,"div",46),n.YNc(1,Qt,2,0,"div",46),n.YNc(2,Jt,2,0,"div",46)),2&t){const t=n.oxw().$implicit;n.Q6J("ngIf",0===t.order),n.xp6(1),n.Q6J("ngIf",1===t.order),n.xp6(1),n.Q6J("ngIf",2===t.order)}}function Mt(t,e){if(1&t&&(n.ynx(0),n.TgZ(1,"mat-tab"),n._uU(2),n.YNc(3,Ut,3,3,"ng-template",45),n.qZA(),n.BQk()),2&t){const t=n.oxw();n.xp6(2),n.hij(" ",t.navData.currentStep," step. ")}}function Pt(t,e){1&t&&(n.TgZ(0,"span",48),n._uU(1,"Next"),n.qZA())}function Rt(t,e){1&t&&(n.TgZ(0,"span",48),n._uU(1,"Crear Cuenta"),n.qZA())}let Yt=(()=>{class t{constructor(t,e,o,i,n,r,a){this._changeDetectorRef=t,this._KycService=e,this._fuseMediaWatcherService=o,this._route=i,this._router=n,this._fuseConfirmationService=r,this.translocoService=a,this.sideMenuSteps=[{order:0,title:"kyc.steps.title_1",subtitle:"kyc.steps.description_1"},{order:1,title:"kyc.steps.title_2",subtitle:"kyc.steps.description_2"},{order:2,title:"kyc.steps.title_3",subtitle:"kyc.steps.description_3"}],this.drawerMode="side",this.drawerOpened=!0,this.categories=[],this.currentStep=0,this._unsubscribeAll=new s.xQ,this.navData=this._KycService.navData}ngOnDestroy(){this._unsubscribeAll.next(null)}ngOnInit(){this._ObserveProject(),this._fuseMediaWatcherService.onMediaChange$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(({matchingAliases:t})=>{t.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1),this._changeDetectorRef.markForCheck()})}_ObserveProject(){this._KycService.currentAppRegistration$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.appRegistration=t,this.project=t.project,this.projectFlow=t.projectFlow,this.project&&(this._initNavTab(),this._changeDetectorRef.markForCheck())})}_initNavTab(){!this.project||this.projectFlow.onboardingSettings.form||(this.sideMenuSteps.pop(),this._changeDetectorRef.markForCheck())}goToNextStep(){this._KycService.navData.currentStep>this.sideMenuSteps.length-1||this.goToStep(this._KycService.navData.currentStep+1)}goToPreviousStep(){0!==this._KycService.navData.currentStep&&this.goToStep(this._KycService.navData.currentStep-1)}goToStep(t){void 0===t||this._KycService.navData.currentStep===t||(this._KycService.navigationChange({projectSteps:this.projectSteps,stepToGo:t}),this._changeDetectorRef.markForCheck())}trackByFn(t){}tempFunction(){}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.sBO),n.Y36(l.y),n.Y36(p.T),n.Y36(r.gz),n.Y36(r.F0),n.Y36(d.R),n.Y36(u.Vn))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-kyc-project"]],viewQuery:function(t,e){if(1&t&&n.Gf(kt,7),2&t){let t;n.iGM(t=n.CRH())&&(e.projectSteps=t.first)}},decls:55,vars:25,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full"],[1,"w-90","dark:bg-gray-900","white-background","border-right",3,"autoFocus","mode","opened"],["matDrawer",""],[1,"flex","flex-col","items-start","p-8"],[1,"w-12"],[3,"src"],[1,"mt-3","verifikH3"],[1,"py-2","px-8","white-background"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-col","overflow-hidden"],[1,"lg:hidden","flex","flex-0","items-center","py-2","pl-4","pr-6","sm:py-4","md:pl-6","md:pr-8","border-b","lg:border-b-0","bg-card","dark:bg-transparent"],[1,"ml-2.5","text-md","sm:text-xl","font-medium","tracking-tight","truncate"],["class","hidden lg:block flex-0 h-0.5 w-full",3,"value",4,"ngIf"],["cdkScrollable","",1,"flex-auto","overflow-y-auto","content-background"],[1,"fuse-mat-no-header",3,"animationDuration"],["projectSteps",""],[1,"z-10","sticky","hidden","lg:flex","bottom-4","p-4"],[1,"flex","items-center","justify-center","mx-auto","p-2","rounded-full","shadow-lg","big-stepper"],["mat-flat-button","",1,"flex-0","primaryBg",3,"click"],[1,"mr-2",3,"svgIcon"],[1,"mr-1"],[1,"flex","items-center","justify-center","mx-2.5","font-medium","leading-5","text-on-primary"],[1,"mx-0.5","text-hint"],["class","ml-1",4,"ngIf"],[1,"ml-2",3,"svgIcon"],[1,"lg:hidden","flex","items-center","p-4","border-t","bg-card"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"flex","items-center","justify-center","ml-1","lg:ml-2","font-medium","leading-5"],[1,"flex-auto","ml-6","rounded-full",3,"value"],["mat-icon-button","",1,"ml-4",3,"click"],["mat-icon-button","",1,"ml-0.5",3,"click"],[1,"relative","group","py-6"],[4,"ngIf"],[1,"relative","flex","items-start","cursor-pointer",3,"click"],[1,"flex","flex-0","items-center","justify-center","w-8","h-8","rounded-full","ring-2","ring-inset","bg-card","dark:bg-default",3,"ngClass"],[1,"ml-4"],[1,"font-medium","leading-4"],[1,"mt-1.5","text-md","leading-4","text-secondary"],[1,"absolute","top-6","left-4","w-0.5","h-full","-ml-px",3,"ngClass"],[1,"icon-size-5","text-current",3,"svgIcon"],[1,"text-md","font-semibold","text-primary","dark:text-primary-500"],[1,"text-md","font-semibold","text-hint","group-hover:text-secondary"],[1,"hidden","lg:block","flex-0","h-0.5","w-full",3,"value"],["matTabContent","","style","background-color: #E5E5E5;"],["class","pt-4 px-4 sm:px-4 md:px-0 lg:px-0",4,"ngIf"],[1,"pt-4","px-4","sm:px-4","md:px-0","lg:px-0"],[1,"ml-1"]],template:function(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",0),n.TgZ(1,"mat-drawer-container",1),n.TgZ(2,"mat-drawer",2,3),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n._UZ(6,"img",6),n.qZA(),n.TgZ(7,"div",7),n._uU(8),n.qZA(),n.qZA(),n.TgZ(9,"div",8),n.TgZ(10,"ol"),n.YNc(11,Ot,15,17,"ng-container",9),n.qZA(),n.qZA(),n.qZA(),n.TgZ(12,"mat-drawer-content",10),n.TgZ(13,"div",11),n.TgZ(14,"div",5),n._UZ(15,"img",6),n.qZA(),n.TgZ(16,"h2",12),n._uU(17),n.qZA(),n.qZA(),n.YNc(18,jt,1,1,"mat-progress-bar",13),n.TgZ(19,"div",14),n.TgZ(20,"mat-tab-group",15,16),n.YNc(22,Mt,4,1,"ng-container",9),n.qZA(),n.TgZ(23,"div",17),n.TgZ(24,"div",18),n.TgZ(25,"button",19),n.NdJ("click",function(){return e.goToPreviousStep()}),n._UZ(26,"mat-icon",20),n.TgZ(27,"span",21),n._uU(28,"Prev"),n.qZA(),n.qZA(),n.TgZ(29,"div",22),n.TgZ(30,"span"),n._uU(31),n.qZA(),n.TgZ(32,"span",23),n._uU(33,"/"),n.qZA(),n.TgZ(34,"span"),n._uU(35),n.qZA(),n.qZA(),n.TgZ(36,"button",19),n.NdJ("click",function(){return e.goToNextStep()}),n.YNc(37,Pt,2,0,"span",24),n.YNc(38,Rt,2,0,"span",24),n._UZ(39,"mat-icon",25),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(40,"div",26),n.TgZ(41,"button",27),n.NdJ("click",function(){return n.CHM(t),n.MAs(3).toggle()}),n._UZ(42,"mat-icon",28),n.qZA(),n.TgZ(43,"div",29),n.TgZ(44,"span"),n._uU(45),n.qZA(),n.TgZ(46,"span",23),n._uU(47,"/"),n.qZA(),n.TgZ(48,"span"),n._uU(49),n.qZA(),n.qZA(),n._UZ(50,"mat-progress-bar",30),n.TgZ(51,"button",31),n.NdJ("click",function(){return e.goToPreviousStep()}),n._UZ(52,"mat-icon",28),n.qZA(),n.TgZ(53,"button",32),n.NdJ("click",function(){return e.goToNextStep()}),n._UZ(54,"mat-icon",28),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}2&t&&(n.xp6(2),n.Q6J("autoFocus",!1)("mode",e.drawerMode)("opened",e.drawerOpened),n.xp6(4),n.Q6J("src",e.project.branding.logo,n.LSH),n.xp6(2),n.Oqu(e.project.name),n.xp6(3),n.Q6J("ngForOf",e.sideMenuSteps)("ngForTrackBy",e.trackByFn),n.xp6(4),n.Q6J("src",e.project.branding.logo,n.LSH),n.xp6(2),n.hij(" ",e.project.name," "),n.xp6(1),n.Q6J("ngIf",e.sideMenuSteps&&e.navData.currentStep+1),n.xp6(2),n.Q6J("animationDuration","200"),n.xp6(2),n.Q6J("ngForOf",e.sideMenuSteps)("ngForTrackBy",e.trackByFn),n.xp6(4),n.Q6J("svgIcon","heroicons_outline:arrow-narrow-left"),n.xp6(5),n.Oqu(e.navData.currentStep+1),n.xp6(4),n.Oqu(e.sideMenuSteps.length),n.xp6(2),n.Q6J("ngIf",e.navData.currentStep+1<e.sideMenuSteps.length),n.xp6(1),n.Q6J("ngIf",e.navData.currentStep+1===e.sideMenuSteps.length),n.xp6(1),n.Q6J("svgIcon","heroicons_outline:arrow-narrow-right"),n.xp6(3),n.Q6J("svgIcon","heroicons_outline:view-list"),n.xp6(3),n.Oqu(e.navData.currentStep+1),n.xp6(4),n.Oqu(e.sideMenuSteps.length),n.xp6(1),n.Q6J("value",100*(e.navData.currentStep+1)/e.sideMenuSteps.length),n.xp6(2),n.Q6J("svgIcon","heroicons_outline:arrow-narrow-left"),n.xp6(2),n.Q6J("svgIcon","heroicons_outline:arrow-narrow-right"))},directives:[m.kh,m.jA,i.sg,m.LW,i.O5,g.PQ,f.SP,h.lW,x.Hw,Z.pW,i.mk,f.uX,f.Vc,P,gt,At],pipes:[u.Ot],styles:[".verifikH1[_ngcontent-%COMP%]{color:#01236d!important;font-weight:600;margin-bottom:0!important}.verifikH3[_ngcontent-%COMP%]{color:#01236d!important;font-weight:600;font-size:22px;line-height:28px;padding-bottom:5px}.verifikH4[_ngcontent-%COMP%]{color:#01236d!important;font-weight:600;font-size:16px;line-height:20px}.primaryColor[_ngcontent-%COMP%]{color:#01236d!important}.primaryBg[_ngcontent-%COMP%]{background-color:#01236d!important;color:#fff!important}.divider-height[_ngcontent-%COMP%]{width:2px;background-color:rgba(128,128,128,.431);height:100%;margin-top:5px;margin-bottom:5px}.secondaryVerifikLabel[_ngcontent-%COMP%]{background:#E5EBFD;padding:8px;margin:6px;color:#0036e7;font-weight:600;border-radius:15px;text-align:center;min-width:100px}.secondaryVerifikButton[_ngcontent-%COMP%]{background-color:#e5ebfd!important;color:#0036e7!important;font-weight:400}.deleteVerifikButton[_ngcontent-%COMP%]{background-color:rgba(220,53,69,.58)!important;color:#fff!important;font-weight:400}.mainVerifikButton[_ngcontent-%COMP%]{background-color:#0036e7!important;color:#fff!important}@media only screen and (max-width: 595px){.verifikH1[_ngcontent-%COMP%]{font-size:20px}.xs-mt16[_ngcontent-%COMP%]{margin-top:16px}.main-card[_ngcontent-%COMP%]{width:100%!important}}@media only screen and (min-width: 600px){.verifikH1[_ngcontent-%COMP%]{font-size:26px}.main-card[_ngcontent-%COMP%]{width:100%!important}}@media only screen and (min-width: 768px){.verifikH1[_ngcontent-%COMP%]{font-size:30px}.main-card[_ngcontent-%COMP%]{width:500px!important}}@media only screen and (min-width: 889px){.verifikH1[_ngcontent-%COMP%]{font-size:34px}.main-card[_ngcontent-%COMP%]{width:500px!important}}@media only screen and (min-width: 1200px){.verifikH1[_ngcontent-%COMP%]{font-size:36px}.main-card[_ngcontent-%COMP%]{width:500px!important}}.white-background[_ngcontent-%COMP%]{background-color:#fff!important}.border-right[_ngcontent-%COMP%]{border-right:1px solid #80808030}.content-background[_ngcontent-%COMP%]{background-color:#f9f9ff!important}.big-stepper[_ngcontent-%COMP%]{background-color:#01236d!important;color:#fff!important}.mat-tab-label-container[_ngcontent-%COMP%]{display:none!important}mat-tab-header[_ngcontent-%COMP%]{display:none!important}[_nghost-%COMP%]     .mat-tab-header{display:none!important}"]}),t})();var Dt=o(40205),Lt=o(5304),Bt=o(44642),Vt=o(60467);let Ht=(()=>{class t{constructor(t,e,o){this._router=t,this._kycService=e,this._buttonMockService=o}resolve(t,e){if(t.queryParams.demo){localStorage.clear(),this._buttonMockService.isDemo=!0,Bt.og.email=t.queryParams.email,Bt.og.phone=t.queryParams.phone;for(const e in t.queryParams)Bt.fB[e]&&(Bt.og.informationValidation[e]=t.queryParams[e])}t.queryParams.token&&localStorage.setItem("accessToken",t.queryParams.token);const o=t.params.id,i=localStorage.getItem("accessToken");return i&&"start/:id"===t.routeConfig.path&&this._router.navigate(["/kyc/project/",o]),!i&&"project/:id"===t.routeConfig.path&&this._router.navigate(["/kyc/start/",o]),i?this._kycService.getAppRegistrationWithJWT(o).pipe((0,Lt.K)(t=>(localStorage.removeItem("accessToken"),this._router.navigate(["/kyc/start/",o]),(0,Dt._)(t)))):this._kycService.getProjectForNewKYC(o).pipe((0,Lt.K)(t=>{console.error(t);const o=e.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(o),(0,Dt._)(t)}))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(r.F0),n.LFG(l.y),n.LFG(Vt.v))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Kt=o(16738),Et=o.n(Kt),$t=o(92340),zt=o(57408);function Gt(t,e){1&t&&(n.TgZ(0,"mat-error",29),n._uU(1),n.ALo(2,"transloco"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"start.required_first_name")," "))}function Wt(t,e){1&t&&(n.TgZ(0,"mat-error",29),n._uU(1),n.ALo(2,"transloco"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"start.required_last_name")," "))}function Xt(t,e){if(1&t&&(n.TgZ(0,"div",23),n.TgZ(1,"mat-form-field",24),n.TgZ(2,"mat-label"),n._uU(3),n.ALo(4,"transloco"),n.qZA(),n._UZ(5,"input",25),n.YNc(6,Gt,3,3,"mat-error",26),n.qZA(),n.TgZ(7,"mat-form-field",27),n.TgZ(8,"mat-label"),n._uU(9),n.ALo(10,"transloco"),n.qZA(),n._UZ(11,"input",28),n.YNc(12,Wt,3,3,"mat-error",26),n.qZA(),n.qZA()),2&t){const t=n.oxw(2);n.xp6(3),n.Oqu(n.lcZ(4,6,"start.first_name")),n.xp6(2),n.Q6J("formControlName","firstName"),n.xp6(1),n.Q6J("ngIf",t.signUpForm.get("firstName").hasError("required")),n.xp6(3),n.hij(" ",n.lcZ(10,8,"start.last_name"),""),n.xp6(2),n.Q6J("formControlName","lastName"),n.xp6(1),n.Q6J("ngIf",t.signUpForm.get("lastName").hasError("required"))}}function te(t,e){1&t&&(n.TgZ(0,"mat-error",29),n._uU(1),n.ALo(2,"transloco"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"start.required_email")," "))}function ee(t,e){1&t&&(n.TgZ(0,"mat-error",29),n._uU(1),n.ALo(2,"transloco"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"start.invalid_email")," "))}function oe(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"transloco"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"start.send_otp_button")," "))}function ie(t,e){1&t&&n._UZ(0,"mat-progress-spinner",34),2&t&&n.Q6J("diameter",12)("mode","indeterminate")}function ne(t,e){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&t){const t=n.oxw(3);n.xp6(1),n.hij(" (",t.emailValidation.diff,") s ")}}function re(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",30),n.TgZ(1,"mat-form-field",31),n.TgZ(2,"mat-label"),n._uU(3),n.ALo(4,"transloco"),n.qZA(),n._UZ(5,"input",32),n.YNc(6,te,3,3,"mat-error",26),n.YNc(7,ee,3,3,"mat-error",26),n.qZA(),n.TgZ(8,"button",33),n.NdJ("click",function(e){return n.CHM(t),n.oxw(2).sendOTP("email"),e.preventDefault()}),n.YNc(9,oe,3,3,"span",19),n.YNc(10,ie,1,2,"mat-progress-spinner",20),n.YNc(11,ne,2,1,"span",19),n.qZA(),n.qZA()}if(2&t){const t=n.oxw(2);n.xp6(3),n.hij(" ",n.lcZ(4,8,"start.email"),""),n.xp6(2),n.Q6J("formControlName","email"),n.xp6(1),n.Q6J("ngIf",t.signUpForm.get("email").hasError("required")),n.xp6(1),n.Q6J("ngIf",t.signUpForm.get("email").hasError("email")),n.xp6(1),n.Q6J("disabled",t.emailSent),n.xp6(1),n.Q6J("ngIf",!t.emailSent),n.xp6(1),n.Q6J("ngIf",t.emailSent),n.xp6(1),n.Q6J("ngIf",t.emailSent)}}function ae(t,e){1&t&&n._UZ(0,"mat-icon",39),2&t&&n.Q6J("svgIcon","heroicons_solid:eye")}function se(t,e){1&t&&n._UZ(0,"mat-icon",39),2&t&&n.Q6J("svgIcon","heroicons_solid:eye-off")}function ce(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"mat-form-field",24),n.TgZ(1,"mat-label"),n._uU(2),n.ALo(3,"transloco"),n.qZA(),n._UZ(4,"input",35,36),n.TgZ(6,"button",37),n.NdJ("click",function(){n.CHM(t);const e=n.MAs(5);return e.type="password"===e.type?"number":"password"}),n.YNc(7,ae,1,1,"mat-icon",38),n.YNc(8,se,1,1,"mat-icon",38),n.qZA(),n.TgZ(9,"mat-error",29),n._uU(10),n.ALo(11,"transloco"),n.qZA(),n.qZA()}if(2&t){const t=n.MAs(5);n.xp6(2),n.hij(" ",n.lcZ(3,5,"start.email_otp"),""),n.xp6(2),n.Q6J("formControlName","emailOTP"),n.xp6(3),n.Q6J("ngIf","password"===t.type),n.xp6(1),n.Q6J("ngIf","text"===t.type),n.xp6(2),n.hij(" ",n.lcZ(11,7,"start.code_is_required")," ")}}function le(t,e){if(1&t&&(n.ynx(0),n.TgZ(1,"mat-option",46),n.TgZ(2,"span",43),n.TgZ(3,"span",47),n._uU(4),n.qZA(),n.TgZ(5,"span",48),n._uU(6),n.qZA(),n.qZA(),n.qZA(),n.BQk()),2&t){const t=e.$implicit;n.xp6(1),n.Q6J("value",t.code),n.xp6(3),n.Oqu(t.name),n.xp6(2),n.Oqu(t.code)}}function pe(t,e){if(1&t&&(n.TgZ(0,"mat-select",42),n.TgZ(1,"mat-select-trigger"),n.TgZ(2,"span",43),n.TgZ(3,"span",44),n._uU(4),n.qZA(),n.qZA(),n.qZA(),n.YNc(5,le,7,3,"ng-container",45),n.qZA()),2&t){const t=n.oxw(3);n.Q6J("formControl",t.signUpForm.get("countryCode")),n.xp6(4),n.Oqu(t.signUpForm.get("countryCode").value),n.xp6(1),n.Q6J("ngForOf",t.countries)("ngForTrackBy",t.trackByFn)}}function de(t,e){1&t&&(n.TgZ(0,"mat-error",29),n._uU(1),n.ALo(2,"transloco"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"start.required_phone")," "))}function ue(t,e){1&t&&(n.TgZ(0,"mat-error",29),n._uU(1),n.ALo(2,"transloco"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"start.invalid_phone")," "))}function me(t,e){if(1&t&&(n.TgZ(0,"mat-form-field",49),n.TgZ(1,"mat-label"),n._uU(2),n.ALo(3,"transloco"),n.qZA(),n._UZ(4,"input",50),n.YNc(5,de,3,3,"mat-error",26),n.YNc(6,ue,3,3,"mat-error",26),n.qZA()),2&t){const t=n.oxw(3);n.xp6(2),n.hij(" ",n.lcZ(3,4,"start.phone"),""),n.xp6(2),n.Q6J("formControlName","phone"),n.xp6(1),n.Q6J("ngIf",t.signUpForm.get("phone").hasError("required")),n.xp6(1),n.Q6J("ngIf",t.signUpForm.get("phone").hasError("phone"))}}function ge(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"transloco"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"start.send_otp_button")," "))}function fe(t,e){1&t&&n._UZ(0,"mat-progress-spinner",34),2&t&&n.Q6J("diameter",12)("mode","indeterminate")}function he(t,e){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&t){const t=n.oxw(3);n.xp6(1),n.hij(" (",t.phoneValidation.diff,") s ")}}function xe(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",30),n.TgZ(1,"mat-form-field",24),n.TgZ(2,"mat-label"),n._uU(3),n.ALo(4,"transloco"),n.qZA(),n.YNc(5,pe,6,4,"mat-select",40),n.qZA(),n.YNc(6,me,7,6,"mat-form-field",41),n.TgZ(7,"button",33),n.NdJ("click",function(e){return n.CHM(t),n.oxw(2).sendOTP("phone"),e.preventDefault()}),n.YNc(8,ge,3,3,"span",19),n.YNc(9,fe,1,2,"mat-progress-spinner",20),n.YNc(10,he,2,1,"span",19),n.qZA(),n.qZA()}if(2&t){const t=n.oxw(2);n.xp6(3),n.hij(" ",n.lcZ(4,7,"start.country_code"),""),n.xp6(2),n.Q6J("ngIf",t.countries),n.xp6(1),n.Q6J("ngIf",t.groupFields.phone),n.xp6(1),n.Q6J("disabled",t.smsSent),n.xp6(1),n.Q6J("ngIf",!t.smsSent),n.xp6(1),n.Q6J("ngIf",t.smsSent),n.xp6(1),n.Q6J("ngIf",t.smsSent)}}function Ze(t,e){1&t&&n._UZ(0,"mat-icon",39),2&t&&n.Q6J("svgIcon","heroicons_solid:eye")}function be(t,e){1&t&&n._UZ(0,"mat-icon",39),2&t&&n.Q6J("svgIcon","heroicons_solid:eye-off")}function _e(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"mat-form-field",24),n.TgZ(1,"mat-label"),n._uU(2),n.ALo(3,"transloco"),n.qZA(),n._UZ(4,"input",51,36),n.TgZ(6,"button",37),n.NdJ("click",function(){n.CHM(t);const e=n.MAs(5);return e.type="password"===e.type?"text":"password"}),n.YNc(7,Ze,1,1,"mat-icon",38),n.YNc(8,be,1,1,"mat-icon",38),n.qZA(),n.TgZ(9,"mat-error",29),n._uU(10),n.ALo(11,"transloco"),n.qZA(),n.qZA()}if(2&t){const t=n.MAs(5);n.xp6(2),n.hij("",n.lcZ(3,5,"start.phone_otp")," "),n.xp6(2),n.Q6J("formControlName","phoneOTP"),n.xp6(3),n.Q6J("ngIf","password"===t.type),n.xp6(1),n.Q6J("ngIf","text"===t.type),n.xp6(2),n.hij(" ",n.lcZ(11,7,"start.code_is_required")," ")}}function ve(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"transloco"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"start.create_account_button")," "))}function ye(t,e){1&t&&n._UZ(0,"mat-progress-spinner",34),2&t&&n.Q6J("diameter",24)("mode","indeterminate")}function we(t,e){if(1&t&&(n.TgZ(0,"fuse-alert",52),n._uU(1),n.ALo(2,"transloco"),n.qZA()),2&t){const t=n.oxw(2);n.Q6J("appearance","outline")("showIcon",!1)("type",t.alert.type)("@shake","error"===t.alert.type),n.xp6(1),n.hij(" ",n.lcZ(2,5,"errors."+t.alert.message)," ")}}const Ae=function(t){return["/passwordless/auth/",t]};function ke(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",1),n.TgZ(1,"div",2),n.TgZ(2,"div",3),n.TgZ(3,"div",4),n.TgZ(4,"div",5),n._UZ(5,"img",6),n.qZA(),n.TgZ(6,"div",7),n._uU(7),n.qZA(),n.qZA(),n.TgZ(8,"div",8),n._uU(9),n.ALo(10,"transloco"),n.qZA(),n.TgZ(11,"div",9),n.TgZ(12,"div"),n._uU(13),n.ALo(14,"transloco"),n.qZA(),n.TgZ(15,"a",10),n._uU(16),n.ALo(17,"transloco"),n.qZA(),n.qZA(),n.TgZ(18,"form",11),n.YNc(19,Xt,13,10,"div",12),n.YNc(20,re,12,10,"div",13),n.YNc(21,ce,12,9,"mat-form-field",14),n.YNc(22,xe,11,9,"div",13),n.YNc(23,_e,12,9,"mat-form-field",14),n.TgZ(24,"div",15),n.TgZ(25,"mat-checkbox",16),n.TgZ(26,"span"),n._uU(27),n.ALo(28,"transloco"),n.qZA(),n.TgZ(29,"a",17),n.NdJ("click",function(){return n.CHM(t),n.oxw().openConditions("tos")}),n._uU(30),n.ALo(31,"transloco"),n.qZA(),n.TgZ(32,"span"),n._uU(33),n.ALo(34,"transloco"),n.qZA(),n.TgZ(35,"a",17),n.NdJ("click",function(){return n.CHM(t),n.oxw().openConditions("pt")}),n._uU(36),n.ALo(37,"transloco"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(38,"button",18),n.NdJ("click",function(){return n.CHM(t),n.oxw().signUp()}),n.YNc(39,ve,3,3,"span",19),n.YNc(40,ye,1,2,"mat-progress-spinner",20),n.qZA(),n.qZA(),n.YNc(41,we,3,7,"fuse-alert",21),n.TgZ(42,"div",22),n._UZ(43,"languages"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(5),n.Q6J("src",t.project.branding.logo,n.LSH),n.xp6(2),n.Oqu(t.project.name),n.xp6(2),n.hij(" ",n.lcZ(10,23,"start.title")," "),n.xp6(4),n.Oqu(n.lcZ(14,25,"start.existing_account_label")),n.xp6(2),n.Q6J("routerLink",n.VKq(37,Ae,t.project._id)),n.xp6(1),n.hij(" ",n.lcZ(17,27,"start.login_here_link")," "),n.xp6(2),n.Q6J("formGroup",t.signUpForm),n.xp6(1),n.Q6J("ngIf",t.groupFields.firstName),n.xp6(1),n.Q6J("ngIf",t.groupFields.email),n.xp6(1),n.Q6J("ngIf",t.groupFields.emailOTP),n.xp6(1),n.Q6J("ngIf",t.groupFields.phone),n.xp6(1),n.Q6J("ngIf",t.groupFields.phoneOTP),n.xp6(2),n.Q6J("color","primary")("formControlName","agreements"),n.xp6(2),n.Oqu(n.lcZ(28,29,"start.terms_1")),n.xp6(3),n.hij("",n.lcZ(31,31,"start.terms_2")," "),n.xp6(3),n.Oqu(n.lcZ(34,33,"start.terms_3")),n.xp6(3),n.hij("",n.lcZ(37,35,"start.terms_4")," "),n.xp6(2),n.Q6J("color","primary")("disabled",!t.isFormValid()),n.xp6(1),n.Q6J("ngIf",!t.signUpForm.disabled),n.xp6(1),n.Q6J("ngIf",t.signUpForm.disabled),n.xp6(1),n.Q6J("ngIf",t.showAlert)}}const qe=[{path:"",component:a,resolve:{},children:[{path:"project/:id",pathMatch:"full",component:Yt,resolve:{project:Ht}},{path:"start/:id",pathMatch:"full",component:(()=>{class t{constructor(t,e,o,i,n){this._KycService=t,this._formBuilder=e,this._changeDetectorRef=o,this._router=i,this._activeRoute=n,this.alert={type:"success",message:""},this.showAlert=!1,this._unsubscribeAll=new s.xQ,this.countries=this._KycService.countryCodes}ngOnInit(){this._ObserveProject(),this._initForm(),this._activeRoute.queryParams.subscribe(t=>{this.isDemo=Boolean(t.demo)})}_ObserveProject(){this._KycService.currentProject$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.project=t,this.projectFlow=t.currentProjectFlow,this._changeDetectorRef.markForCheck()})}_initForm(){this.groupFields={agreements:[!1,[b.kI.required]]};const t=$t.N.production,e={email:t?"":"jhon.doe@verifik.co",emailOTP:t?"":123456,countryCode:"+57",phone:t?"":"123456789",phoneOTP:t?"":123456,firstName:t?"":"Jhon",lastName:t?"":"Doe"};this.projectFlow.email&&(this.groupFields.email=[e.email,[b.kI.required,b.kI.email]],this.groupFields.emailOTP=[e.emailOTP,[b.kI.required,b.kI.minLength(6)]]),this.projectFlow.phone&&(this.groupFields.countryCode=[e.countryCode,[b.kI.required]],this.groupFields.phone=[e.phone,[b.kI.required]],this.groupFields.phoneOTP=[e.phoneOTP,[b.kI.required,b.kI.minLength(6)]]),this.projectFlow.onboardingSettings.basicInformation.fullName&&(this.groupFields.firstName=[e.firstName,[b.kI.required]],this.groupFields.lastName=[e.lastName,[b.kI.required]]),this.signUpForm=this._formBuilder.group(this.groupFields)}isFormValid(){return Boolean(this.signUpForm.valid&&this.signUpForm.value.agreements)}signUp(){!this.signUpForm.valid||!this.signUpForm.value.agreements||this._KycService.createAccount(this.project._id,this.signUpForm.value).subscribe(t=>{this.codeError=void 0,localStorage.setItem("accessToken",t.data.token),t.data.qr&&localStorage.setItem("qr",t.data.qr),this._router.navigate(["/kyc/project",this.project._id])},t=>{this.codeError=void 0,this.showAlert=!0,this.alert.type="error",this.alert.message=t.error.message})}ngOnDestroy(){this._unsubscribeAll.next(null)}sendOTP(t){switch(t){case"email":this._KycService.sendEmailValidation(this.signUpForm.value.email).subscribe(e=>{this.emailValidation=e.data,this.emailSent=!0,this.startTimer(t)},t=>{this.codeError=void 0,this.showAlert=!0,this.alert.type="error",this.alert.message=t.error.message});break;case"phone":this._KycService.sendPhoneValidation(this.signUpForm.value.countryCode,this.signUpForm.value.phone).subscribe(e=>{this.phoneValidation=e.data,this.smsSent=!0,this.startTimer(t)},t=>{this.codeError=void 0,this.showAlert=!0,this.alert.type="error",this.alert.message=t.error.message})}}startTimer(t){let e;switch(t){case"email":if(!this.emailValidation)return 0;this.emailValidation.diff=Et()(this.emailValidation.expiresAt).diff(new Date,"seconds")-780,e=setInterval(()=>{this.emailValidation.diff>0?this.emailValidation.diff--:(clearInterval(e),this.emailSent=!1,this.emailValidation=null),this._changeDetectorRef.detectChanges()},1e3);break;case"phone":if(!this.phoneValidation)return 0;this.phoneValidation.diff=Et()(this.phoneValidation.expiresAt).diff(new Date,"seconds")-780,e=setInterval(()=>{this.phoneValidation.diff>0?this.phoneValidation.diff--:(clearInterval(e),this.smsSent=!1,this.phoneValidation=null),this._changeDetectorRef.detectChanges()},1e3)}}openConditions(t){"tos"!=t?window.open(`${this.project.privacyUrl}`,"_blank"):window.open(`${this.project.termsAndConditionsUrl}`,"_blank")}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(l.y),n.Y36(b.qu),n.Y36(n.sBO),n.Y36(r.F0),n.Y36(r.gz))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-kyc-account-creation-with-basic-information"]],decls:1,vars:1,consts:[["class","flex flex-col flex-auto items-center sm:justify-center min-w-0",4,"ngIf"],[1,"flex","flex-col","flex-auto","items-center","sm:justify-center","min-w-0"],[1,"w-full","sm:w-auto","py-8","px-4","sm:p-12","sm:rounded-2xl","sm:shadow","sm:bg-card","mx-auto","main-card"],[1,"w-full","mx-auto","sm:mx-0",2,"max-width","500px"],[1,"w-full","grid","grid-cols-4"],[1,"w-12"],[3,"src"],[1,"mt-3","text-2xl","font-extrabold","tracking-tight","leading-tight","col-span-3"],[1,"mt-8","text-4xl","font-extrabold","tracking-tight","leading-tight"],[1,"flex","items-baseline","mt-0.5","font-medium"],[1,"ml-1","text-primary-500","hover:underline",3,"routerLink"],[1,"mt-8",3,"formGroup"],["class","grid grid-cols-2",4,"ngIf"],["class","grid grid-cols-4",4,"ngIf"],["class","w-full",4,"ngIf"],[1,"inline-flex","items-end","w-full","mt-1.5"],[3,"color","formControlName"],[1,"ml-1","text-primary-500","hover:underline",3,"click"],["mat-flat-button","",1,"fuse-mat-button-large","w-full","mt-6",3,"color","disabled","click"],[4,"ngIf"],[3,"diameter","mode",4,"ngIf"],["class","mt-8",3,"appearance","showIcon","type",4,"ngIf"],[1,"w-full","text-center","mt-6"],[1,"grid","grid-cols-2"],[1,"w-full"],["id","firstName","matInput","",3,"formControlName"],["class","p-1",4,"ngIf"],[1,"ml-2","w-full"],["id","lastName","matInput","",3,"formControlName"],[1,"p-1"],[1,"grid","grid-cols-4"],[1,"w-full","col-span-3"],["id","email","matInput","","type","email",3,"formControlName"],["mat-stroked-button","","color","primary",1,"mt-7","ml-2",3,"disabled","click"],[3,"diameter","mode"],["id","emailOTP","matInput","","type","password",3,"formControlName"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],[1,"icon-size-5",3,"svgIcon"],["class","mr-1.5","matPrefix","",3,"formControl",4,"ngIf"],["class","w-full col-span-2 ml-1 mr-1",4,"ngIf"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"flex","items-center"],[1,"sm:mx-0.5","font-medium","text-default"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],[1,"ml-2"],[1,"ml-2","font-medium"],[1,"w-full","col-span-2","ml-1","mr-1"],["id","phone","matInput","","type","number",3,"formControlName"],["id","phoneOTP","matInput","","type","password",3,"formControlName"],[1,"mt-8",3,"appearance","showIcon","type"]],template:function(t,e){1&t&&n.YNc(0,ke,44,39,"div",0),2&t&&n.Q6J("ngIf",e.project)},directives:[i.O5,r.yS,b._Y,b.JL,b.sg,V.oG,b.JJ,b.u,h.lW,zt.v,_.KE,_.hX,v.Nt,b.Fj,_.TO,K.Ou,_.R9,x.Hw,w.gD,_.qo,b.oH,w.$L,i.sg,A.ey,b.wV,H.W],pipes:[u.Ot],styles:[".main-card[_ngcontent-%COMP%]{width:500px!important}.w-120px[_ngcontent-%COMP%]{width:95%!important}@media only screen and (max-width: 595px){.main-card[_ngcontent-%COMP%]{width:100%!important}}@media only screen and (min-width: 600px){.main-card[_ngcontent-%COMP%]{width:100%!important}}@media only screen and (min-width: 768px){.main-card[_ngcontent-%COMP%]{width:500px!important}}@media only screen and (min-width: 889px){.main-card[_ngcontent-%COMP%]{width:500px!important}}@media only screen and (min-width: 1200px){.main-card[_ngcontent-%COMP%]{width:500px!important}}"],data:{animation:D.L}}),t})(),resolve:{project:Ht}}]}];var Te=o(45396),Ie=o(11436),Ce=o(7853),Fe=o(44466),Se=o(77001),Oe=o(33935),je=o(58341),Ne=o(21554),Qe=o(82120),Je=o(99835);let Ue=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[i.ez]]}),t})();var Me=o(10588),Pe=o(1769),Re=o(87636),Ye=(o(34564),o(70946));o(36461),o(80521),o(25917),o(39761);let De=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[Ye.vT]]}),t})();o(75319),o(43190),o(88002),o(87519),o(17238);let Le=(()=>{class t{constructor(){this.changes=new s.xQ,this.optionalLabel="Optional"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Be={provide:Le,deps:[[new n.FiY,new n.tp0,Le]],useFactory:function(t){return t||new Le}};let Ve=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[Be,A.rD],imports:[[A.BQ,i.ez,Re.eL,h.ot,De,x.Ps,A.si],A.BQ]}),t})(),He=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[r.Bz.forChild(qe),i.ez,u.y4,h.ot,_.lN,x.Ps,v.c,Te.rP,Ie.AV,Ce.V,Fe.m,Se.ZX,V.p9,Oe.Tx,je.Hi,Ne.Bb,Qe.k,K.Cq,Z.Cv,w.LD,Je.y,f.Nh,m.SJ,y.FA,A.XK,Ve,Ue,Me.fC,L.Is,Pe.t]]}),t})()}}]);
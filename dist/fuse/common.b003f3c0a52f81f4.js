"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[592],{8340:(_,u,r)=>{r.d(u,{H:()=>l});var d=r(553),o=r(9397),s=r(8533),p=r(5879),c=r(2065),h=r(8991);let l=(()=>{class a{constructor(t,e){this._httpWrapper=t,this._translocoService=e,this.baseUrl=d.N.apiUrl}getNavigation(){return this.navigation}initNavigation(){let t=1;const e=[],n={},i=this.currentProjectFlow.onboardingSettings.steps;return["mandatory","optional"].includes(i.document)&&(t++,e.push({code:"document",status:i.document}),n.document=i.document,t++,e.push({code:"documentReview",status:i.document}),n.documentReview=i.document),["mandatory","optional"].includes(i.liveness)&&(t++,e.push({code:"liveness",status:i.liveness}),n.liveness=i.liveness),e.push({code:"end",status:"mandatory"}),t++,this.navigation={currentStep:1,lastStep:t,steps:i,map:n,displayableSteps:e},this.navigation}getProject(){return this.currentProject}navigateTo(t){setTimeout(()=>{"next"!==t?this.navigation.currentStep=t:"liveness"===this.navigation.currentStep&&(this.navigation.currentStep="end")},750)}getAppRegistration(t){return this._httpWrapper.sendRequest("get",`${this.baseUrl}/v2/app-registrations/me`,t).pipe((0,o.b)(e=>{this.appRegistration=e.data,this.currentProject=new s.XR({...this.appRegistration.project,type:"onboarding"}),this.currentProjectFlow=this.appRegistration.projectFlow}))}createAppRegistration(t){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/app-registrations`,t)}sendEmailValidation(t){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/email-validations`,{email:t,project:this.currentProject._id,projectFlow:this.currentProjectFlow._id,type:"onboarding",validationMethod:"verificationCode",language:this._translocoService.getActiveLang()}).pipe((0,o.b)(e=>{}))}sendPhoneValidation(t,e){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/phone-validations`,{countryCode:t,phone:e,project:this.currentProject._id,projectFlow:this.currentProjectFlow._id,type:"onboarding",validationMethod:"verificationCode",language:this._translocoService.getActiveLang()}).pipe((0,o.b)(n=>{}))}confirmEmailValidation(t,e){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/email-validations/validate`,{email:t,otp:e,project:this.currentProject._id,projectFlow:this.currentProjectFlow._id})}confirmPhoneValidation(t,e,n){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/phone-validations/validate`,{countryCode:t,phone:e,otp:n,project:this.currentProject._id,projectFlow:this.currentProjectFlow._id})}updateAppRegistration(t){return this._httpWrapper.sendRequest("put",`${this.baseUrl}/v2/app-registrations/${this.appRegistration._id}`,{...t})}syncAppRegistration(t){return this._httpWrapper.sendRequest("put",`${this.baseUrl}/v2/app-registrations/${this.appRegistration._id}/sync`,{step:t})}createDocumentValidation(t){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/document-validations/app-registration`,t)}createBiometricValidation(t){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/biometric-validations/app-registration`,t)}static#t=this.\u0275fac=function(e){return new(e||a)(p.LFG(c.O),p.LFG(h.Vn))};static#e=this.\u0275prov=p.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},4771:(_,u,r)=>{r.d(u,{i:()=>l});var d=r(553),o=r(9397),s=r(8533),p=r(5879),c=r(2065),h=r(8991);let l=(()=>{class a{constructor(t,e){this._httpWrapper=t,this._translocoService=e,this.baseUrl=d.N.apiUrl}requestProject(t,e="onboarding"){return this._httpWrapper.sendRequest("get",`${this.baseUrl}/v2/projects/kyc`,{id:t}).pipe((0,o.b)(n=>{this.currentProject=new s.XR({...n.data,type:e})}))}sendEmailValidation(t,e){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/email-validations`,{email:e,project:this.currentProject._id,projectFlow:this.currentProject.currentProjectFlow._id,type:"login",validationMethod:"verificationCode",language:this._translocoService.getActiveLang()}).pipe((0,o.b)(n=>{}))}sendPhoneValidation(t,e,n){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/phone-validations`,{phone:e,countryCode:t,projectFlow:this.currentProject.currentProjectFlow._id,project:this.currentProject._id,phoneGateway:n,type:"login",language:this._translocoService.getActiveLang(),validationMethod:"verificationCode"}).pipe((0,o.b)(i=>{}))}confirmPhoneValidation(t,e,n,i){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/phone-validations/validate`,{projectFlow:this.currentProject.currentProjectFlow._id,countryCode:t,phone:e,otp:n,authenticatorOTP:i,type:"login"}).pipe((0,o.b)(v=>{}))}confirmEmailValidation(t,e,n){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/email-validations/validate`,{email:t,otp:e,projectFlow:this.currentProject.currentProjectFlow._id}).pipe((0,o.b)(i=>{}))}getProject(){return this.currentProject}biometricsSignIn(t){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/projects/biometrics/sign-in`,t)}createLivenessSession(t){const e=localStorage.getItem("accessToken");let n=`${this.baseUrl}/v2/biometric-validations`;return e&&(n+="/app-login"),this._httpWrapper.sendRequest("post",n,{...t,projectFlow:this.currentProject.currentProjectFlow._id,project:this.currentProject._id},{Headers:{Authorization:e?`Bearer ${e}`:""}})}validateBiometrics(t){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/biometric-validations/validate`,t)}createAppRegistration(t){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/app-registrations`,t)}static#t=this.\u0275fac=function(e){return new(e||a)(p.LFG(c.O),p.LFG(h.Vn))};static#e=this.\u0275prov=p.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},9559:(_,u,r)=>{r.d(u,{K:()=>o});var d=r(5879);let o=(()=>{class s{constructor(){this.countryCodes=[{code:"+54",name:"Argentina"},{code:"+61",name:"Australia"},{code:"+43",name:"Austria"},{code:"+32",name:"Belgium"},{code:"+55",name:"Brazil"},{code:"+1",name:"Canada"},{code:"+56",name:"Chile"},{code:"+57",name:"Colombia"},{code:"+506",name:"Costa Rica"},{code:"+593",name:"Ecuador"},{code:"+503",name:"El Salvador"},{code:"+33",name:"France"},{code:"+49",name:"Germany"},{code:"+502",name:"Guatemala"},{code:"+504",name:"Honduras"},{code:"+353",name:"Ireland"},{code:"+39",name:"Italy"},{code:"+52",name:"Mexico"},{code:"+31",name:"Netherlands"},{code:"+505",name:"Nicaragua"},{code:"+47",name:"Norway"},{code:"+507",name:"Panama"},{code:"+595",name:"Paraguay"},{code:"+51",name:"Peru"},{code:"+351",name:"Portugal"},{code:"+1-787",name:"Puerto Rico"},{code:"+1-939",name:"Puerto Rico"},{code:"+7",name:"Russia"},{code:"+34",name:"Spain"},{code:"+46",name:"Sweden"},{code:"+41",name:"Switzerland"},{code:"+1-868",name:"Trinidad and Tobago"},{code:"+44",name:"United Kingdom"},{code:"+1",name:"United States of America"},{code:"+598",name:"Uruguay"},{code:"+58",name:"Venezuela"}]}static#t=this.\u0275fac=function(h){return new(h||s)};static#e=this.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},1944:(_,u,r)=>{r.d(u,{J:()=>p});var d=r(553),o=r(5879),s=r(2065);let p=(()=>{class c{constructor(l){this._httpWrapper=l,this.baseUrl=d.N.apiUrl,this.enviroment=d.N}livenessDemo(l){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/face-recognition/liveness/demo`,l)}static#t=this.\u0275fac=function(a){return new(a||c)(o.LFG(s.O))};static#e=this.\u0275prov=o.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()}}]);
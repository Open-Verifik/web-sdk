"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[268],{8905:(A,I,c)=>{c.d(I,{e:()=>k});var r=c(5861),i=c(553),f=c(5879),b=c(2065);let u=null,k=(()=>{class D{constructor(t){this._httpWrapperService=t,this.apiUrl=i.N.apiUrl,this.initNavigation(),this.initDemoData(),u=this}getNavigation(){return this.navigation}initNavigation(){this.navigation={currentStep:1,lastStep:5}}getDemoData(){return!this.demoData.document?._id&&localStorage.getItem("document")&&(this.demoData.document=JSON.parse(localStorage.getItem("document"))),!this.demoData.extractedData.length&&localStorage.getItem("extractedData")&&(this.demoData.extractedData=JSON.parse(localStorage.getItem("extractedData"))),!this.demoData.liveness?._id&&localStorage.getItem("liveness")&&(this.demoData.liveness=JSON.parse(localStorage.getItem("liveness"))),!this.demoData.livenessResult.length&&localStorage.getItem("livenessResult")&&(this.demoData.livenessResult=JSON.parse(localStorage.getItem("livenessResult"))),!this.demoData.comparison?._id&&localStorage.getItem("comparison")&&(this.demoData.comparison=JSON.parse(localStorage.getItem("comparison"))),!this.demoData.comparisonResult.length&&localStorage.getItem("comparisonResult")&&(this.demoData.comparisonResult=JSON.parse(localStorage.getItem("comparisonResult"))),this.demoData}initDemoData(){this.demoData={loading:!1,document:{},liveness:{},comparison:{},livenessResult:[],comparisonResult:[],generalInformation:[],location:[],extractedData:[],lat:null,lng:null}}setDemoDocument(t){this.demoData.document=t,this.demoData.extractedData.push({key:"documentType",value:t.documentType}),this.demoData.extractedData.push({key:"documentNumber",value:t.documentNumber});for(const l in t.OCRExtraction)if(Object.prototype.hasOwnProperty.call(t.OCRExtraction,l)){const m=t.OCRExtraction[l];if(["documentNumber","details"].includes(l))continue;this.demoData.extractedData.push({key:l,value:m})}localStorage.setItem("document",JSON.stringify(t)),localStorage.setItem("extractedData",JSON.stringify(this.demoData.extractedData))}setDemoLiveness(t){this.demoData.liveness=t,this.demoData.liveness.result.liveness_score=parseInt(""+100*this.demoData.liveness.result.liveness_score),this.demoData.liveness.result.min_score=parseInt(""+100*this.demoData.liveness.result.min_score),this.demoData.livenessResult=[];for(const l in t.result)this.demoData.livenessResult.push({key:l,value:t.result[l]});localStorage.setItem("livenessId",t._id),localStorage.setItem("liveness",JSON.stringify(t)),localStorage.setItem("livenessResult",JSON.stringify(this.demoData.livenessResult))}setDemoCompare(t){this.demoData.comparison=t,this.demoData.comparison.result.score=parseInt(""+100*this.demoData.comparison.result.score);for(const l in t.result)this.demoData.comparisonResult.push({key:l,value:t.result[l]});localStorage.setItem("comparisonId",t._id),localStorage.setItem("comparison",JSON.stringify(t)),localStorage.setItem("comparisonResult",JSON.stringify(this.demoData.comparisonResult))}moveToStep(t){t>this.navigation.lastStep||t<=0||(this.navigation.currentStep=t,localStorage.setItem("step",`${t}`))}getDeviceDetails(){if(this.demoData.generalInformation.length)return;const t={userAgent:navigator.userAgent,platform:navigator.platform,appName:navigator.appName,appVersion:navigator.appVersion,language:navigator.language,onLine:navigator.onLine,cookiesEnabled:navigator.cookieEnabled,doNotTrack:navigator.doNotTrack,screenResolution:`${screen.width} x ${screen.height}`,screenAvailableResolution:`${screen.availWidth} x ${screen.availHeight}`,colorDepth:screen.colorDepth,pixelDepth:screen.pixelDepth,innerWidth:window.innerWidth,innerHeight:window.innerHeight,outerWidth:window.outerWidth,outerHeight:window.outerHeight,touchSupported:"ontouchstart"in window,geolocationSupported:"geolocation"in navigator,onlineStatus:navigator.onLine?"Online":"Offline"};return this.demoData.generalInformation.push({key:"device",value:t.platform},{key:"language",value:t.language},{key:"userAgent",value:t.userAgent}),this.getLocation(),t}getLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition,this.showError):console.log("Geolocation is not supported by this browser.")}showPosition(t){u.demoData.lat=t?.coords.latitude,u.demoData.lng=t?.coords.longitude,localStorage.setItem("lat",u.demoData.lat),localStorage.setItem("lng",u.demoData.lng),console.log(`Latitude: ${u.demoData.lat}, Longitude: ${u.demoData.lng}`)}showError(t){switch(t.code){case t.PERMISSION_DENIED:console.log("User denied the request for Geolocation.");break;case t.POSITION_UNAVAILABLE:console.log("Location information is unavailable.");break;case t.TIMEOUT:console.log("The request to get user location timed out.");break;case t.UNKNOWN_ERROR:console.log("An unknown error occurred.")}}reverseGeocodeWithOSM(t,l){return(0,r.Z)(function*(){const m=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${l}`;try{const v=yield(yield fetch(m)).json();return v&&v.display_name?v:null}catch(y){return console.error("Error during reverse geocoding with OSM:",y),null}})()}getAddress(){var t=this;return(0,r.Z)(function*(){const l=t.demoData.lat||localStorage.getItem("lat"),m=t.demoData.lng||localStorage.getItem("lng");if(!l||!m)return null;if(t.demoData.location.length)return t.demoData.location;let y=localStorage.getItem("location");if(y)return void(t.demoData.location=JSON.parse(y));const v=yield t.reverseGeocodeWithOSM(l,m);if(v){for(const C in v.address)Object.prototype.hasOwnProperty.call(v.address,C)&&t.demoData.location.push({key:C,value:v.address[C]});return localStorage.setItem("location",JSON.stringify(t.demoData.location)),t.demoData.location}})()}requestDocument(t){return this._httpWrapperService.sendRequest("get",`${this.apiUrl}/v2/document-validations/demo/${t}`)}sendDocument(t){return this._httpWrapperService.sendRequest("post",`${this.apiUrl}/v2/ocr/scan-demo`,t)}sendSelfie(t){return this._httpWrapperService.sendRequest("post",`${this.apiUrl}/v2/face-recognition/liveness/demo`,t)}compareDocumentWithSelfie(t){return this._httpWrapperService.sendRequest("post",`${this.apiUrl}/v2/face-recognition/compare/demo`,t)}cleanVariables(){const t=["documentId","document","extractedData","liveness","livenessId","livenessResult","comparison","comparisonResult","comparisonId"];for(let l=0;l<t.length;l++){const m=t[l];localStorage.removeItem(m),this.demoData[m]&&(this.demoData[m]=Array.isArray(this.demoData[m])?[]:Object.keys(this.demoData[m])?{}:null)}}static#e=this.\u0275fac=function(l){return new(l||D)(f.LFG(b.O))};static#t=this.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})()},8268:(A,I,c)=>{c.r(I),c.d(I,{FaceComponent:()=>U});var r=c(5861),i=c(5879),f=c(6814),b=c(8645),u=c(7700),k=c(8991),D=c(2296),E=c(9036),t=c(6799),l=c(6007),m=c(5940),y=c(1944),v=c(8905),C=c(6036);const g=["video"],T=["canvas"],d=["result"],p=["credentialCanvas"];function n(_,P){if(1&_&&(i.TgZ(0,"div")(1,"div",15),i._uU(2),i.qZA(),i.TgZ(3,"div",16),i._uU(4),i.qZA()()),2&_){const e=i.oxw(2);i.xp6(2),i.Oqu(e.errorFace.title),i.xp6(2),i.Oqu(e.errorFace.subtitle)}}const O=function(_,P){return{"width.px":_,"height.px":P}};function B(_,P){if(1&_&&(i.TgZ(0,"div",5)(1,"div",6),i.YNc(2,n,5,2,"div",7),i.qZA(),i.TgZ(3,"div",8)(4,"div",9),i._UZ(5,"video",10,11)(7,"div",12,13)(9,"div",12,14),i.qZA()()()),2&_){const e=i.oxw();i.xp6(2),i.Q6J("ngIf",e.errorFace&&!e.loadingResults),i.xp6(1),i.Q6J("ngStyle",i.WLB(10,O,e.WIDTH,e.HEIGHT)),i.xp6(2),i.ekj("hidden",e.loadingResults),i.Q6J("width",e.WIDTH)("height",e.HEIGHT),i.xp6(2),i.ekj("hidden",e.loadingResults),i.xp6(2),i.ekj("hidden",!e.loadingResults)}}let U=(()=>{class _{constructor(e,a,s,o,h){this._changeDetectorRef=e,this._sdkService=a,this._demoService=s,this._translocoService=o,this._splashScreenService=h,this._matDialog=(0,i.f3M)(u.uw),this.debugText="debug",this.WIDTH=720,this.HEIGHT=720,this.OVAL={},this.loadingResults=!1,this.loadingModel=!1,this._unsubscribeAll=new b.x,this.loadingModel=!0,this.debugIndex=0,this.osInfo=this.detectOS(),this.demoData=this._demoService.getDemoData(),this.demoData.loading=!0,this._splashScreenService.show(),this.listenModeDebug(),this._changeDetectorRef.markForCheck()}listenModeDebug(){this.isActiveDebug=!!localStorage.getItem("isActiveDebug"),document.addEventListener("keydown",e=>{if(this.debugText.charAt(this.debugIndex)===e.key.toLowerCase())return 3===this.debugIndex&&(this.isActiveDebug=!this.isActiveDebug,localStorage.setItem("isActiveDebug",this.isActiveDebug?"true":""),this._changeDetectorRef.markForCheck()),this.debugIndex++;this.debugIndex=0})}stopRecord(){this.detectFaceInterval&&clearInterval(this.detectFaceInterval),this.stream&&this.stream.getTracks().forEach(e=>e.stop())}ngOnInit(){var e=this;return(0,r.Z)(function*(){e.idCardImage=localStorage.getItem("idCard"),yield e.loadModels(),e.base64Images=[],e.errorFace=null,yield e.startAsyncVideo(),e.demoData.loading=!1,e._splashScreenService.hide()})()}restart(){var e=this;return(0,r.Z)(function*(){e.completeResults(),yield e.startAsyncVideo()})()}loadModels(){var e=this;return(0,r.Z)(function*(){e.left=new Image,e.left.crossOrigin="anonymous",e.left.src="https://cdn.verifik.co/web-sdk/images/left.png",e.right=new Image,e.right.crossOrigin="anonymous",e.right.src="https://cdn.verifik.co/web-sdk/images/right.png",e.up=new Image,e.up.crossOrigin="anonymous",e.up.src="https://cdn.verifik.co/web-sdk/images/up.png",e.down=new Image,e.down.crossOrigin="anonymous",e.down.src="https://cdn.verifik.co/web-sdk/images/down.png",yield t.qB.ssdMobilenetv1.loadFromUri("https://cdn.verifik.co/web-sdk/models"),yield t.qB.tinyFaceDetector.loadFromUri("https://cdn.verifik.co/web-sdk/models"),yield t.qB.faceLandmark68Net.loadFromUri("https://cdn.verifik.co/web-sdk/models"),yield t.qB.faceRecognitionNet.loadFromUri("https://cdn.verifik.co/web-sdk/models"),yield t.qB.faceExpressionNet.loadFromUri("https://cdn.verifik.co/web-sdk/models"),yield t.qB.ageGenderNet.loadFromUri("https://cdn.verifik.co/web-sdk/models"),yield e.detectFaceBiggest(.7)})()}detectFaceBiggest(e){var a=this;return(0,r.Z)(function*(){const s=document.getElementById("credential"),o=yield t.Qr(s,new t.aK({scoreThreshold:e})).withFaceLandmarks().withFaceExpressions();if(e<=.1)return;if(!o.length)return void a.detectFaceBiggest(e-.1);let S,h=0;for(const F of o){const L=F.detection.box,W=L.width*L.height;W>h&&(S=F.detection,h=W)}const w=S.box,x=1.2*Math.ceil(w.width),M=1.4*Math.ceil(w.height),N=Math.floor(w.x),H=Math.floor(w.y)-(M-w.height),R=a.credentialRef.nativeElement,Y=R.getContext("2d");R.height=M,R.width=x,Y.drawImage(s,N,H,x,M,0,0,x,M),a.faceIdCard=R.toDataURL("image/jpeg").replace(/^data:.*;base64,/,"")})()}startAsyncVideo(){var e=this;return(0,r.Z)(function*(){try{e.stream=yield navigator.mediaDevices.getUserMedia({video:{height:720},audio:!1}),e.loadingModel=!1,setTimeout(()=>{if(!e.video&&!e.canvas)return void e.stopRecord();const s=e.stream.getVideoTracks()[0].getSettings(),{width:o,height:h}=s;e.HEIGHT=h,e.WIDTH=o,e.videoCenterX=e.WIDTH/2,e.videoCenterY=e.HEIGHT/2,e.marginY=.04*e.HEIGHT,e.marginX=.8*e.marginY,e.OVAL.radiusY=.85*e.HEIGHT/2,e.OVAL.radiusX=.75*e.OVAL.radiusY,e.videoInput=e.video.nativeElement,e.videoInput.srcObject=e.stream,e.videoInput.style.transform="scaleX(-1)",e.displaySize={width:e.WIDTH,height:e.HEIGHT},e.videoInput.addEventListener("play",(0,r.Z)(function*(){e.detectFaces()})),e._changeDetectorRef.markForCheck()},300)}catch(a){alert(`${a.message}`),console.error("SHOW ERROR")}})()}detectFaces(){var e=this;return(0,r.Z)(function*(){yield e.setConfigCanvas(),e.detectFaceInterval=setInterval((0,r.Z)(function*(){const a=yield t.Qr(e.videoInput,new t.aK).withFaceLandmarks().withFaceExpressions().withAgeAndGender(),s=e.canvas.getContext("2d");a.length>0&&(e.lastFace=a[0],e.errorFace=null,e.drawFaceAndCenter(a,s),e.isFaceCentered(e.lastFace.landmarks.getNose()[3]),e.isFaceClose(e.lastFace.landmarks),e.drawStatusOval(s,!e.errorFace?.title),e.errorFace||e.captureBase64Image()),e._changeDetectorRef.markForCheck()}),100)})()}manualCapture(){this.takePicture()}setConfigCanvas(){var e=this;return(0,r.Z)(function*(){e.canvas||(e.canvas=yield t.Jd(e.videoInput),e.canvasEl=e.canvasRef.nativeElement,e.canvasEl.appendChild(e.canvas),e.canvas.setAttribute("id","canvas"),t.JF(e.canvas,e.displaySize));const a=e.canvas.getContext("2d");e.drawOvalCenterAndMask(a)})()}drawFaceAndCenter(e,a){const s=t._C(e,this.displaySize);this.drawOvalCenterAndMask(a),this.isActiveDebug&&(a.strokeStyle="red",a.lineWidth=4,a.strokeRect(this.videoCenterX-this.marginX,this.videoCenterY,2*this.marginX,2*this.marginY),t.ii.drawFaceLandmarks(this.canvas,s),t.ii.drawFaceExpressions(this.canvas,s),new t.ii.DrawBox(e[0].detection.box,{label:`${e[0].gender.toUpperCase()} | ${Math.round(e[0].age)} years old`}).draw(this.canvas))}drawOvalCenterAndMask(e){e.clearRect(0,0,this.canvas.width,this.canvas.height),e.fillStyle="rgba(255, 255, 255, 0.75)",e.fillRect(0,0,this.canvas.width,this.canvas.height),e.globalCompositeOperation="destination-out",e.fillStyle="rgba(255, 255, 255, 1)",e.beginPath(),e.ellipse(this.videoCenterX,this.videoCenterY,this.OVAL.radiusX,this.OVAL.radiusY,0,0,2*Math.PI),e.fill(),e.closePath(),e.globalCompositeOperation="source-over"}drawText(e,a,s,o){e.font="30px Arial",e.textAlign="center";const h=e.measureText(a);e.fillStyle="black",e.fillRect(s-h.width/2,o-30-10,h.width+2,60),e.fillStyle="white",e.fillText(a,s,o)}drawStatusOval(e,a){e.beginPath(),e.ellipse(this.videoCenterX,this.videoCenterY,this.OVAL.radiusX,this.OVAL.radiusY,0,0,2*Math.PI),e.lineWidth=5,e.strokeStyle=a?"green":"red",e.stroke(),e.closePath(),a||(this.errorFace.canvas?.includes("\u2191")&&e.drawImage(this.up,this.videoCenterX-20,this.videoCenterY-this.OVAL.radiusY+10,40,40),this.errorFace.canvas?.includes("\u2193")&&e.drawImage(this.down,this.videoCenterX-20,this.videoCenterY+this.OVAL.radiusY-50,40,40),this.errorFace.canvas?.includes("\u2192")&&e.drawImage(this.right,this.videoCenterX+this.OVAL.radiusX-50,this.videoCenterY-20,40,40),this.errorFace.canvas?.includes("\u2190")&&e.drawImage(this.left,this.videoCenterX-this.OVAL.radiusX+10,this.videoCenterY-20,40,40)),this._changeDetectorRef.markForCheck()}isFaceCentered(e){const a=e.x,s=e.y;if(!(a>this.videoCenterX-this.marginX&&a<this.videoCenterX+this.marginX&&s>this.videoCenterY&&s<this.videoCenterY+2*this.marginY)){let h="";(a<this.videoCenterX-this.marginX||a>this.videoCenterX+this.marginX)&&(h+=` ${a<this.videoCenterX-this.marginX?"\u2192":"\u2190"} `),(s<this.videoCenterY||s>this.videoCenterY+2*this.marginY)&&(h+=` ${s<this.videoCenterY?"\u2191":"\u2193"}  `),this.errorFace={title:this._translocoService.translate("liveness.center_yor_face"),subtitle:this._translocoService.translate("liveness.center_your_face_subtitle"),canvas:h}}}isFaceClose(e){e.imageHeight*e.imageWidth/(4*this.OVAL.radiusX*this.videoInput.height)<.25&&(this.errorFace={title:this._translocoService.translate("liveness.get_closer"),subtitle:this._translocoService.translate("liveness.get_closer_subtitle")})}captureBase64Image(){this.saveImageBase64Intent||(this.saveImageBase64Intent=setTimeout(()=>{this.errorFace&&(this.saveImageBase64Intent=clearTimeout(this.saveImageBase64Intent)),this.takePicture()},1500))}takePicture(){var e=this;return(0,r.Z)(function*(){e.stopRecord();const a=e.videoCenterX-1.4*e.OVAL.radiusX,s=2.8*e.OVAL.radiusX;e.canvasResult||(e.canvasResult=document.createElement("canvas"),e.canvasResult.width=s,e.canvasResult.height=e.HEIGHT,e.canvasResult.style.marginLeft=`${a}px`,e.canvasResultRef.nativeElement.appendChild(e.canvasResult)),e.canvasResult.getContext("2d").drawImage(e.videoInput,a,0,s,e.HEIGHT,0,0,s,e.HEIGHT);const h=e.canvasResult.toDataURL("image/jpeg").replace(/^data:.*;base64,/,"");e.base64Images.push(h),yield e.liveness()})()}detectOS(){const e=window.navigator.userAgent.toLowerCase();return/android/.test(e)?"ANDROID":/iphone|ipad|ipod/.test(e)?"IOS":"DESKTOP"}liveness(){this.loadingResults||(this.demoData.loading=!0,this._splashScreenService.show(),this.loadingResults=!0,this._sdkService.livenessDemo({image:this.base64Images[0],os:this.osInfo}).subscribe(a=>{this.errorResult=null,this._demoService.setDemoLiveness(a.data),this._compareWithDocument({search_mode:"FAST",gallery:[this.faceIdCard||this.demoData.document.url],probe:[this.demoData.liveness.images[0]]})},a=>{this.demoData.loading=!1,this._splashScreenService.hide(),this.retryLivenessModal(a.error?.message)}))}_compareWithDocument(e){this._demoService.compareDocumentWithSelfie(e).subscribe(a=>{this.completeResults(),this._demoService.setDemoCompare(a.data),this._demoService.moveToStep(5),this.demoData.loading=!1,this._splashScreenService.hide()},a=>{})}retryLivenessModal(e){const a={title:this._translocoService.translate("liveness.liveness_failed"),message:this._translocoService.translate("liveness.liveness_error_message",{error:e}),icon:{show:!0,name:"heroicons_outline:exclamation-triangle",color:"warn"},actions:{confirm:{show:!0,label:this._translocoService.translate("confirm"),color:"primary"},cancel:{show:!0,label:this._translocoService.translate("cancel")}},dismissible:!1};this._matDialog.open(E.u,{autoFocus:!1,disableClose:!0,panelClass:"fuse-confirmation-dialog-panel",data:a}).afterClosed().subscribe(s=>{if("confirmed"===s)return this.restart();this._demoService.moveToStep(1)})}completeResults(){this.errorFace=null,this.loadingResults=!1,this.base64Images=[],this.errorResult||this.stopRecord(),this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._unsubscribeAll.next(null),this.loadingResults=!1,this.video=void 0,this.detectFaceInterval&&this.stopRecord()}static#e=this.\u0275fac=function(a){return new(a||_)(i.Y36(i.sBO),i.Y36(y.J),i.Y36(v.e),i.Y36(k.Vn),i.Y36(C.j))};static#t=this.\u0275cmp=i.Xpm({type:_,selectors:[["app-face"]],viewQuery:function(a,s){if(1&a&&(i.Gf(g,5),i.Gf(T,5),i.Gf(d,5),i.Gf(p,5)),2&a){let o;i.iGM(o=i.CRH())&&(s.video=o.first),i.iGM(o=i.CRH())&&(s.canvasRef=o.first),i.iGM(o=i.CRH())&&(s.canvasResultRef=o.first),i.iGM(o=i.CRH())&&(s.credentialRef=o.first)}},standalone:!0,features:[i.jDz],decls:5,vars:2,consts:[[1,"w-full","min-h-[900px]","flex","flex-col","items-center","justify-center","p-8"],["class","flex flex-col items-center justify-center",4,"ngIf"],["hidden","true"],["credentialCanvas",""],["id","credential","hidden","true",3,"src"],[1,"flex","flex-col","items-center","justify-center"],[1,"flex","flex-col","items-center","justify-center","text-center","h-20","my-2"],[4,"ngIf"],[3,"ngStyle"],[1,"relative","w-full"],["autoplay","","muted","",1,"absolute","top-0","left-0","oval-video",3,"width","height"],["video",""],[1,"absolute","top-0","left-0","oval-video"],["canvas",""],["result",""],[1,"text-3xl","font-bold"],[1,"text-gray-600"]],template:function(a,s){1&a&&(i.TgZ(0,"div",0),i.YNc(1,B,11,13,"div",1),i.qZA(),i._UZ(2,"canvas",2,3)(4,"img",4)),2&a&&(i.xp6(1),i.Q6J("ngIf",!s.loadingModel),i.xp6(3),i.Q6J("src",s.idCardImage,i.LSH))},dependencies:[f.ez,f.O5,f.PC,u.Is,k.y4,D.ot,l.Cv,m.Cq],styles:['mat-stepper[_ngcontent-%COMP%]{width:100%}.scan[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;flex-direction:column}.scan[_ngcontent-%COMP%]   .face[_ngcontent-%COMP%]{content:"";position:relative;width:130px;height:200px;background:url(https://cdn.verifik.co/web-sdk/images/face.png);background-size:130px 200px}.scan[_ngcontent-%COMP%]   .face[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:url(https://cdn.verifik.co/web-sdk/images/smoothed-face.png);background-size:130px 200px;animation:_ngcontent-%COMP%_animate 2s ease-in-out infinite}.scan[_ngcontent-%COMP%]   .face[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:8px;background:#01236d;border-radius:8px;filter:drop-shadow(0 0 20px #01236d) drop-shadow(0 0 60px #01236d);animation:_ngcontent-%COMP%_animate_line 2s ease-in-out infinite}.scan[_ngcontent-%COMP%]   .face[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]{position:absolute;inset:0}.scan[_ngcontent-%COMP%]   .face[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:130px;height:200px;background:url(https://cdn.verifik.co/web-sdk/images/points-face.png);background-size:130px 200px;animation:_ngcontent-%COMP%_face_points 2s ease-in-out infinite}.scan[_ngcontent-%COMP%]   .face[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:130px;height:200px;background:url(https://cdn.verifik.co/web-sdk/images/lines-points-face.png);background-size:130px 200px;animation:_ngcontent-%COMP%_face_points_lines 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_face_points_lines{0%,to{height:0%}50%{height:100%}}@keyframes _ngcontent-%COMP%_face_points{0%,25%,to{height:0%}50%{height:100%}}@keyframes _ngcontent-%COMP%_animate{0%,to{height:0%}50%{height:100%}}@keyframes _ngcontent-%COMP%_animate_line{0%,to{top:0%;opacity:.8}50%{top:100%;opacity:.8}}.back-biometric-animation[_ngcontent-%COMP%]{background:black;width:100%;height:100%}.oval-video[_ngcontent-%COMP%]{border-radius:25px!important;overflow:hidden;max-width:100%}video[_ngcontent-%COMP%]{object-fit:cover}.medium[_ngcontent-%COMP%]   .mat-progress-bar-fill[_ngcontent-%COMP%]:after{background-color:#eab417!important}.failed[_ngcontent-%COMP%]   .mat-progress-bar-fill[_ngcontent-%COMP%]:after{background-color:#f20505!important}.good[_ngcontent-%COMP%]   .mat-progress-bar-fill[_ngcontent-%COMP%]:after{background-color:green!important}']})}return _})()},5940:(A,I,c)=>{c.d(I,{Cq:()=>C,Ou:()=>y});var r=c(5879),i=c(3680),f=c(2495),b=c(6814);const u=["determinateSpinner"];function k(g,T){if(1&g&&(r.O4$(),r.TgZ(0,"svg",11),r._UZ(1,"circle",12),r.qZA()),2&g){const d=r.oxw();r.uIk("viewBox",d._viewBox()),r.xp6(1),r.Udp("stroke-dasharray",d._strokeCircumference(),"px")("stroke-dashoffset",d._strokeCircumference()/2,"px")("stroke-width",d._circleStrokeWidth(),"%"),r.uIk("r",d._circleRadius())}}const D=(0,i.pj)(class{constructor(g){this._elementRef=g}},"primary"),E=new r.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function t(){return{diameter:l}}}),l=100;let y=(()=>{class g extends D{constructor(d,p,n){super(d),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=l,this._noopAnimations="NoopAnimations"===p&&!!n&&!n._forceAnimations,n&&(n.color&&(this.color=this.defaultColor=n.color),n.diameter&&(this.diameter=n.diameter),n.strokeWidth&&(this.strokeWidth=n.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(d){this._value=Math.max(0,Math.min(100,(0,f.su)(d)))}get diameter(){return this._diameter}set diameter(d){this._diameter=(0,f.su)(d)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(d){this._strokeWidth=(0,f.su)(d)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const d=2*this._circleRadius()+this.strokeWidth;return`0 0 ${d} ${d}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(p){return new(p||g)(r.Y36(r.SBq),r.Y36(r.QbO,8),r.Y36(E))};static#t=this.\u0275cmp=r.Xpm({type:g,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(p,n){if(1&p&&r.Gf(u,5),2&p){let O;r.iGM(O=r.CRH())&&(n._determinateCircle=O.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(p,n){2&p&&(r.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===n.mode?n.value:null)("mode",n.mode),r.Udp("width",n.diameter,"px")("height",n.diameter,"px")("--mdc-circular-progress-size",n.diameter+"px")("--mdc-circular-progress-active-indicator-width",n.diameter+"px"),r.ekj("_mat-animation-noopable",n._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===n.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[r.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(p,n){if(1&p&&(r.YNc(0,k,2,8,"ng-template",null,0,r.W1O),r.TgZ(2,"div",1,2),r.O4$(),r.TgZ(4,"svg",3),r._UZ(5,"circle",4),r.qZA()(),r.kcU(),r.TgZ(6,"div",5)(7,"div",6)(8,"div",7),r.GkF(9,8),r.qZA(),r.TgZ(10,"div",9),r.GkF(11,8),r.qZA(),r.TgZ(12,"div",10),r.GkF(13,8),r.qZA()()()),2&p){const O=r.MAs(1);r.xp6(4),r.uIk("viewBox",n._viewBox()),r.xp6(1),r.Udp("stroke-dasharray",n._strokeCircumference(),"px")("stroke-dashoffset",n._strokeDashOffset(),"px")("stroke-width",n._circleStrokeWidth(),"%"),r.uIk("r",n._circleRadius()),r.xp6(4),r.Q6J("ngTemplateOutlet",O),r.xp6(2),r.Q6J("ngTemplateOutlet",O),r.xp6(2),r.Q6J("ngTemplateOutlet",O)}},dependencies:[b.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return g})(),C=(()=>{class g{static#e=this.\u0275fac=function(p){return new(p||g)};static#t=this.\u0275mod=r.oAB({type:g});static#r=this.\u0275inj=r.cJS({imports:[b.ez,i.BQ]})}return g})()}}]);
"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[973],{8340:(S,b,a)=>{a.d(b,{H:()=>R});var g=a(553),x=a(9397),O=a(8533),_=a(5879),M=a(2065),n=a(8991),u=a(9862);let R=(()=>{class f{constructor(s,l,m){this._httpWrapper=s,this._translocoService=l,this._http=m,this.baseUrl=g.N.apiUrl}getNavigation(){return this.navigation}initNavigation(){let s=1;const l=[],m={},h=this.currentProjectFlow.onboardingSettings.steps;return["mandatory","optional"].includes(h.document)&&(s++,l.push({code:"document",status:h.document}),m.document=h.document,s++,l.push({code:"documentReview",status:h.document}),m.documentReview=h.document),["mandatory","optional"].includes(h.liveness)&&(s++,l.push({code:"liveness",status:h.liveness}),m.liveness=h.liveness,m.document&&(s++,m.documentLivenessReview=h.liveness)),l.push({code:"end",status:"mandatory"}),s++,this.navigation={currentStep:1,lastStep:s,steps:h,map:m,displayableSteps:l},this.navigation}getProject(){return this.currentProject}navigateTo(s){setTimeout(()=>{if("next"!==s)this.navigation.currentStep=s;else switch(this.navigation.currentStep){case"liveness":this.navigation.currentStep="documentLivenessReview";break;case"document":this.navigation.currentStep="documentReview";break;case"documentReview":this.navigation.currentStep="liveness";break;case"documentLivenessReview":this.navigation.currentStep="end"}},750)}getAppRegistration(s){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/app-registrations/me`,s).pipe((0,x.b)(l=>{this.appRegistration=l.data,this.currentProject=new O.XR({...this.appRegistration.project,type:"onboarding"}),this.currentProjectFlow=this.appRegistration.projectFlow}))}createAppRegistration(s){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/app-registrations`,s)}sendEmailValidation(s){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/email-validations`,{email:s,project:this.currentProject._id,projectFlow:this.currentProjectFlow._id,type:"onboarding",validationMethod:"verificationCode",language:this._translocoService.getActiveLang()}).pipe((0,x.b)(l=>{}))}sendPhoneValidation(s,l,m){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/phone-validations`,{countryCode:s,phone:l,project:this.currentProject._id,projectFlow:this.currentProjectFlow._id,type:"onboarding",validationMethod:"verificationCode",language:this._translocoService.getActiveLang(),phoneGateway:m||"sms"}).pipe((0,x.b)(h=>{}))}confirmEmailValidation(s,l){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/email-validations/validate`,{email:s,otp:l,project:this.currentProject._id,projectFlow:this.currentProjectFlow._id})}confirmPhoneValidation(s,l,m){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/phone-validations/validate`,{countryCode:s,phone:l,otp:m,project:this.currentProject._id,projectFlow:this.currentProjectFlow._id})}updateAppRegistration(s){return this._httpWrapper.sendRequest("put",`${this.baseUrl}/v2/app-registrations/${this.appRegistration._id}`,{...s})}syncAppRegistration(s,l){return this._httpWrapper.sendRequest("put",`${this.baseUrl}/v2/app-registrations/${this.appRegistration._id}/sync`,{step:s,status:l})}createDocumentValidation(s){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/document-validations/app-registration`,s)}createBiometricValidation(s){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/biometric-validations/app-registration`,s)}updateInformationValidationWithCriminalRecords(s){return this._httpWrapper.sendRequest("put",`${this.baseUrl}/v2/information-validations/${s._id}/background-check`,s)}updateDocumentValidationNameValidation(s){return this._httpWrapper.sendRequest("put",`${this.baseUrl}/v2/document-validations/${s._id}/validate`,s)}getIdentityImages(s){return this._httpWrapper.sendRequest("get",`${this.baseUrl}/v2/identity-images`,s)}compareFaces(){return this._httpWrapper.sendRequest("post",`${this.baseUrl}/v2/face-recognition/compare/app-registration`,{})}restartKYC(){return this._httpWrapper.sendRequest("delete",`${this.baseUrl}/v2/biometric-validations/${this.appRegistration.biometricValidation._id}`)}static#t=this.\u0275fac=function(l){return new(l||f)(_.LFG(M.O),_.LFG(n.Vn),_.LFG(u.eN))};static#e=this.\u0275prov=_.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},5789:(S,b,a)=>{a.d(b,{w:()=>n});var g=a(6814),x=a(1447),O=a(8991),_=a(5879),M=a(3814);let n=(()=>{class u{static#t=this.\u0275fac=function(E){return new(E||u)};static#e=this.\u0275cmp=_.Xpm({type:u,selectors:[["app-demo-footer"]],standalone:!0,features:[_.jDz],decls:4,vars:3,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"footer"],["href","https://verifik.co"]],template:function(E,s){1&E&&(_.TgZ(0,"div",0)(1,"a",1),_._uU(2),_.ALo(3,"transloco"),_.qZA()()),2&E&&(_.xp6(2),_.Oqu(_.lcZ(3,1,"footerText")))},dependencies:[x.o9,M.xw,M.Wh,g.ez,O.y4,O.Ot],styles:[".footer[_ngcontent-%COMP%]{width:100%;height:60px;position:absolute;bottom:0;background-color:#fff;box-shadow:3px 3px 3px #0000000d;z-index:3}"]})}return u})()},1094:(S,b,a)=>{a.d(b,{s:()=>q});var g=a(5861),x=a(6814),O=a(1447),_=a(2296),M=a(5986),n=a(5940),u=a(8991),R=a(2982),f=a(8645),E=a(9773),s=a(4354),l=a(6799),m=a(8533),h=a(3372),t=a(5879),c=a(9162),P=a(6036),v=a(3403),L=a(9236),C=a(8340),A=a(3814),F=a(7509);const W=["maskResult"],K=["toSend"],B=["cardIdFace"];function Y(r,w){if(1&r){const e=t.EpF();t.TgZ(0,"webcam",17),t.NdJ("imageCapture",function(i){t.CHM(e);const d=t.oxw(2);return t.KtG(d.proccessImage(i))})("initError",function(i){t.CHM(e);const d=t.oxw(2);return t.KtG(d.cameraError(i))}),t.qZA()}if(2&r){const e=t.oxw(2);t.Q6J("height",e.camera.dimensions.video.max.height)("width",e.camera.dimensions.video.max.width)("videoOptions",e.camera.configuration)("imageQuality",1)("captureImageData",!0)("allowCameraSwitch",!1)("trigger",e.takePicture$)("mirrorImage",e.demoData.isMobile?"never":"always")}}function N(r,w){if(1&r&&t._UZ(0,"canvas",18,19),2&r){const e=t.oxw(2);t.Udp("width",e.response.base64Image?e.camera.dimensions.result.width:e.camera.dimensions.video.width,"px")("height",e.response.base64Image?e.camera.dimensions.result.height:e.camera.dimensions.video.height,"px")}}function Q(r,w){if(1&r&&t._UZ(0,"img",20),2&r){const e=t.oxw(2);t.Q6J("src",e.response.base64Image,t.LSH)}}function J(r,w){if(1&r&&(t.TgZ(0,"div")(1,"div",21),t._uU(2),t.qZA(),t.TgZ(3,"div",22),t._uU(4),t.qZA()()),2&r){const e=t.oxw(2);t.xp6(1),t.Udp("color",e.project.branding.titleColor),t.xp6(1),t.Oqu(e.errorFace.title),t.xp6(1),t.Udp("color",e.project.branding.txtColor),t.xp6(1),t.Oqu(e.errorFace.subtitle)}}const V=function(r){return{"id-scanning-error-container":r}};function $(r,w){if(1&r){const e=t.EpF();t.TgZ(0,"div",3),t._UZ(1,"canvas",4,5),t.TgZ(3,"div",6),t.YNc(4,Y,1,8,"webcam",7),t.YNc(5,N,2,4,"canvas",8),t.YNc(6,Q,1,1,"img",9),t._UZ(7,"canvas",null,10),t.qZA(),t.TgZ(9,"div",11),t.YNc(10,J,5,6,"div",12),t.qZA(),t.TgZ(11,"div",13)(12,"button",14),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.takePictureSnapshot())}),t._uU(13),t.ALo(14,"transloco"),t.qZA(),t.TgZ(15,"button",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.ngOnInit())}),t._uU(16),t.ALo(17,"transloco"),t.qZA(),t.TgZ(18,"button",16),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.continue())}),t._uU(19),t.ALo(20,"transloco"),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(3),t.Udp("width",e.camera.dimensions.video.width,"px")("height",e.camera.dimensions.video.height,"px"),t.xp6(1),t.Q6J("ngIf",!e.response.base64Image),t.xp6(1),t.Q6J("ngIf",!e.response.base64Image),t.xp6(1),t.Q6J("ngIf",e.response.base64Image),t.xp6(1),t.ekj("hidden",!0),t.xp6(2),t.Q6J("ngClass",t.VKq(37,V,e.errorFace&&e.errorFace.title)),t.xp6(1),t.Q6J("ngIf",e.errorFace&&!e.loadingResults),t.xp6(2),t.Udp("background",e.project.branding.buttonColor)("color",e.project.branding.buttonTxtColor),t.ekj("hidden",e.response.base64Image),t.Q6J("disabled",e.errorFace),t.xp6(1),t.hij(" ",t.lcZ(14,31,"id_scanning.manual_capture_button")," "),t.xp6(2),t.Udp("background",e.project.branding.buttonColor)("color",e.project.branding.buttonTxtColor),t.ekj("hidden",!e.response.base64Image),t.xp6(1),t.hij(" ",t.lcZ(17,33,"id_scanning.retry")," "),t.xp6(2),t.Udp("color",e.project.branding.txtColor),t.ekj("hidden",!e.response.base64Image),t.xp6(1),t.hij(" ",t.lcZ(20,35,"continue")," ")}}function H(r,w){if(1&r&&(t.TgZ(0,"div",23),t._UZ(1,"img",24),t.TgZ(2,"h1",25),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t.TgZ(5,"p",25),t._uU(6),t.ALo(7,"transloco"),t.qZA()()),2&r){const e=t.oxw();t.xp6(2),t.Udp("color",e.project.branding.titleColor),t.xp6(1),t.Oqu(t.lcZ(4,6,"id_scanning.camera_not_found")),t.xp6(2),t.Udp("color",e.project.branding.txtColor),t.xp6(1),t.hij(" ",t.lcZ(7,8,"id_scanning.camera_not_found_description")," ")}}function z(r,w){if(1&r&&t._UZ(0,"kyc-document-errors-display",26),2&r){const e=t.oxw();t.Q6J("errorContent",e.errorContent)("attempts",e.attempts)("attemptsLimit",e.attemptsLimit)("callback",e.onErrorCallback)}}function G(r,w){if(1&r&&(t.TgZ(0,"p",25),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&r){const e=t.oxw(2);t.Udp("color",e.project.branding.txtColor),t.xp6(1),t.AsE(" ",t.lcZ(2,4,"id_scanning.remaining_attempts")," ",e.attempts.limit-e.attempts.current," ")}}function X(r,w){if(1&r){const e=t.EpF();t.TgZ(0,"div",23),t._UZ(1,"img",27),t.TgZ(2,"h1",25),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t.TgZ(5,"p",25),t._uU(6),t.ALo(7,"transloco"),t.qZA(),t.YNc(8,G,3,6,"p",28),t.TgZ(9,"button",29),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.attempts.limit-i.attempts.current>0?i.tryAgain():i.restartDemo())}),t._uU(10),t.ALo(11,"transloco"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("src",e.attempts.limit-e.attempts.current>0?"https://cdn.verifik.co/demo/failedtodetectdocument@3x.png":"https://cdn.verifik.co/demo/redstop.svg",t.LSH),t.xp6(1),t.Udp("color",e.project.branding.titleColor),t.xp6(1),t.hij(" ",t.lcZ(4,13,e.attempts.limit-e.attempts.current>0?"id_scanning.document_not_detected":"id_scanning.failed_to_detect_limit")," "),t.xp6(2),t.Udp("color",e.project.branding.txtColor),t.xp6(1),t.hij(" ",t.lcZ(7,15,e.attempts.limit-e.attempts.current>0?"id_scanning.document_not_detected_description":"id_scanning.failed_to_detect_limit_description")," "),t.xp6(2),t.Q6J("ngIf",e.attempts.limit-e.attempts.current>0),t.xp6(1),t.Udp("background",e.project.branding.buttonColor)("color",e.project.branding.buttonTxtColor),t.xp6(1),t.hij(" ",t.lcZ(11,17,e.failedToDetectDocument?"id_scanning.retry":"restart")," ")}}let q=(()=>{class r{get takePicture$(){return this.takePicture.asObservable()}constructor(e,o,i,d,U,Z,y,k,tt){this._dom=e,this._demoService=o,this._splashScreenService=i,this._translocoService=d,this.renderer=U,this._router=Z,this._changeDetectorRef=y,this._fuseMediaWatcherService=k,this._KYCService=tt,this.aspectRatio=85.6/53.98,this.takePicture=new f.x,this._unsubscribeAll=new f.x,this.setDefaultCamera=()=>{this.camera={hasPermissions:!1,isLoading:!1,configuration:{frameRate:{ideal:30,max:30},[this.demoData.isMobile?"width":"height"]:{ideal:1080},facingMode:s.w[this.demoData.isMobile]},dimensions:{video:{max:{height:Math.ceil(.7*window.innerHeight),width:Math.ceil(.9*window.innerWidth)}}}}},this.setDefaultInterval=()=>{this.interval={}},this.setDefaultResponse=()=>{this.response={isLoading:!1,isFailed:!1}},this.setVideoNgxCameraData=()=>{const p=this._dom.nativeElement.querySelector("video");p&&(p.addEventListener("loadeddata",()=>{this.setVideoDimensions(p),this.drawRect()}),this.interval.detectFace||(this.interval.detectFace=setInterval(()=>{this.response.base64Image&&(this.interval.detectFace=clearInterval(this.interval.detectFace)),this.takePicture.next()},this.demoData.time)),this.interval.checkNgxVideo=clearInterval(this.interval.checkNgxVideo),this.setVideoDimensions(p),this.drawRect(),this.loading({isLoading:!1,start:!0}))},this.loading=({isLoading:p=!0,start:j,result:I})=>{const D=j?"camera":I&&"response";D&&(this[D].isLoading=p);const T=p?"show":"hide";this.demoData.loading=p,this._splashScreenService[T]()},this.setImageOnCanvas=(p,j,I,D)=>{p.width=D.width,p.height=D.height,p.style.marginLeft=`${D.offsetX||0}px`,p.style.marginTop=`${D.offsetY||0}px`;const T=p.getContext("2d");T.clearRect(0,0,I.width,I.height),T.drawImage(j,I.offsetX,I.offsetY,I.width,I.height,0,0,D.width,D.height)},this._ObserveDomMedia(),this.demoData=this._demoService.getDemoData(),this.view=this._router.url.includes("/kyc")?"kyc":"demo",this.project=new m.XR({}),this.projectFlow=new m.nd({}),"kyc"===this.view&&(this.appRegistration=this._KYCService.appRegistration,this.project=this._KYCService.currentProject,this.projectFlow=this._KYCService.currentProjectFlow,this.navigation=this._KYCService.getNavigation(),this.attempts=this.appRegistration?.failedDocumentValidations?.length||0,this.attemptsLimit=this.projectFlow.onboardingSettings.document.maxAttempts),this.errorContent={message:""},this.startDefaultValues(),this.setDefaultInterval(),this.renderer.listen("window","resize",()=>{this.interval.checkNgxVideo=setInterval(()=>{this.setVideoNgxCameraData()},this.demoData.time)}),this._changeDetectorRef.markForCheck()}_ObserveDomMedia(){this._fuseMediaWatcherService.onMediaChange$.pipe((0,E.R)(this._unsubscribeAll)).subscribe(({matchingAliases:e})=>{this.phoneMode=!e.includes("lg")&&!e.includes("md")&&!e.includes("sm"),this.tabletMode=!(e.includes("lg")||e.includes("md")||!e.includes("sm")),this._changeDetectorRef.markForCheck()})}ngOnInit(){var e=this;this.startDefaultValues(),this.camera.hasPermissions=!0,this.errorFace={},this.loading({start:!0}),this._demoService.faceapi$.subscribe(function(){var o=(0,g.Z)(function*(i){i&&(e.interval.checkNgxVideo=setInterval(()=>{e.setMaxVideoDimensions(),e.setVideoNgxCameraData()},e.demoData.time))});return function(i){return o.apply(this,arguments)}}())}startDefaultValues(){this.setDefaultResponse(),this.setDefaultCamera(),this.setMaxVideoDimensions(),this._changeDetectorRef.markForCheck()}setVideoDimensions(e){this.camera.dimensions.video.height=e.clientHeight,this.camera.dimensions.video.width=e.clientWidth;const o=this.maskResultCanvasRef.nativeElement;o.style.marginLeft="0px",o.style.marginTop="0px"}setMaxVideoDimensions(){this.camera.dimensions.video={max:{height:Math.ceil(.7*window.innerHeight),width:Math.ceil(.9*window.innerWidth)}},this.camera.dimensions.result=void 0}setResultDimensions(e,o,i){o<i?(e.offsetY=Math.floor(.1*o),e.height=Math.floor(.8*o),e.width=Math.floor(this.aspectRatio*e.height),e.offsetX=Math.floor((i-e.width)/2)):(e.offsetX=Math.floor(.1*i),e.width=Math.floor(.8*i),e.height=Math.floor(this.aspectRatio*e.width),e.offsetY=Math.floor((o-e.height)/2))}drawRect(){this.camera.dimensions.result={height:0,width:0,offsetX:0,offsetY:0},this.setResultDimensions(this.camera.dimensions.result,this.camera.dimensions.video.height,this.camera.dimensions.video.width);const e=this.maskResultCanvasRef.nativeElement,o=this.camera.dimensions.video,i=this.camera.dimensions.result;e.height=o.height,e.width=o.width;const d=e.getContext("2d");d.clearRect(0,0,o.width,o.height),d.fillStyle="rgba(255, 255, 255, 0.75)",d.fillRect(0,0,o.width,o.height),d.globalCompositeOperation="destination-out",d.fillStyle="rgba(0, 0, 0, 1)",d.fillRect(i.offsetX,i.offsetY,i.width,i.height),d.globalCompositeOperation="source-over"}cameraError(e){e.mediaStreamError&&"NotAllowedError"===e.mediaStreamError.name&&(this.loading({isLoading:!1,start:!0}),this.camera.hasPermissions=!1)}proccessImage(e){var o=this;if(this.response.base64Image)return;if(!this.interval.detectFace)return void this.takePictureManual(e);const i=new Image;i.src=e.imageAsDataUrl,i.onload=(0,g.Z)(function*(){try{o.detectFace(i)}catch(d){alert(d.message)}})}detectFace(e){var o=this;return(0,g.Z)(function*(){try{const i=yield l.Qr(e,new l.d7({minConfidence:.2})).withFaceLandmarks();return i.length?(o.checkFaceTimeout=clearTimeout(o.checkFaceTimeout),o.errorFace=null,i):(o.checkFaceTimeout||(o.checkFaceTimeout=setTimeout(()=>{o.errorFace={title:o._translocoService.translate("id_scanning.face_not_found"),subtitle:o._translocoService.translate("id_scanning.face_not_found_details")}},3*o.demoData.time)),null)}catch(i){alert(i.message)}})()}takePictureManual(e){var o=this;const i=new Image;i.src=e.imageAsDataUrl,i.onload=(0,g.Z)(function*(){const d=yield o.detectFace(i);if(!d||!d.length)return alert(o._translocoService.translate("id_scanning.face_not_found")),o.tryAgain();const U=o._demoService.getBiggestFace(d.map(k=>k.detection.box));o.idCard={face:o._demoService.cutFaceIdCard(i,U,o.cardIdFaceRef.nativeElement)},o.camera.dimensions.real={height:0,width:0,offsetX:0,offsetY:0},o.setResultDimensions(o.camera.dimensions.real,i.height,i.width),o.setImageOnCanvas(o.maskResultCanvasRef.nativeElement,i,o.camera.dimensions.real,o.camera.dimensions.result);const y=o.ToSendCanvasRef.nativeElement;o.setImageOnCanvas(y,i,o.camera.dimensions.real,o.camera.dimensions.real),o.response.base64Image=y.toDataURL("image/jpeg")})}takePictureSnapshot(){this.interval.detectFace=clearInterval(this.interval.detectFace),this.takePicture.next()}continue(){var e=this;return(0,g.Z)(function*(){const o={image:e.response.base64Image.replace("data:image/jpeg;base64",""),force:e.appRegistration?.forceUpload||!1};e.loading({result:!0}),"kyc"!==e.view?e._demoService.sendDocument(o).subscribe(i=>{e._demoService.setDemoDocument(i.data),localStorage.setItem("idCardFaceImage",e.idCard.face),localStorage.setItem("documentId",i.data._id),e.loading({isLoading:!1}),e._demoService.moveToStep(3)},i=>{e.response.isFailed=!0,e.loading({isLoading:!1})}):e._KYCService.createDocumentValidation({...o,documentFace:e.idCard.face}).subscribe({next:i=>{e.appRegistration.documentValidation=i.data.documentValidation,e._KYCService.navigateTo("next")},error:i=>{e.errorResult=!0,e.errorContent=i.error,e.loading({isLoading:!1}),e._splashScreenService.hide()},complete:()=>{e.loading({isLoading:!1})}})})()}tryAgain(){this.attempts++,this.ngOnInit()}restartDemo(){this._demoService.restart()}onErrorCallback(e){window.location.reload()}static#t=this.\u0275fac=function(o){return new(o||r)(t.Y36(t.SBq),t.Y36(c.e),t.Y36(P.j),t.Y36(u.Vn),t.Y36(t.Qsj),t.Y36(v.F0),t.Y36(t.sBO),t.Y36(L.T),t.Y36(C.H))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["id-scanning-ios"]],viewQuery:function(o,i){if(1&o&&(t.Gf(W,5),t.Gf(K,5),t.Gf(B,5)),2&o){let d;t.iGM(d=t.CRH())&&(i.maskResultCanvasRef=d.first),t.iGM(d=t.CRH())&&(i.ToSendCanvasRef=d.first),t.iGM(d=t.CRH())&&(i.cardIdFaceRef=d.first)}},standalone:!0,features:[t.jDz],decls:5,vars:4,consts:[["fxLayout","column","fxLayoutAlign","start center","class","bg-white rounded-lg shadow-lg w-full",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","class","id-scanning-error-div",4,"ngIf"],["class","m-16",3,"errorContent","attempts","attemptsLimit","callback",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start center",1,"bg-white","rounded-lg","shadow-lg","w-full"],["hidden","true"],["cardIdFace",""],[1,"relative"],[3,"height","width","videoOptions","imageQuality","captureImageData","allowCameraSwitch","trigger","mirrorImage","imageCapture","initError",4,"ngIf"],["class","absolute top-0 left-0",3,"width","height",4,"ngIf"],["class","captured-image","alt","",3,"src",4,"ngIf"],["toSend",""],["fxLayout","column","fxLayoutAlign","center center",1,"text-center","h-20","pb-4","sm:h-8","xs:h-8","my-2",3,"ngClass"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center",1,"capture_button"],["mat-raised-button","",1,"m-4","z-index-2","capture_button",3,"disabled","click"],["mat-stroked-button","",1,"m-4","z-index-2",3,"click"],["mat-raised-button","",1,"mx-2",3,"click"],[3,"height","width","videoOptions","imageQuality","captureImageData","allowCameraSwitch","trigger","mirrorImage","imageCapture","initError"],[1,"absolute","top-0","left-0"],["maskResult",""],["alt","",1,"captured-image",3,"src"],[1,"text-3xl","font-bold"],[1,"text-gray-600"],["fxLayout","column","fxLayoutAlign","center center",1,"id-scanning-error-div"],["src","https://cdn.verifik.co/demo/nocameraenabled.svg","alt","",1,"id-scanning-no-camera-enabled-img"],[1,"mt-4"],[1,"m-16",3,"errorContent","attempts","attemptsLimit","callback"],["alt","",1,"id-scanning-failed-document-img",3,"src"],["class","mt-4",3,"color",4,"ngIf"],["mat-raised-button","",1,"mt-4","z-index-2","id-scanning-try-again-button",3,"click"]],template:function(o,i){1&o&&(t.ynx(0),t.YNc(1,$,21,39,"div",0),t.BQk(),t.YNc(2,H,8,10,"div",1),t.YNc(3,z,1,4,"kyc-document-errors-display",2),t.YNc(4,X,12,19,"div",1)),2&o&&(t.xp6(1),t.Q6J("ngIf",!i.response.isFailed&&i.camera.hasPermissions&&!i.errorResult),t.xp6(1),t.Q6J("ngIf",!i.response.isFailed&&!i.camera.hasPermissions&&!i.camera.isLoading),t.xp6(1),t.Q6J("ngIf",i.errorContent.message),t.xp6(1),t.Q6J("ngIf",i.response.isFailed))},dependencies:[O.o9,A.xw,A.Wh,F.oO,M.p9,_.ot,_.lW,x.ez,x.mk,x.O5,n.Cq,u.y4,u.Ot,R.Tm,R.i3,h.M],styles:[".id-scanning-error-div[_ngcontent-%COMP%]{margin-top:20px;width:600px;background:white;height:600px;padding:16px;box-shadow:3px 3px 3px 3px #0000000d}.id-scanning-error-div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0036e7;font-size:24px;font-weight:800;text-align:center}.id-scanning-error-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#01236da6;font-size:16px;font-weight:300;text-align:center}.id-scanning-no-camera-enabled-img[_ngcontent-%COMP%], .id-scanning-failed-document-img[_ngcontent-%COMP%]{width:40%}@media (max-width: 599px){.capture_button[_ngcontent-%COMP%]{z-index:100;position:absolute;bottom:100px;left:50%;margin:0!important;transform:translate(-50%)}.id-scanning-error-container[_ngcontent-%COMP%]{position:absolute;top:30%;left:0;width:100%;height:320px!important;z-index:100;background:rgba(128,128,128,.1411764706);border-radius:25px}.captured-image[_ngcontent-%COMP%]{max-width:100%;max-height:50vh;width:auto;height:auto;display:block;margin:0 auto}}",".demo-header[_ngcontent-%COMP%]{background-color:#01236d;width:100%;height:64px;color:#fff!important}.demo-header-logo[_ngcontent-%COMP%]{width:120px;padding-left:16px;height:auto}.demo-header-action[_ngcontent-%COMP%]{padding-right:25px}.demo-header-partner-icon[_ngcontent-%COMP%]{width:40px;padding-right:10px}.demo-content[_ngcontent-%COMP%]{width:100%;height:auto}.step-one-circle[_ngcontent-%COMP%]{background:#0036e7;z-index:2;color:#fff;width:45px;height:45px;padding-top:11px;text-align:center;border-radius:50%;margin-right:25px}.disabled-background[_ngcontent-%COMP%]{background:rgba(0,54,231,.2509803922)!important}.font-bold[_ngcontent-%COMP%]{font-weight:800}.box-shadow-3px[_ngcontent-%COMP%]{box-shadow:3px 3px 3px 3px #0000000d}.grey-background[_ngcontent-%COMP%]{background-color:#80808021}.m-2[_ngcontent-%COMP%]{margin:2px}.m-4[_ngcontent-%COMP%]{margin:4px}.m-8[_ngcontent-%COMP%]{margin:8px}.mt-4[_ngcontent-%COMP%]{margin-top:4px}.mt-8[_ngcontent-%COMP%]{margin-top:8px}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer!important;font-weight:800}.w-50p[_ngcontent-%COMP%]{width:50%}.text-center[_ngcontent-%COMP%]{text-align:center}.margin-left-16[_ngcontent-%COMP%]{margin-left:25px}h1[_ngcontent-%COMP%]{font-size:35px;padding-top:32px;font-weight:700;color:#0036e7}h2[_ngcontent-%COMP%]{font-size:30px;padding-top:16px;font-weight:700;color:#0036e7}@media (max-width: 599px){.demo-header-logo[_ngcontent-%COMP%]{width:120px}}"]})}return r})()},3372:(S,b,a)=>{a.d(b,{M:()=>t});var g=a(6814),x=a(1447),O=a(2296),_=a(617),M=a(8991),n=a(5879),u=a(3814);function R(c,P){1&c&&(n.TgZ(0,"div",6),n._UZ(1,"img",7),n.TgZ(2,"h1",8),n._uU(3),n.ALo(4,"transloco"),n.qZA()()),2&c&&(n.xp6(1),n.Q6J("src","https://cdn.verifik.co/demo/failedtodetectdocument@3x.png",n.LSH),n.xp6(2),n.hij(" ",n.lcZ(4,2,"id_scanning.country_not_allowed")," "))}function f(c,P){1&c&&(n.TgZ(0,"div",6),n._UZ(1,"img",7),n.TgZ(2,"h1",8),n._uU(3),n.ALo(4,"transloco"),n.qZA()()),2&c&&(n.xp6(1),n.Q6J("src","https://cdn.verifik.co/assets/biometric-services/driverLicense.svg",n.LSH),n.xp6(2),n.hij(" ",n.lcZ(4,2,"id_scanning.driver_license_not_allowed")," "))}function E(c,P){1&c&&(n.TgZ(0,"div",6),n._UZ(1,"img",7),n.TgZ(2,"h1",8),n._uU(3),n.ALo(4,"transloco"),n.qZA()()),2&c&&(n.xp6(1),n.Q6J("src","https://cdn.verifik.co/assets/biometric-services/Passport.svg",n.LSH),n.xp6(2),n.hij(" ",n.lcZ(4,2,"id_scanning.passport_not_allowed")," "))}function s(c,P){1&c&&(n.TgZ(0,"div",6),n._UZ(1,"img",7),n.TgZ(2,"h1",8),n._uU(3),n.ALo(4,"transloco"),n.qZA()()),2&c&&(n.xp6(1),n.Q6J("src","https://cdn.verifik.co/assets/biometric-services/governmentID.svg",n.LSH),n.xp6(2),n.hij(" ",n.lcZ(4,2,"id_scanning.government_id_not_allowed")," "))}function l(c,P){1&c&&(n.TgZ(0,"div",6),n._UZ(1,"img",9),n.TgZ(2,"h1",8),n._uU(3),n.ALo(4,"transloco"),n.qZA()()),2&c&&(n.xp6(1),n.Q6J("src","https://cdn.verifik.co/demo/redstop.svg",n.LSH),n.xp6(2),n.hij(" ",n.lcZ(4,2,"id_scanning.face_not_found")," "))}function m(c,P){if(1&c&&(n.TgZ(0,"div",6),n._UZ(1,"img",7),n.TgZ(2,"h1",8),n._uU(3),n.ALo(4,"transloco"),n.qZA()()),2&c){const v=n.oxw();n.xp6(1),n.Q6J("src",v.attemptsLimit-v.attempts>0?"https://cdn.verifik.co/demo/failedtodetectdocument@3x.png":"https://cdn.verifik.co/demo/redstop.svg",n.LSH),n.xp6(2),n.hij(" ",n.lcZ(4,2,v.attemptsLimit-v.attempts>0?"id_scanning.document_not_detected":"id_scanning.failed_to_detect_limit")," ")}}function h(c,P){if(1&c&&(n.TgZ(0,"p",8),n._uU(1),n.ALo(2,"transloco"),n.qZA()),2&c){const v=n.oxw();n.xp6(1),n.AsE("",n.lcZ(2,2,"id_scanning.remaining_attempts")," ",v.attemptsLimit-v.attempts,"")}}let t=(()=>{class c{ngOnInit(){}tryAgain(v){this.dialogRef&&this.dialogRef.close({addAttempt:1}),this.callback&&this.callback({addAttempt:1})}restartDemo(){this.dialogRef&&this.dialogRef.close({addAttempt:1}),this.callback&&this.callback({addAttempt:1})}static#t=this.\u0275fac=function(L){return new(L||c)};static#e=this.\u0275cmp=n.Xpm({type:c,selectors:[["kyc-document-errors-display"]],inputs:{errorContent:"errorContent",attempts:"attempts",attemptsLimit:"attemptsLimit",dialogRef:"dialogRef",callback:"callback"},standalone:!0,features:[n.jDz],decls:12,vars:10,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"id-scanning-error-div"],["fxLayout","column","fxLayoutAlign","center center",3,"ngSwitch"],["fxLayout","column","fxLayoutAlign","center center",4,"ngSwitchCase"],["fxLayout","column","fxLayoutAlign","center center",4,"ngSwitchDefault"],["class","mt-4",4,"ngIf"],["mat-raised-button","","color","primary",1,"mt-4","z-index-2","id-scanning-try-again-button",3,"click"],["fxLayout","column","fxLayoutAlign","center center"],["alt","",1,"id-scanning-failed-document-img",3,"src"],[1,"mt-4"],["alt","",1,"face_not_found",3,"src"]],template:function(L,C){1&L&&(n.TgZ(0,"div",0)(1,"div",1),n.YNc(2,R,5,4,"div",2),n.YNc(3,f,5,4,"div",2),n.YNc(4,E,5,4,"div",2),n.YNc(5,s,5,4,"div",2),n.YNc(6,l,5,4,"div",2),n.YNc(7,m,5,4,"div",3),n.qZA(),n.YNc(8,h,3,4,"p",4),n.TgZ(9,"button",5),n.NdJ("click",function(){return C.attemptsLimit-C.attempts>0?C.tryAgain(!0):C.restartDemo()}),n._uU(10),n.ALo(11,"transloco"),n.qZA()()),2&L&&(n.xp6(1),n.Q6J("ngSwitch",C.errorContent.message),n.xp6(1),n.Q6J("ngSwitchCase","country_not_allowed"),n.xp6(1),n.Q6J("ngSwitchCase","driver_license_not_allowed"),n.xp6(1),n.Q6J("ngSwitchCase","passport_not_allowed"),n.xp6(1),n.Q6J("ngSwitchCase","government_id_not_allowed"),n.xp6(1),n.Q6J("ngSwitchCase","face_not_found"),n.xp6(2),n.Q6J("ngIf",C.attemptsLimit-C.attempts>0),n.xp6(2),n.hij(" ",n.lcZ(11,8,C.attemptsLimit-C.attempts>0?"id_scanning.retry":"restart")," "))},dependencies:[g.ez,g.O5,g.RF,g.n9,g.ED,x.o9,u.xw,u.Wh,M.y4,M.Ot,_.Ps,O.ot,O.lW],styles:[".id-scanning-error-div[_ngcontent-%COMP%]{width:auto;background:white;height:600px;padding:16px}.id-scanning-error-div[_ngcontent-%COMP%]   .id-scanning-failed-document-img[_ngcontent-%COMP%]{width:45%}.id-scanning-error-div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0036e7;font-size:24px;font-weight:800;text-align:center}.id-scanning-error-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#01236da6;font-size:16px;font-weight:300;text-align:center}"]})}return c})()}}]);
"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[139],{7139:(yt,g,r)=>{r.r(g),r.d(g,{default:()=>Ut});var p=r(6814),a=r(6223),f=r(2296),x=r(5986),m=r(1043),w=r(617),h=r(4516),v=r(5940),_=r(3403),N=r(4748),b=r(738),A=r(8533),T=r(8645),l=r(553),Z=r(8991),y=r(1447),u=r(4913),C=r(6420),t=r(5879),L=r(4855),S=r(9559),q=r(6036),I=r(9162),j=r(4771),U=r(3814),F=r(3680);const J=["signUpNgForm"],Q=function(i){return["/sign-up",i]};function O(i,e){if(1&i&&(t.TgZ(0,"div",15)(1,"div"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"a",29),t._uU(5),t.ALo(6,"transloco"),t.qZA()()),2&i){const o=t.oxw(4);t.Udp("color",o.project.branding.txtColor),t.xp6(2),t.Oqu(t.lcZ(3,5,"login.no_account")),t.xp6(2),t.Q6J("routerLink",t.VKq(9,Q,o.project._id)),t.xp6(1),t.Oqu(t.lcZ(6,7,"login.register_here_link"))}}function Y(i,e){if(1&i&&(t.TgZ(0,"fuse-alert",30),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i){const o=t.oxw(4);t.Q6J("appearance","outline")("showIcon",!1)("type",o.alert.type)("@shake","error"===o.alert.type),t.xp6(1),t.hij(" ",t.lcZ(2,5,o.alert.message)," ")}}function k(i,e){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.ALo(3,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"signup.fullName")," ",t.lcZ(3,4,"signup.is_required")," "))}function P(i,e){if(1&i&&(t.TgZ(0,"mat-form-field",31)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",32),t.YNc(5,k,4,6,"mat-error",4),t.qZA()),2&i){const o=t.oxw(4);t.xp6(2),t.Oqu(t.lcZ(3,3,"signup.fullName")),t.xp6(2),t.Q6J("formControlName","fullName"),t.xp6(1),t.Q6J("ngIf",o.signUpForm.get("fullName").hasError("required"))}}function E(i,e){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.ALo(3,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"signup.firstName")," ",t.lcZ(3,4,"signup.is_required")," "))}function R(i,e){if(1&i&&(t.TgZ(0,"mat-form-field",33)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",34),t.YNc(5,E,4,6,"mat-error",4),t.qZA()),2&i){const o=t.oxw(5);t.xp6(2),t.Oqu(t.lcZ(3,3,"signup.firstName")),t.xp6(2),t.Q6J("formControlName","firstName"),t.xp6(1),t.Q6J("ngIf",o.signUpForm.get("firstName").hasError("required"))}}function B(i,e){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.ALo(3,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"signup.lastName")," ",t.lcZ(3,4,"signup.is_required")," "))}function D(i,e){if(1&i&&(t.TgZ(0,"mat-form-field",31)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",35),t.YNc(5,B,4,6,"mat-error",4),t.qZA()),2&i){const o=t.oxw(5);t.xp6(2),t.Oqu(t.lcZ(3,3,"signup.lastName")),t.xp6(2),t.Q6J("formControlName","lastName"),t.xp6(1),t.Q6J("ngIf",o.signUpForm.get("lastName").hasError("required"))}}function H(i,e){if(1&i&&(t.TgZ(0,"div",12),t.YNc(1,R,6,5,"mat-form-field",23),t.YNc(2,D,6,5,"mat-form-field",21),t.qZA()),2&i){const o=t.oxw(4);t.xp6(1),t.Q6J("ngIf",o.fields.firstName),t.xp6(1),t.Q6J("ngIf",o.fields.lastName)}}function M(i,e){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.ALo(3,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"login.email")," ",t.lcZ(3,4,"signup.is_required")," "))}function G(i,e){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.ALo(3,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"signup.please_enter_a_valid")," ",t.lcZ(3,4,"login.email")," "))}function $(i,e){if(1&i&&(t.TgZ(0,"mat-form-field",31)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",36),t.YNc(5,M,4,6,"mat-error",4),t.YNc(6,G,4,6,"mat-error",4),t.qZA()),2&i){const o=t.oxw(4);t.xp6(2),t.Oqu(t.lcZ(3,4,"login.email")),t.xp6(2),t.Q6J("formControlName","email"),t.xp6(1),t.Q6J("ngIf",o.signUpForm.get("email").hasError("required")),t.xp6(1),t.Q6J("ngIf",o.signUpForm.get("email").hasError("email"))}}function K(i,e){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-option",43)(2,"span",40)(3,"span",44),t._uU(4),t.qZA(),t.TgZ(5,"span",45),t._uU(6),t.qZA()()(),t.BQk()),2&i){const o=e.$implicit;t.xp6(1),t.Q6J("value",o.code),t.xp6(3),t.Oqu(o.name),t.xp6(2),t.Oqu(o.code)}}function z(i,e){if(1&i&&(t.TgZ(0,"mat-select",39)(1,"mat-select-trigger")(2,"span",40)(3,"span",41),t._uU(4),t.qZA()()(),t.YNc(5,K,7,3,"ng-container",42),t.qZA()),2&i){const o=t.oxw(5);t.Q6J("formControl",o.signUpForm.get("countryCode")),t.xp6(4),t.Oqu(o.signUpForm.get("countryCode").value),t.xp6(1),t.Q6J("ngForOf",o.countries)}}function V(i,e){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.ALo(3,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"login.phone")," ",t.lcZ(3,4,"signup.is_required")," "))}function X(i,e){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.ALo(3,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"signup.please_enter_a_valid")," ",t.lcZ(3,4,"login.phone")," "))}function W(i,e){if(1&i&&(t.TgZ(0,"div",12)(1,"mat-form-field",33)(2,"mat-label"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t.YNc(5,z,6,3,"mat-select",37),t.qZA(),t.TgZ(6,"mat-form-field",31)(7,"mat-label"),t._uU(8),t.ALo(9,"transloco"),t.qZA(),t._UZ(10,"input",38),t.YNc(11,V,4,6,"mat-error",4),t.YNc(12,X,4,6,"mat-error",4),t.qZA()()),2&i){const o=t.oxw(4);t.xp6(3),t.hij(" ",t.lcZ(4,6,"login.country_code"),""),t.xp6(2),t.Q6J("ngIf",o.countries),t.xp6(3),t.Oqu(t.lcZ(9,8,"login.phone")),t.xp6(2),t.Q6J("formControlName","phone"),t.xp6(1),t.Q6J("ngIf",o.signUpForm.get("phone").hasError("required")),t.xp6(1),t.Q6J("ngIf",o.signUpForm.get("phone").hasError("phone"))}}function tt(i,e){1&i&&(t.TgZ(0,"mat-form-field",31)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",46),t.qZA()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"signup.company")),t.xp6(2),t.Q6J("formControlName","company"))}function ot(i,e){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-option",43)(2,"span",40)(3,"span",44),t._uU(4),t.ALo(5,"transloco"),t.qZA()()(),t.BQk()),2&i){const o=e.$implicit;t.xp6(1),t.Q6J("value",o.code),t.xp6(3),t.Oqu(t.lcZ(5,2,o.label))}}function it(i,e){if(1&i&&(t.TgZ(0,"mat-form-field",33)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"mat-select",39)(5,"mat-select-trigger")(6,"span",40)(7,"span",41),t._uU(8),t.qZA()()(),t.YNc(9,ot,6,4,"ng-container",42),t.qZA()()),2&i){const o=t.oxw(4);t.xp6(2),t.hij(" ",t.lcZ(3,4,"signup.role"),""),t.xp6(2),t.Q6J("formControl",o.signUpForm.get("role")),t.xp6(4),t.Oqu(o.signUpForm.get("role").value),t.xp6(1),t.Q6J("ngForOf",o.roles)}}function et(i,e){if(1&i&&(t.TgZ(0,"a",50),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i){const o=t.oxw(5);t.Q6J("href",o.project.termsAndConditionsUrl,t.LSH),t.xp6(1),t.hij("",t.lcZ(2,2,"signup.terms")," ")}}function nt(i,e){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"signup.and")))}function rt(i,e){if(1&i&&(t.TgZ(0,"a",50),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i){const o=t.oxw(5);t.Q6J("href",o.project.privacyUrl,t.LSH),t.xp6(1),t.hij("",t.lcZ(2,2,"signup.privacyPolicy")," ")}}function st(i,e){if(1&i&&(t.TgZ(0,"div",47)(1,"mat-checkbox",48)(2,"span"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t.YNc(5,et,3,4,"a",49),t.YNc(6,nt,3,3,"span",4),t.YNc(7,rt,3,4,"a",49),t.qZA()()),2&i){const o=t.oxw(4);t.xp6(1),t.Q6J("color","primary")("formControlName","agreements"),t.xp6(2),t.hij("",t.lcZ(4,6,"signup.agreement1")," "),t.xp6(2),t.Q6J("ngIf",o.OnboardingSignUpForm.showTermsAndConditions),t.xp6(1),t.Q6J("ngIf",o.OnboardingSignUpForm.showTermsAndConditions&&o.OnboardingSignUpForm.showPrivacyNotice),t.xp6(1),t.Q6J("ngIf",o.OnboardingSignUpForm.showPrivacyNotice)}}function at(i,e){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"signup.create_account_button")))}function lt(i,e){1&i&&t._UZ(0,"mat-progress-spinner",51),2&i&&t.Q6J("diameter",24)("mode","indeterminate")}const ct=function(i){return["/sign-in",i]};function mt(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"div",12),t._UZ(3,"img",13),t.qZA(),t.TgZ(4,"div",14),t._uU(5),t.ALo(6,"transloco"),t.qZA(),t.TgZ(7,"div",15)(8,"div"),t._uU(9),t.ALo(10,"transloco"),t.qZA(),t.TgZ(11,"a",16),t._uU(12),t.ALo(13,"transloco"),t.qZA()(),t.YNc(14,O,7,11,"div",17),t.YNc(15,Y,3,7,"fuse-alert",18),t.TgZ(16,"form",19,20),t.YNc(18,P,6,5,"mat-form-field",21),t.YNc(19,H,3,2,"div",22),t.YNc(20,$,7,6,"mat-form-field",21),t.YNc(21,W,13,10,"div",22),t.YNc(22,tt,5,4,"mat-form-field",21),t.YNc(23,it,10,6,"mat-form-field",23),t.YNc(24,st,8,8,"div",24),t.TgZ(25,"button",25),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(3);return t.KtG(s.signUp())}),t.YNc(26,at,3,3,"span",4),t.YNc(27,lt,1,2,"mat-progress-spinner",26),t.qZA()(),t.TgZ(28,"div",27)(29,"small"),t._uU(30," Powered by Verifik "),t.qZA(),t._UZ(31,"languages",28),t.qZA()()()}if(2&i){const o=t.oxw(3);t.xp6(3),t.Q6J("src",o.project.branding.logo,t.LSH),t.xp6(2),t.Oqu(t.lcZ(6,23,"signup.title")),t.xp6(4),t.Oqu(t.lcZ(10,25,"signup.auth_question")),t.xp6(2),t.Q6J("routerLink",t.VKq(29,ct,o.project._id)),t.xp6(1),t.hij("",t.lcZ(13,27,"signup.auth_link")," "),t.xp6(2),t.Q6J("ngIf",o.kycProjectFlow),t.xp6(1),t.Q6J("ngIf",o.showAlert),t.xp6(1),t.Q6J("formGroup",o.signUpForm),t.xp6(2),t.Q6J("ngIf",o.fields.fullName&&!o.fields.firstName),t.xp6(1),t.Q6J("ngIf",!o.fields.fullName&&o.fields.firstName),t.xp6(1),t.Q6J("ngIf",o.fields.email),t.xp6(1),t.Q6J("ngIf",o.fields.phone),t.xp6(1),t.Q6J("ngIf",o.fields.company),t.xp6(1),t.Q6J("ngIf",o.fields.role&&o.roles),t.xp6(1),t.Q6J("ngIf",o.fields.agreements),t.xp6(1),t.Udp("background",o.project.branding.buttonColor)("color",o.project.branding.buttonTxtColor),t.Q6J("disabled",o.isFormDisabled()),t.xp6(1),t.Q6J("ngIf",!o.signUpForm.disabled),t.xp6(1),t.Q6J("ngIf",o.signUpForm.disabled),t.xp6(4),t.Q6J("colorText",o.project.branding.txtColor)}}function dt(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"div",56)(1,"div",57),t._UZ(2,"img",58),t.TgZ(3,"h2",59),t._uU(4),t.ALo(5,"transloco"),t.qZA(),t.TgZ(6,"h3",60),t._uU(7),t.ALo(8,"transloco"),t.qZA()(),t.TgZ(9,"div",61)(10,"button",62),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(4);return t.KtG(s.showBiometricsLogin())}),t.TgZ(11,"span"),t._uU(12),t.ALo(13,"transloco"),t.qZA()(),t.TgZ(14,"button",62),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(4);return t.KtG(s.continueRedirection())}),t.TgZ(15,"span"),t._uU(16),t.ALo(17,"transloco"),t.qZA()()()()}if(2&i){const o=t.oxw(4);t.xp6(4),t.hij(" ",t.lcZ(5,8,"add_biometrics.verifik_title")," "),t.xp6(3),t.Oqu(t.lcZ(8,10,"add_biometrics.verifik_content")),t.xp6(4),t.Udp("color",o.project.branding.txtColor),t.xp6(1),t.hij("",t.lcZ(13,12,"add_biometrics.verifik_button")," "),t.xp6(3),t.Udp("color",o.project.branding.txtColor),t.xp6(1),t.hij(" ",t.lcZ(17,14,"add_biometrics.verifik_dismiss")," ")}}function pt(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"div",56)(1,"div",57)(2,"h1",63),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t._UZ(5,"img",64)(6,"img",65),t.TgZ(7,"h2",59),t._uU(8),t.ALo(9,"transloco"),t.qZA(),t.TgZ(10,"h3",60),t._uU(11),t.ALo(12,"transloco"),t.qZA()(),t.TgZ(13,"div",61)(14,"button",62),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(4);return t.KtG(s.showBiometricsLogin())}),t.TgZ(15,"span"),t._uU(16),t.ALo(17,"transloco"),t.qZA()(),t.TgZ(18,"button",62),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(4);return t.KtG(s.continueRedirection())}),t.TgZ(19,"span"),t._uU(20),t.ALo(21,"transloco"),t.qZA()()()()}if(2&i){const o=t.oxw(4);t.xp6(2),t.Udp("color",o.project.branding.titleColor),t.xp6(1),t.AsE(" ",t.lcZ(4,12,"add_biometrics.project_title")," ",o.project.name," "),t.xp6(5),t.hij(" ",t.lcZ(9,14,"add_biometrics.title")," "),t.xp6(3),t.Oqu(t.lcZ(12,16,"add_biometrics.content")),t.xp6(4),t.Udp("color",o.project.branding.txtColor),t.xp6(1),t.hij("",t.lcZ(17,18,"add_biometrics.button")," "),t.xp6(3),t.Udp("color",o.project.branding.txtColor),t.xp6(1),t.hij(" ",t.lcZ(21,20,"add_biometrics.dismiss")," ")}}function _t(i,e){if(1&i&&t._UZ(0,"languages",28),2&i){const o=t.oxw(4);t.Q6J("colorText",o.project.branding.txtColor)}}function ut(i,e){if(1&i&&(t.TgZ(0,"div",52),t.YNc(1,dt,18,16,"div",53),t.YNc(2,pt,22,22,"div",53),t.TgZ(3,"div",54),t.YNc(4,_t,1,1,"languages",55),t.qZA()()),2&i){const o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",o.isVerifikProject),t.xp6(1),t.Q6J("ngIf",!o.isVerifikProject),t.xp6(2),t.Q6J("ngIf",o.project.branding.txtColor)}}function gt(i,e){if(1&i&&(t.TgZ(0,"div",7),t.YNc(1,mt,32,31,"div",8),t.YNc(2,ut,5,3,"div",9),t.qZA()),2&i){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!o.showFaceLivenessRecommendation),t.xp6(1),t.Q6J("ngIf",o.showFaceLivenessRecommendation)}}function ft(i,e){1&i&&t._UZ(0,"app-biometrics-login-ios",67)}function xt(i,e){1&i&&t._UZ(0,"app-biometrics-login",67)}function ht(i,e){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,ft,1,0,"app-biometrics-login-ios",66),t.YNc(2,xt,1,0,"app-biometrics-login",66),t.qZA()),2&i){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf","IOS"===o.demoData.OS),t.xp6(1),t.Q6J("ngIf","IOS"!==o.demoData.OS)}}function vt(i,e){if(1&i&&(t.TgZ(0,"div",68)(1,"div",69)(2,"div",70),t._UZ(3,"img",71),t.qZA(),t.TgZ(4,"div",14),t._uU(5),t.ALo(6,"transloco"),t.qZA(),t.TgZ(7,"div",15)(8,"div"),t._uU(9),t.ALo(10,"transloco"),t.qZA()()()()),2&i){const o=t.oxw(2);t.xp6(3),t.Q6J("src",o.project.branding.logo,t.LSH),t.xp6(2),t.hij(" ",t.lcZ(6,3,"signup.project_flow_not_set")," "),t.xp6(4),t.Oqu(t.lcZ(10,5,"signup.project_flow_not_set_description"))}}function At(i,e){if(1&i&&(t.TgZ(0,"div",72),t._UZ(1,"img",73),t.qZA()),2&i){const o=t.oxw(2);t.Udp("background",o.project.branding.rightBackgroundColor),t.s9C("fxLayoutAlign",o.project.branding.rightImagePosition||"end end"),t.xp6(1),t.Q6J("src",o.project.branding.rightImage,t.LSH)}}function Zt(i,e){if(1&i&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,gt,3,2,"div",3),t.YNc(3,ht,3,2,"div",4),t.qZA(),t.YNc(4,vt,11,7,"div",5),t.YNc(5,At,2,4,"div",6),t.qZA()),2&i){const o=t.oxw();t.Udp("background",o.project.branding.bgColor),t.xp6(2),t.Q6J("ngIf",!o.showBiometrics),t.xp6(1),t.Q6J("ngIf",o.showBiometrics),t.xp6(1),t.Q6J("ngIf",!o.projectFlow._id||!o.project._id),t.xp6(1),t.Q6J("ngIf",!o.showBiometrics&&o.project.branding.rightImage)}}const Ut=[{path:":id",component:(()=>{class i{constructor(o,n,s,c,d,wt,Nt,bt,Tt){this._authService=o,this._formBuilder=n,this._router=s,this._countries=c,this._splashScreenService=d,this._activatedRoute=wt,this._demoService=Nt,this._passwordlessService=bt,this._changeDetectorRef=Tt,this.alert={type:"success",message:""},this.showAlert=!1,this._unsubscribeAll=new T.x,this.generateRandomPhoneNumber=()=>Array.from({length:10},()=>Math.floor(10*Math.random())).join(""),this.countries=this._countries.countryCodes,this.project=null,this.roles=[{label:"signup.roles.founder",code:"founder"},{label:"signup.roles.high_management",code:"highManagement"},{label:"signup.roles.manager",code:"manager"},{label:"signup.roles.developer",code:"developer"},{label:"signup.roles.compliance",code:"compliance"},{label:"signup.roles.marketing",code:"marketing"},{label:"signup.roles.ciso",code:"ciso"}],this._splashScreenService.show(),this._demoService.cleanVariables(),localStorage.removeItem("accessToken"),this.demoData=this._demoService.getDemoData(),this.sendingOTP=!1,this.showFaceLivenessRecommendation=!1}ngOnInit(){this._activatedRoute.params.subscribe(o=>{this.isVerifikProject=o.id===l.N.verifikProject||o.id===l.N.sandboxProject,this.requestProject(o.id)})}requestProject(o){this._passwordlessService.requestProject(o,"onboarding").subscribe({next:n=>{this._onProjectNext(n.data)},error:n=>{console.info({errorHERE:n}),"InternalServer"===n.error.code&&alert("something went wrong, try  again"),this._splashScreenService.hide()},complete:()=>{this._onProjectComplete()}})}_onProjectNext(o){this.project=new A.XR({...o,type:"onboarding"}),this.projectFlow=this.project.currentProjectFlow,this.OnboardingSignUpForm=this.projectFlow.onboardingSettings.signUpForm;for(let n=0;n<o.projectFlows.length;n++){const s=o.projectFlows[n];"login"===s.type&&(this.loginProjectFlow=new A.nd(s))}}_onProjectComplete(){this._splashScreenService.hide();try{this.initForm()}catch(o){console.error({exception:o})}this._changeDetectorRef.markForCheck()}initForm(){const o=l.N.production?0:Math.floor(Math.random()*this._demoService.sampleLastNames.length-1),n=l.N.production?0:Math.floor(Math.random()*this._demoService.sampleFirstNames.length-1),s=Math.floor(1234567*Math.random()),c={fullName:l.N.production?"":`${this._demoService.sampleFirstNames[n]} ${this._demoService.sampleLastNames[o]}`,firstName:l.N.production?"":this._demoService.sampleFirstNames[n],lastName:l.N.production?"":this._demoService.sampleLastNames[o],email:l.N.production?"":`${this._demoService.sampleFirstNames[n].toLowerCase()}_${s}@verifik.co`,phone:l.N.production?"":this.generateRandomPhoneNumber(),countryCode:l.N.production?"":"+1",company:l.N.production?"":`company ${s}`,role:l.N.production?"":this.roles[3].code,agreements:!l.N.production};if(this.fields={},this.OnboardingSignUpForm.fullName&&!this.OnboardingSignUpForm.firstName&&(this.fields.fullName=[c.fullName,a.kI.required]),this.OnboardingSignUpForm.firstName&&(this.fields.firstName=[c.firstName,a.kI.required],this.fields.lastName=[c.lastName,a.kI.required]),this.OnboardingSignUpForm.email&&(this.fields.email=[c.email,a.kI.required],l.N.production&&this.fields.email.push(a.kI.email)),this.OnboardingSignUpForm.phone&&(this.fields.countryCode=[c.countryCode,a.kI.required],this.fields.phone=[c.phone,a.kI.required],l.N.production&&this.fields.phone.push(a.kI.min(8),a.kI.max(10))),(this.OnboardingSignUpForm.showTermsAndConditions||this.OnboardingSignUpForm.showPrivacyNotice)&&(this.fields.agreements=["",a.kI.requiredTrue]),Array.isArray(this.OnboardingSignUpForm.extraFields))for(const d of this.OnboardingSignUpForm.extraFields)this.fields[d]=[c[d]||"",a.kI.required];this.signUpForm=this._formBuilder.group(this.fields)}signUp(){if(this.signUpForm.invalid)return;this.signUpForm.disable(),this.showAlert=!1,localStorage.setItem("signUpData",JSON.stringify(this.signUpForm.value));let o=null;this._passwordlessService.createAppRegistration({project:this.project._id,projectFlow:this.projectFlow._id,...this.signUpForm.value}).subscribe({next:n=>{o=n?.data?.appRegistration,o.token=n?.data?.token},error:n=>{console.info({errorHERE:n}),this.alert={type:"error",message:"Something went wrong, please try again."},this.showAlert=!0,this._splashScreenService.hide()},complete:()=>{this.signUpForm.enable(),this.signUpNgForm.resetForm(),this.showAlert||this._router.navigateByUrl(`/confirmation-required/${o._id}?token=${o.token}`)}})}ngOnDestroy(){this._unsubscribeAll.next(null)}isFormDisabled(){return!(!this.signUpForm.invalid&&this.signUpForm.value.agreements)}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(L.e),t.Y36(a.QS),t.Y36(_.F0),t.Y36(S.K),t.Y36(q.j),t.Y36(_.gz),t.Y36(I.e),t.Y36(j.i),t.Y36(t.sBO))};static#o=this.\u0275cmp=t.Xpm({type:i,selectors:[["auth-sign-up"]],viewQuery:function(n,s){if(1&n&&t.Gf(J,5),2&n){let c;t.iGM(c=t.CRH())&&(s.signUpNgForm=c.first)}},standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["fxLayout","row","fxLayoutAlign","center center","class","w-full",3,"background",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center",1,"w-full"],["fxLayout","row","fxLayoutAlign","center end",1,"flex","w-full"],["class","flex rounded-2xl shadow bg-card overflow-hidden sign-in-content",4,"ngIf"],[4,"ngIf"],["class","md:flex md:items-center md:justify-end w-full sm:w-auto md:h-full md:w-1/2 py-8 px-4 sm:p-12 md:p-16 sm:rounded-2xl md:rounded-none sm:shadow md:shadow-none sm:bg-card",4,"ngIf"],["class","relative hidden md:flex flex-auto justify-center h-full overflow-hidden dark:border-r w-full","fxLayout","row",3,"background","fxLayoutAlign",4,"ngIf"],[1,"flex","rounded-2xl","shadow","bg-card","overflow-hidden","sign-in-content"],["class","w-full sm:w-auto py-8 px-4 sm:p-12","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["class","w-full sm:w-auto py-8 lg:px-4 sm:p-12 xs:m-2","fxLayout","column","fxLayoutAlign","start center",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"w-full","sm:w-auto","py-8","px-4","sm:p-12"],[1,"w-400","mx-auto","sm:mx-0"],["fxLayout","row","fxLayoutAlign","start center"],[1,"w-14",3,"src"],[1,"mt-8","text-4xl","font-extrabold","tracking-tight","leading-tight"],[1,"flex","items-baseline","mt-0.5","font-medium"],[1,"ml-1","text-primary-500","hover:underline",3,"routerLink"],["class","flex items-baseline mt-0.5 font-medium",3,"color",4,"ngIf"],["class","mt-8 -mb-4",3,"appearance","showIcon","type",4,"ngIf"],[1,"mt-8",3,"formGroup"],["signUpNgForm","ngForm"],["class","w-full",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["class","w-full mr-2",4,"ngIf"],["class","inline-flex items-end w-full mt-1.5",4,"ngIf"],["mat-flat-button","",1,"fuse-mat-button-large","w-full","mt-6",3,"disabled","click"],[3,"diameter","mode",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center",1,"w-full","text-center","mt-6"],[3,"colorText"],[1,"ml-1","text-primary-500","hover:underline","cursor-pointer",3,"routerLink"],[1,"mt-8","-mb-4",3,"appearance","showIcon","type"],[1,"w-full"],["id","fullName","matInput","",3,"formControlName"],[1,"w-full","mr-2"],["id","firstName","matInput","",3,"formControlName"],["id","lastName","matInput","",3,"formControlName"],["id","email","matInput","",3,"formControlName"],["class","mr-1.5","matPrefix","",3,"formControl",4,"ngIf"],["id","phone","matInput","",3,"formControlName"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"flex","items-center"],[1,"sm:mx-0.5","font-medium","text-default"],[4,"ngFor","ngForOf"],[3,"value"],[1,"ml-2"],[1,"ml-2","font-medium"],["id","company-confirm","matInput","",3,"formControlName"],[1,"inline-flex","items-end","w-full","mt-1.5"],[1,"-ml-2",3,"color","formControlName"],["class","ml-1 text-primary-500 hover:underline",3,"href",4,"ngIf"],[1,"ml-1","text-primary-500","hover:underline",3,"href"],[3,"diameter","mode"],["fxLayout","column","fxLayoutAlign","start center",1,"w-full","sm:w-auto","py-8","lg:px-4","sm:p-12","xs:m-2"],["class","w-400 mx-auto sm:mx-0","fxLayout","column","fxLayoutAlign","start center",4,"ngIf"],[1,"w-full","text-center","mt-6"],[3,"colorText",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start center",1,"w-400","mx-auto","sm:mx-0"],["fxLayout","column","fxLayoutAlign","start center"],["src","https://cdn.verifik.co/access/goldcoins3x.png","alt","",1,"w-36"],[1,"pt-2","credits-h2"],[1,"credits-h3"],["fxLayout","column","fxLayoutAlign","center center",1,"w-full"],["mat-stroked-button","","color","primary",1,"w-11/12","mt-4","biometrics-button",3,"click"],[1,"mt-4","text-4xl","font-extrabold","tracking-tight","leading-tight"],["src","https://cdn.verifik.co/access/divider.svg","alt","",1,"w-full","pb-8","pt-8"],["src","https://cdn.verifik.co/access/biometrics_icon.svg","alt","",1,"w-28"],["fxLayoutAlign","center center","class","w-full h-full mb-6",4,"ngIf"],["fxLayoutAlign","center center",1,"w-full","h-full","mb-6"],[1,"md:flex","md:items-center","md:justify-end","w-full","sm:w-auto","md:h-full","md:w-1/2","py-8","px-4","sm:p-12","md:p-16","sm:rounded-2xl","md:rounded-none","sm:shadow","md:shadow-none","sm:bg-card"],[1,"w-full","max-w-80","sm:w-80","mx-auto","sm:mx-0"],[1,"w-12"],[3,"src"],["fxLayout","row",1,"relative","hidden","md:flex","flex-auto","justify-center","h-full","overflow-hidden","dark:border-r","w-full",3,"fxLayoutAlign"],["alt","",1,"hhalf-width-image",3,"src"]],template:function(n,s){1&n&&t.YNc(0,Zt,6,6,"div",0),2&n&&t.Q6J("ngIf",s.project&&s.signUpForm)},dependencies:[y.o9,U.xw,U.Wh,_.rH,p.O5,b.W,a.u5,a._Y,a.Fj,a.JJ,a.JL,a.UX,a.oH,a.sg,a.u,m.lN,m.KE,m.hX,m.TO,m.qo,h.c,h.Nt,f.ot,f.lW,w.Ps,x.p9,x.oG,v.Cq,v.Ou,Z.y4,Z.Ot,p.ez,p.sg,u.LD,u.gD,u.$L,F.ey,C.v],styles:[".main-logo{position:absolute;top:10px;left:20px;z-index:0}.w-400{width:400px!important}bg-white{background-color:#fff}.sign-in-content{z-index:2!important}.credits-h2{font-size:24px;text-align:center}.credits-h3{font-size:16px;text-align:center;font-weight:600;color:gray}.biometrics-button{background-color:#82269e;color:#fff!important}mat-form-field{padding-right:4px!important}.mat-mdc-tab-label-container{margin:0!important}mat-tab-body .mat-mdc-tab-body-content{padding:8px 0 5px!important}.w-120px{width:60%!important}.half-width-image{width:50vw;object-fit:fill;height:100%}\n"],encapsulation:2,data:{animation:N.L}})}return i})()}]}}]);
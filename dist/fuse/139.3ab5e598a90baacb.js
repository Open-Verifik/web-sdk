"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[139],{7139:(Lt,g,a)=>{a.r(g),a.d(g,{default:()=>wt});var b=a(5861),d=a(6814),t=a(5879),s=a(6223),f=a(2296),h=a(5986),m=a(1043),w=a(617),x=a(4516),v=a(5940),_=a(3403),N=a(4748),T=a(738),A=a(8533),C=a(8645),l=a(553),Z=a(8991),y=a(1447),u=a(4913),L=a(6420),S=a(6676),F=a.n(S),I=a(9559),q=a(6036),j=a(9162),J=a(4771),U=a(3814),Q=a(3680);const O=["signUpNgForm"],k=function(e){return["/sign-up",e]};function Y(e,n){if(1&e&&(t.TgZ(0,"div",15)(1,"div"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"a",29),t._uU(5),t.ALo(6,"transloco"),t.qZA()()),2&e){const o=t.oxw(4);t.Udp("color",o.project.branding.txtColor),t.xp6(2),t.Oqu(t.lcZ(3,5,"login.no_account")),t.xp6(2),t.Q6J("routerLink",t.VKq(9,k,o.project._id)),t.xp6(1),t.Oqu(t.lcZ(6,7,"login.register_here_link"))}}function E(e,n){if(1&e&&(t.TgZ(0,"fuse-alert",30),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e){const o=t.oxw(4);t.Q6J("appearance","outline")("showIcon",!1)("type",o.alert.type)("@shake","error"===o.alert.type),t.xp6(1),t.hij(" ",t.lcZ(2,5,o.alert.message)," ")}}function P(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.ALo(3,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"signup.fullName")," ",t.lcZ(3,4,"signup.is_required")," "))}function D(e,n){if(1&e&&(t.TgZ(0,"mat-form-field",31)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",32),t.YNc(5,P,4,6,"mat-error",4),t.qZA()),2&e){const o=t.oxw(4);t.xp6(2),t.Oqu(t.lcZ(3,3,"signup.fullName")),t.xp6(2),t.Q6J("formControlName","fullName"),t.xp6(1),t.Q6J("ngIf",o.signUpForm.get("fullName").hasError("required"))}}function H(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.ALo(3,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"signup.firstName")," ",t.lcZ(3,4,"signup.is_required")," "))}function R(e,n){if(1&e&&(t.TgZ(0,"mat-form-field",33)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",34),t.YNc(5,H,4,6,"mat-error",4),t.qZA()),2&e){const o=t.oxw(5);t.xp6(2),t.Oqu(t.lcZ(3,3,"signup.firstName")),t.xp6(2),t.Q6J("formControlName","firstName"),t.xp6(1),t.Q6J("ngIf",o.signUpForm.get("firstName").hasError("required"))}}function M(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.ALo(3,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"signup.lastName")," ",t.lcZ(3,4,"signup.is_required")," "))}function B(e,n){if(1&e&&(t.TgZ(0,"mat-form-field",31)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",35),t.YNc(5,M,4,6,"mat-error",4),t.qZA()),2&e){const o=t.oxw(5);t.xp6(2),t.Oqu(t.lcZ(3,3,"signup.lastName")),t.xp6(2),t.Q6J("formControlName","lastName"),t.xp6(1),t.Q6J("ngIf",o.signUpForm.get("lastName").hasError("required"))}}function G(e,n){if(1&e&&(t.TgZ(0,"div",12),t.YNc(1,R,6,5,"mat-form-field",23),t.YNc(2,B,6,5,"mat-form-field",21),t.qZA()),2&e){const o=t.oxw(4);t.xp6(1),t.Q6J("ngIf",o.fields.firstName),t.xp6(1),t.Q6J("ngIf",o.fields.lastName)}}function $(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.ALo(3,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"login.email")," ",t.lcZ(3,4,"signup.is_required")," "))}function K(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.ALo(3,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"signup.please_enter_a_valid")," ",t.lcZ(3,4,"login.email")," "))}function V(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"mat-form-field",31)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"input",36),t.NdJ("input",function(){t.CHM(o);const r=t.oxw(4);return t.KtG(r.removeSpacesFromEmail())}),t.qZA(),t.YNc(5,$,4,6,"mat-error",4),t.YNc(6,K,4,6,"mat-error",4),t.qZA()}if(2&e){const o=t.oxw(4);t.xp6(2),t.Oqu(t.lcZ(3,4,"login.email")),t.xp6(2),t.Q6J("formControlName","email"),t.xp6(1),t.Q6J("ngIf",o.signUpForm.get("email").hasError("required")),t.xp6(1),t.Q6J("ngIf",o.signUpForm.get("email").hasError("email"))}}function z(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-option",43)(2,"span",40)(3,"span",44),t._uU(4),t.qZA(),t.TgZ(5,"span",45),t._uU(6),t.qZA()()(),t.BQk()),2&e){const o=n.$implicit;t.xp6(1),t.Q6J("value",o.code),t.xp6(3),t.Oqu(o.name),t.xp6(2),t.Oqu(o.code)}}function X(e,n){if(1&e&&(t.TgZ(0,"mat-select",39)(1,"mat-select-trigger")(2,"span",40)(3,"span",41),t._uU(4),t.qZA()()(),t.YNc(5,z,7,3,"ng-container",42),t.qZA()),2&e){const o=t.oxw(5);t.Q6J("formControl",o.signUpForm.get("countryCode")),t.xp6(4),t.Oqu(o.signUpForm.get("countryCode").value),t.xp6(1),t.Q6J("ngForOf",o.countries)}}function W(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.ALo(3,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"login.phone")," ",t.lcZ(3,4,"signup.is_required")," "))}function tt(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.ALo(3,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"signup.please_enter_a_valid")," ",t.lcZ(3,4,"login.phone")," "))}function ot(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",12)(1,"mat-form-field",33)(2,"mat-label"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t.YNc(5,X,6,3,"mat-select",37),t.qZA(),t.TgZ(6,"mat-form-field",31)(7,"mat-label"),t._uU(8),t.ALo(9,"transloco"),t.qZA(),t.TgZ(10,"input",38),t.NdJ("input",function(){t.CHM(o);const r=t.oxw(4);return t.KtG(r.removeSpacesFromPhone())}),t.qZA(),t.YNc(11,W,4,6,"mat-error",4),t.YNc(12,tt,4,6,"mat-error",4),t.qZA()()}if(2&e){const o=t.oxw(4);t.xp6(3),t.hij(" ",t.lcZ(4,6,"login.country_code"),""),t.xp6(2),t.Q6J("ngIf",o.countries),t.xp6(3),t.Oqu(t.lcZ(9,8,"login.phone")),t.xp6(2),t.Q6J("formControlName","phone"),t.xp6(1),t.Q6J("ngIf",o.signUpForm.get("phone").hasError("required")),t.xp6(1),t.Q6J("ngIf",o.signUpForm.get("phone").hasError("phone"))}}function et(e,n){1&e&&(t.TgZ(0,"mat-form-field",31)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",46),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"signup.company")),t.xp6(2),t.Q6J("formControlName","company"))}function it(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-option",43)(2,"span",40)(3,"span",44),t._uU(4),t.ALo(5,"transloco"),t.qZA()()(),t.BQk()),2&e){const o=n.$implicit;t.xp6(1),t.Q6J("value",o.code),t.xp6(3),t.Oqu(t.lcZ(5,2,o.label))}}function nt(e,n){if(1&e&&(t.TgZ(0,"mat-form-field",33)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"mat-select",39)(5,"mat-select-trigger")(6,"span",40)(7,"span",41),t._uU(8),t.qZA()()(),t.YNc(9,it,6,4,"ng-container",42),t.qZA()()),2&e){const o=t.oxw(4);t.xp6(2),t.hij(" ",t.lcZ(3,4,"signup.role"),""),t.xp6(2),t.Q6J("formControl",o.signUpForm.get("role")),t.xp6(4),t.Oqu(o.signUpForm.get("role").value),t.xp6(1),t.Q6J("ngForOf",o.roles)}}function rt(e,n){if(1&e&&(t.TgZ(0,"a",50),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e){const o=t.oxw(5);t.Q6J("href",o.project.termsAndConditionsUrl,t.LSH),t.xp6(1),t.hij("",t.lcZ(2,2,"signup.terms")," ")}}function at(e,n){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"signup.and")))}function st(e,n){if(1&e&&(t.TgZ(0,"a",50),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e){const o=t.oxw(5);t.Q6J("href",o.project.privacyUrl,t.LSH),t.xp6(1),t.hij("",t.lcZ(2,2,"signup.privacyPolicy")," ")}}function lt(e,n){if(1&e&&(t.TgZ(0,"div",47)(1,"mat-checkbox",48)(2,"span"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t.YNc(5,rt,3,4,"a",49),t.YNc(6,at,3,3,"span",4),t.YNc(7,st,3,4,"a",49),t.qZA()()),2&e){const o=t.oxw(4);t.xp6(1),t.Q6J("color","primary")("formControlName","agreements"),t.xp6(2),t.hij("",t.lcZ(4,6,"signup.agreement1")," "),t.xp6(2),t.Q6J("ngIf",o.OnboardingSignUpForm.showTermsAndConditions),t.xp6(1),t.Q6J("ngIf",o.OnboardingSignUpForm.showTermsAndConditions&&o.OnboardingSignUpForm.showPrivacyNotice),t.xp6(1),t.Q6J("ngIf",o.OnboardingSignUpForm.showPrivacyNotice)}}function ct(e,n){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"signup.create_account_button")))}function mt(e,n){1&e&&t._UZ(0,"mat-progress-spinner",51),2&e&&t.Q6J("diameter",24)("mode","indeterminate")}const dt=function(e){return["/sign-in",e]};function pt(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"div",12),t._UZ(3,"img",13),t.qZA(),t.TgZ(4,"div",14),t._uU(5),t.ALo(6,"transloco"),t.qZA(),t.TgZ(7,"div",15)(8,"div"),t._uU(9),t.ALo(10,"transloco"),t.qZA(),t.TgZ(11,"a",16),t._uU(12),t.ALo(13,"transloco"),t.qZA()(),t.YNc(14,Y,7,11,"div",17),t.YNc(15,E,3,7,"fuse-alert",18),t.TgZ(16,"form",19,20),t.YNc(18,D,6,5,"mat-form-field",21),t.YNc(19,G,3,2,"div",22),t.YNc(20,V,7,6,"mat-form-field",21),t.YNc(21,ot,13,10,"div",22),t.YNc(22,et,5,4,"mat-form-field",21),t.YNc(23,nt,10,6,"mat-form-field",23),t.YNc(24,lt,8,8,"div",24),t.TgZ(25,"button",25),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(3);return t.KtG(r.signUp())}),t.YNc(26,ct,3,3,"span",4),t.YNc(27,mt,1,2,"mat-progress-spinner",26),t.qZA()(),t.TgZ(28,"div",27)(29,"small"),t._uU(30," Powered by Verifik "),t.qZA(),t._UZ(31,"languages",28),t.qZA()()()}if(2&e){const o=t.oxw(3);t.xp6(3),t.Q6J("src",o.project.branding.logo,t.LSH),t.xp6(2),t.Oqu(t.lcZ(6,24,"signup.title")),t.xp6(4),t.Oqu(t.lcZ(10,26,"signup.auth_question")),t.xp6(2),t.Q6J("routerLink",t.VKq(30,dt,o.project._id)),t.xp6(1),t.hij("",t.lcZ(13,28,"signup.auth_link")," "),t.xp6(2),t.Q6J("ngIf",o.kycProjectFlow),t.xp6(1),t.Q6J("ngIf",o.showAlert),t.xp6(1),t.Q6J("formGroup",o.signUpForm),t.xp6(2),t.Q6J("ngIf",o.fields.fullName&&!o.fields.firstName),t.xp6(1),t.Q6J("ngIf",!o.fields.fullName&&o.fields.firstName),t.xp6(1),t.Q6J("ngIf",o.fields.email),t.xp6(1),t.Q6J("ngIf",o.fields.phone),t.xp6(1),t.Q6J("ngIf",o.fields.company),t.xp6(1),t.Q6J("ngIf",o.fields.role&&o.roles),t.xp6(1),t.Q6J("ngIf",o.fields.agreements),t.xp6(1),t.Udp("background",o.project.branding.buttonColor)("color",o.project.branding.buttonTxtColor),t.Q6J("disabled",o.isFormDisabled())("id","signUp-"+o.project._id),t.xp6(1),t.Q6J("ngIf",!o.signUpForm.disabled),t.xp6(1),t.Q6J("ngIf",o.signUpForm.disabled),t.xp6(4),t.Q6J("colorText",o.project.branding.txtColor)}}function _t(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",56)(1,"div",57),t._UZ(2,"img",58),t.TgZ(3,"h2",59),t._uU(4),t.ALo(5,"transloco"),t.qZA(),t.TgZ(6,"h3",60),t._uU(7),t.ALo(8,"transloco"),t.qZA()(),t.TgZ(9,"div",61)(10,"button",62),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(4);return t.KtG(r.showBiometricsLogin())}),t.TgZ(11,"span"),t._uU(12),t.ALo(13,"transloco"),t.qZA()(),t.TgZ(14,"button",62),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(4);return t.KtG(r.continueRedirection())}),t._uU(15," ... "),t.TgZ(16,"span"),t._uU(17),t.ALo(18,"transloco"),t.qZA()()()()}if(2&e){const o=t.oxw(4);t.xp6(4),t.hij(" ",t.lcZ(5,8,"add_biometrics.verifik_title")," "),t.xp6(3),t.Oqu(t.lcZ(8,10,"add_biometrics.verifik_content")),t.xp6(4),t.Udp("color",o.project.branding.txtColor),t.xp6(1),t.hij("",t.lcZ(13,12,"add_biometrics.verifik_button")," "),t.xp6(4),t.Udp("color",o.project.branding.txtColor),t.xp6(1),t.hij(" ",t.lcZ(18,14,"add_biometrics.verifik_dismiss")," ")}}function ut(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",56)(1,"div",57)(2,"h1",63),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t._UZ(5,"img",64)(6,"img",65),t.TgZ(7,"h2",59),t._uU(8),t.ALo(9,"transloco"),t.qZA(),t.TgZ(10,"h3",60),t._uU(11),t.ALo(12,"transloco"),t.qZA()(),t.TgZ(13,"div",61)(14,"button",62),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(4);return t.KtG(r.showBiometricsLogin())}),t.TgZ(15,"span"),t._uU(16),t.ALo(17,"transloco"),t.qZA()(),t.TgZ(18,"button",62),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(4);return t.KtG(r.continueRedirection())}),t.TgZ(19,"span"),t._uU(20),t.ALo(21,"transloco"),t.qZA()()()()}if(2&e){const o=t.oxw(4);t.xp6(2),t.Udp("color",o.project.branding.titleColor),t.xp6(1),t.AsE(" ",t.lcZ(4,12,"add_biometrics.project_title")," ",o.project.name," "),t.xp6(5),t.hij(" ",t.lcZ(9,14,"add_biometrics.title")," "),t.xp6(3),t.Oqu(t.lcZ(12,16,"add_biometrics.content")),t.xp6(4),t.Udp("color",o.project.branding.txtColor),t.xp6(1),t.hij("",t.lcZ(17,18,"add_biometrics.button")," "),t.xp6(3),t.Udp("color",o.project.branding.txtColor),t.xp6(1),t.hij(" ",t.lcZ(21,20,"add_biometrics.dismiss")," ")}}function gt(e,n){if(1&e&&t._UZ(0,"languages",28),2&e){const o=t.oxw(4);t.Q6J("colorText",o.project.branding.txtColor)}}function ft(e,n){if(1&e&&(t.TgZ(0,"div",52),t.YNc(1,_t,19,16,"div",53),t.YNc(2,ut,22,22,"div",53),t.TgZ(3,"div",54),t.YNc(4,gt,1,1,"languages",55),t.qZA()()),2&e){const o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",o.isVerifikProject),t.xp6(1),t.Q6J("ngIf",!o.isVerifikProject),t.xp6(2),t.Q6J("ngIf",o.project.branding.txtColor)}}function ht(e,n){if(1&e&&(t.TgZ(0,"div",7),t.YNc(1,pt,32,32,"div",8),t.YNc(2,ft,5,3,"div",9),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!o.showFaceLivenessRecommendation),t.xp6(1),t.Q6J("ngIf",o.showFaceLivenessRecommendation)}}function xt(e,n){1&e&&t._UZ(0,"app-biometrics-login-ios",67)}function vt(e,n){1&e&&t._UZ(0,"app-biometrics-login",67)}function At(e,n){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,xt,1,0,"app-biometrics-login-ios",66),t.YNc(2,vt,1,0,"app-biometrics-login",66),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf","IOS"===o.demoData.OS),t.xp6(1),t.Q6J("ngIf","IOS"!==o.demoData.OS)}}function Zt(e,n){if(1&e&&(t.TgZ(0,"div",68)(1,"div",69)(2,"div",70),t._UZ(3,"img",71),t.qZA(),t.TgZ(4,"div",14),t._uU(5),t.ALo(6,"transloco"),t.qZA(),t.TgZ(7,"div",15)(8,"div"),t._uU(9),t.ALo(10,"transloco"),t.qZA()()()()),2&e){const o=t.oxw(2);t.xp6(3),t.Q6J("src",o.project.branding.logo,t.LSH),t.xp6(2),t.hij(" ",t.lcZ(6,3,"signup.project_flow_not_set")," "),t.xp6(4),t.Oqu(t.lcZ(10,5,"signup.project_flow_not_set_description"))}}function Ut(e,n){if(1&e&&(t.TgZ(0,"div",72),t._UZ(1,"img",73),t.qZA()),2&e){const o=t.oxw(2);t.Udp("background",o.project.branding.rightBackgroundColor),t.s9C("fxLayoutAlign",o.project.branding.rightImagePosition||"end end"),t.xp6(1),t.Q6J("src",o.project.branding.rightImage,t.LSH)}}function bt(e,n){if(1&e&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,ht,3,2,"div",3),t.YNc(3,At,3,2,"div",4),t.qZA(),t.YNc(4,Zt,11,7,"div",5),t.YNc(5,Ut,2,4,"div",6),t.qZA()),2&e){const o=t.oxw();t.Udp("background",o.project.branding.bgColor),t.xp6(2),t.Q6J("ngIf",!o.showBiometrics),t.xp6(1),t.Q6J("ngIf",o.showBiometrics),t.xp6(1),t.Q6J("ngIf",!o.projectFlow._id||!o.project._id),t.xp6(1),t.Q6J("ngIf",!o.showBiometrics&&o.project.branding.rightImage)}}const wt=[{path:":id",component:(()=>{class e{constructor(o,i,r,c,p,Nt,Tt,Ct,yt){this._formBuilder=o,this._router=i,this._countries=r,this._splashScreenService=c,this._activatedRoute=p,this._demoService=Nt,this._passwordlessService=Tt,this._changeDetectorRef=Ct,this.platformId=yt,this.alert={type:"success",message:""},this.showAlert=!1,this._unsubscribeAll=new C.x,this.flagCodes={en:"us",es:"es",br:"br",fr:"fr",it:"it",ru:"ru",kr:"kr",in:"in",cn:"cn",ph:"ph"},this.generateRandomPhoneNumber=()=>Array.from({length:10},()=>Math.floor(10*Math.random())).join(""),this.setLanguage(),this.countries=this._countries.countryCodes,this.project=null,this.location=null,this.roles=[{label:"signup.roles.founder",code:"founder"},{label:"signup.roles.high_management",code:"highManagement"},{label:"signup.roles.manager",code:"manager"},{label:"signup.roles.developer",code:"developer"},{label:"signup.roles.compliance",code:"compliance"},{label:"signup.roles.marketing",code:"marketing"},{label:"signup.roles.ciso",code:"ciso"}],this._splashScreenService.show(),this.demoData=this._demoService.getDemoData(),this._demoService.cleanVariables(),this.deviceDetails=this._demoService.getDeviceDetails(),localStorage.removeItem("accessToken"),this.sendingOTP=!1,this.showFaceLivenessRecommendation=!1}setLanguage(){(0,d.NF)(this.platformId)||(this.language="en");const o=navigator.language.split("-")[0];this.language=this.flagCodes[o]?o:"en",localStorage.setItem("currentLanguage",this.language)}ngOnInit(){var i,o=this;this._activatedRoute.params.subscribe(i=>{this.isVerifikProject=i.id===l.N.verifikProject||i.id===l.N.sandboxProject,this.requestProject(i.id)}),this._demoService.geoLocation$.subscribe({next:(i=(0,b.Z)(function*(r){!r||o.location||(o.location=yield o._demoService.extractLocationFromLatLng(r.lat,r.lng),o.location.os=o.deviceDetails?.platform,o.location.type="browser",o.location.countryCode=o._countries.findCountryCode(o.location.country))}),function(c){return i.apply(this,arguments)}),error:i=>{},complete:()=>{}})}removeSpacesFromEmail(){const o=this.signUpForm.get("email");if(o.value){let i=o.value.replace(/\s/g,"");i.includes("@")&&i.indexOf("@")!==i.lastIndexOf("@")&&(i=i.replace(/@/g,"")),o.patchValue(i)}}removeSpacesFromPhone(){const o=this.signUpForm.get("phone");if(o.value){const i=o.value.replace(/\s/g,"").replace(/\D/g,"");o.patchValue(i)}}requestProject(o){this._passwordlessService.requestProject(o,"onboarding").subscribe({next:i=>{this._onProjectNext(i.data)},error:i=>{console.info({errorHERE:i}),"InternalServer"===i.error.code&&alert("something went wrong, try  again"),this._splashScreenService.hide()},complete:()=>{this._onProjectComplete()}})}_onProjectNext(o){this.project=new A.XR({...o,type:"onboarding"}),this.projectFlow=this.project.currentProjectFlow,this.OnboardingSignUpForm=this.projectFlow.onboardingSettings.signUpForm;for(let i=0;i<o.projectFlows.length;i++){const r=o.projectFlows[i];"login"===r.type&&(this.loginProjectFlow=new A.nd(r))}}_onProjectComplete(){this._splashScreenService.hide();try{this.initForm()}catch(o){console.error({exception:o})}this._changeDetectorRef.markForCheck()}initForm(){const o=l.N.production?0:Math.floor(Math.random()*this._demoService.sampleLastNames.length-1)||0,i=l.N.production?0:Math.floor(Math.random()*this._demoService.sampleFirstNames.length-1)||0,r=Math.floor(1234567*Math.random()),c={fullName:l.N.production?"":`${this._demoService.sampleFirstNames[i]} ${this._demoService.sampleLastNames[o]}`,firstName:l.N.production?"":this._demoService.sampleFirstNames[i],lastName:l.N.production?"":this._demoService.sampleLastNames[o],email:l.N.production?"":`${this._demoService.sampleFirstNames[i].toLowerCase()}_${r}@verifik.co`,phone:l.N.production?"":this.generateRandomPhoneNumber(),countryCode:l.N.production?"":"+1",company:l.N.production?"":`company ${r}`,role:l.N.production?"":this.roles[3].code,agreements:!l.N.production};if(this.fields={},this.OnboardingSignUpForm.fullName&&!this.OnboardingSignUpForm.firstName&&(this.fields.fullName=[c.fullName,[s.kI.required]]),this.OnboardingSignUpForm.firstName&&(this.fields.firstName=[c.firstName,[s.kI.required]],this.fields.lastName=[c.lastName,[s.kI.required]]),this.OnboardingSignUpForm.email&&(this.fields.email=[c.email,[s.kI.email,s.kI.required]],l.N.production&&this.fields.email.push(s.kI.email)),this.OnboardingSignUpForm.phone&&(this.fields.countryCode=[this.location?.countryCode||c.countryCode,s.kI.required],this.fields.phone=[c.phone,s.kI.required],l.N.production&&this.fields.phone.push(s.kI.min(8),s.kI.max(10))),(this.OnboardingSignUpForm.showTermsAndConditions||this.OnboardingSignUpForm.showPrivacyNotice)&&(this.fields.agreements=["",s.kI.requiredTrue]),Array.isArray(this.OnboardingSignUpForm.extraFields))for(const p of this.OnboardingSignUpForm.extraFields)this.fields[p]=[c[p]||"",s.kI.required];this.signUpForm=this._formBuilder.group(this.fields)}signUp(){if(this.signUpForm.invalid)return;dataLayer.push({event:"clickEvent",clickId:`form_${this.project._id}`,eventId:F()().format("HH:mm:ss")}),this.signUpForm.disable(),this.showAlert=!1,localStorage.setItem("signUpData",JSON.stringify(this.signUpForm.value));let o=null;this._passwordlessService.createAppRegistration({project:this.project._id,projectFlow:this.projectFlow._id,language:this.language,location:this.location,...this.signUpForm.value}).subscribe({next:i=>{o=i?.data?.appRegistration,o.token=i?.data?.token},error:i=>{console.info({errorHERE:i}),this.alert={type:"error",message:"phone, email, projectFlow must be unique"===i.error.message?"errors.phone_or_email_is_not_unique":"errors.something_went_wrong"},this.showAlert=!0,this._splashScreenService.hide(),this._reEnableForm()},complete:()=>{this.showAlert||this._router.navigateByUrl(`/confirmation-required/${o._id}?token=${o.token}`),this._reEnableForm()}})}_reEnableForm(){setTimeout(()=>{this.showAlert=!1,this.alert=null,this.signUpForm.enable(),this.signUpNgForm.resetForm()},5e3)}ngOnDestroy(){this._unsubscribeAll.next(null)}isFormDisabled(){return!(!this.signUpForm.invalid&&this.signUpForm.value.agreements)}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(s.QS),t.Y36(_.F0),t.Y36(I.K),t.Y36(q.j),t.Y36(_.gz),t.Y36(j.e),t.Y36(J.i),t.Y36(t.sBO),t.Y36(t.Lbi))};static#o=this.\u0275cmp=t.Xpm({type:e,selectors:[["auth-sign-up"]],viewQuery:function(i,r){if(1&i&&t.Gf(O,5),2&i){let c;t.iGM(c=t.CRH())&&(r.signUpNgForm=c.first)}},standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["fxLayout","row","fxLayoutAlign","center center","class","w-full",3,"background",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center",1,"w-full"],["fxLayout","row","fxLayoutAlign","center end",1,"flex","w-full"],["class","flex rounded-2xl shadow bg-card overflow-hidden sign-in-content",4,"ngIf"],[4,"ngIf"],["class","md:flex md:items-center md:justify-end w-full sm:w-auto md:h-full md:w-1/2 py-8 px-4 sm:p-12 md:p-16 sm:rounded-2xl md:rounded-none sm:shadow md:shadow-none sm:bg-card",4,"ngIf"],["class","relative hidden md:flex flex-auto justify-center h-full overflow-hidden dark:border-r w-full","fxLayout","row",3,"background","fxLayoutAlign",4,"ngIf"],[1,"flex","rounded-2xl","shadow","bg-card","overflow-hidden","sign-in-content"],["class","w-full sm:w-auto py-8 px-4 sm:p-12","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["class","w-full sm:w-auto py-8 lg:px-4 sm:p-12 xs:m-2","fxLayout","column","fxLayoutAlign","start center",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"w-full","sm:w-auto","py-8","px-4","sm:p-12"],[1,"w-400","mx-auto","sm:mx-0"],["fxLayout","row","fxLayoutAlign","start center"],[1,"w-14",3,"src"],[1,"mt-8","text-4xl","font-extrabold","tracking-tight","leading-tight"],[1,"flex","items-baseline","mt-0.5","font-medium"],[1,"ml-1","text-primary-500","hover:underline",3,"routerLink"],["class","flex items-baseline mt-0.5 font-medium",3,"color",4,"ngIf"],["class","mt-8 -mb-4",3,"appearance","showIcon","type",4,"ngIf"],["id","access-verifik-form",1,"mt-8",3,"formGroup"],["signUpNgForm","ngForm"],["class","w-full",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["class","w-full mr-2",4,"ngIf"],["class","inline-flex items-end w-full mt-1.5",4,"ngIf"],["mat-flat-button","",1,"fuse-mat-button-large","w-full","mt-6",3,"disabled","id","click"],[3,"diameter","mode",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center",1,"w-full","text-center","mt-6"],[3,"colorText"],[1,"ml-1","text-primary-500","hover:underline","cursor-pointer",3,"routerLink"],[1,"mt-8","-mb-4",3,"appearance","showIcon","type"],[1,"w-full"],["id","fullName","matInput","",3,"formControlName"],[1,"w-full","mr-2"],["id","firstName","matInput","",3,"formControlName"],["id","lastName","matInput","",3,"formControlName"],["id","email","matInput","",3,"formControlName","input"],["class","mr-1.5","matPrefix","",3,"formControl",4,"ngIf"],["id","phone","matInput","",3,"formControlName","input"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"flex","items-center"],[1,"sm:mx-0.5","font-medium","text-default"],[4,"ngFor","ngForOf"],[3,"value"],[1,"ml-2"],[1,"ml-2","font-medium"],["id","company-confirm","matInput","",3,"formControlName"],[1,"inline-flex","items-end","w-full","mt-1.5"],[1,"-ml-2",3,"color","formControlName"],["class","ml-1 text-primary-500 hover:underline",3,"href",4,"ngIf"],[1,"ml-1","text-primary-500","hover:underline",3,"href"],[3,"diameter","mode"],["fxLayout","column","fxLayoutAlign","start center",1,"w-full","sm:w-auto","py-8","lg:px-4","sm:p-12","xs:m-2"],["class","w-400 mx-auto sm:mx-0","fxLayout","column","fxLayoutAlign","start center",4,"ngIf"],[1,"w-full","text-center","mt-6"],[3,"colorText",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start center",1,"w-400","mx-auto","sm:mx-0"],["fxLayout","column","fxLayoutAlign","start center"],["src","https://cdn.verifik.co/access/goldcoins3x.png","alt","",1,"w-36"],[1,"pt-2","credits-h2"],[1,"credits-h3"],["fxLayout","column","fxLayoutAlign","center center",1,"w-full"],["mat-stroked-button","","color","primary",1,"w-11/12","mt-4","biometrics-button",3,"click"],[1,"mt-4","text-4xl","font-extrabold","tracking-tight","leading-tight"],["src","https://cdn.verifik.co/access/divider.svg","alt","",1,"w-full","pb-8","pt-8"],["src","https://cdn.verifik.co/access/biometrics_icon.svg","alt","",1,"w-28"],["fxLayoutAlign","center center","class","w-full h-full mb-6",4,"ngIf"],["fxLayoutAlign","center center",1,"w-full","h-full","mb-6"],[1,"md:flex","md:items-center","md:justify-end","w-full","sm:w-auto","md:h-full","md:w-1/2","py-8","px-4","sm:p-12","md:p-16","sm:rounded-2xl","md:rounded-none","sm:shadow","md:shadow-none","sm:bg-card"],[1,"w-full","max-w-80","sm:w-80","mx-auto","sm:mx-0"],[1,"w-12"],[3,"src"],["fxLayout","row",1,"relative","hidden","md:flex","flex-auto","justify-center","h-full","overflow-hidden","dark:border-r","w-full",3,"fxLayoutAlign"],["alt","",1,"hhalf-width-image",3,"src"]],template:function(i,r){1&i&&t.YNc(0,bt,6,6,"div",0),2&i&&t.Q6J("ngIf",r.project&&r.signUpForm)},dependencies:[y.o9,U.xw,U.Wh,_.rH,d.O5,T.W,s.u5,s._Y,s.Fj,s.JJ,s.JL,s.UX,s.oH,s.sg,s.u,m.lN,m.KE,m.hX,m.TO,m.qo,x.c,x.Nt,f.ot,f.lW,w.Ps,h.p9,h.oG,v.Cq,v.Ou,Z.y4,Z.Ot,d.ez,d.sg,u.LD,u.gD,u.$L,Q.ey,L.v],styles:[".main-logo{position:absolute;top:10px;left:20px;z-index:0}.w-400{width:400px!important}bg-white{background-color:#fff}.sign-in-content{z-index:2!important}.credits-h2{font-size:24px;text-align:center}.credits-h3{font-size:16px;text-align:center;font-weight:600;color:gray}.biometrics-button{background-color:#82269e;color:#fff!important}mat-form-field{padding-right:4px!important}.mat-mdc-tab-label-container{margin:0!important}mat-tab-body .mat-mdc-tab-body-content{padding:8px 0 5px!important}.w-120px{width:60%!important}.half-width-image{width:50vw;object-fit:fill;height:100%}\n"],encapsulation:2,data:{animation:N.L}})}return e})()}]}}]);